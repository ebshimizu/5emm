import{i as na,e as Zn,r as We,a as De,o as po,d as ho,t as mo,w as pt,R as ra,h as Xe,s as xn,f as oa,g as aa,Q as kn,j as go,k as Qn,l as ia,u as sa,m as An,n as er,p as cr,q as vn,v as la,x as ua,y as ca,z as Jn,A as fa,B as mn,C as da,D as pa,E as Bn,F as tr,G as jr,H as nr,T as ha,I as ma,K as ga,J as ya,L as ba,M as va,_ as an,N as wa,O as Sa,P as sn,S as It,U as _t,V as je,W as xt,X as Me,Y as me,Z as K,$ as dt,a0 as ee,a1 as $t,a2 as _e,a3 as Bt,a4 as kt,a5 as jt,a6 as Ht,a7 as Nt,a8 as Ge,a9 as wr,aa as vt,ab as Mn,ac as Tn,ad as Ct,ae as yo,af as Gn,ag as Ft,ah as Sr,ai as En,aj as Hn,ak as $a,al as xa,am as _a,an as st,ao as ka,ap as ln,aq as bo,ar as Ea,as as Ca,at as Aa,au as rr,av as Ma,aw as Ta,ax as gn,ay as La,az as Ia,aA as or,aB as Pa,aC as Ra,aD as Oa,aE as _n,aF as vo,aG as Da,aH as wo,aI as So,aJ as $o,aK as ja,aL as Na,aM as Nr}from"./index.7cc2e6d9.js";import{Q as Ba,a as Ua,b as Fa,c as qa,d as Wa,e as za,f as Ha}from"./QLayout.eb37f156.js";import{Q as Br}from"./QMarkupTable.52c59982.js";import{g as Ur,s as Fr,C as bt}from"./TouchPan.612a687f.js";import{r as Va,c as Ya,Q as yn,a as Vt,b as tn,d as et,e as Ue,f as rt,g as xo}from"./use-dialog-plugin-component.e99688d4.js";import{Q as _o}from"./QTooltip.480b07b8.js";import{u as Qa,A as Ja}from"./useCr.b987c8cd.js";import{A as Ga,G as Xa}from"./AppDrawer.50a5aad7.js";import{s as Ka,d as Yt}from"./download.223253d2.js";import{Q as Za,u as ei,a as ti,t as ni}from"./RECHARGE_TIME.56b4e339.js";import{u as ko,D as ri,Q as oi}from"./QBadge.d4d27a61.js";let ai=0;const ii=["click","keydown"],si={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${ai++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function li(e,t,r,o){const l=na(mo,Zn);if(l===Zn)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Zn;const{proxy:s}=Qn(),i=We(null),d=We(null),p=We(null),u=De(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),a=De(()=>l.currentModel.value===e.name),c=De(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(a.value===!0?" q-tab--active"+(l.tabProps.value.activeClass?" "+l.tabProps.value.activeClass:"")+(l.tabProps.value.activeColor?` text-${l.tabProps.value.activeColor}`:"")+(l.tabProps.value.activeBgColor?` bg-${l.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&l.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||l.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(o!==void 0?o.linkClass.value:"")),h=De(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(l.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),b=De(()=>e.disable===!0||l.hasFocus.value===!0||a.value===!1&&l.hasActiveTab.value===!0?-1:e.tabindex||0);function y(x,S){var w;if(S!==!0&&(x==null?void 0:x.qAvoidFocus)!==!0&&((w=i.value)==null||w.focus()),e.disable===!0){(o==null?void 0:o.hasRouterLink.value)===!0&&xn(x);return}if(o===void 0){l.updateModel({name:e.name}),r("click",x);return}if(o.hasRouterLink.value===!0){const _=(L={})=>{let O;const Q=L.to===void 0||ia(L.to,e.to)===!0?l.avoidRouteWatcher=sa():null;return o.navigateToRouterLink(x,{...L,returnRouterError:!0}).catch(P=>{O=P}).then(P=>{var T;if(Q===l.avoidRouteWatcher&&(l.avoidRouteWatcher=!1,O===void 0&&(P===void 0||((T=P.message)==null?void 0:T.startsWith("Avoided redundant navigation"))===!0)&&l.updateModel({name:e.name})),L.returnRouterError===!0)return O!==void 0?Promise.reject(O):P})};r("click",x,_),x.defaultPrevented!==!0&&_();return}r("click",x)}function f(x){oa(x,[13,32])?y(x,!0):aa(x)!==!0&&x.keyCode>=35&&x.keyCode<=40&&x.altKey!==!0&&x.metaKey!==!0&&l.onKbdNavigate(x.keyCode,s.$el)===!0&&xn(x),r("keydown",x)}function m(){const x=l.tabProps.value.narrowIndicator,S=[],w=Xe("div",{ref:p,class:["q-tab__indicator",l.tabProps.value.indicatorClass]});e.icon!==void 0&&S.push(Xe(kn,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&S.push(Xe("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&S.push(e.alertIcon!==void 0?Xe(kn,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):Xe("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),x===!0&&S.push(w);const _=[Xe("div",{class:"q-focus-helper",tabindex:-1,ref:i}),Xe("div",{class:h.value},go(t.default,S))];return x===!1&&_.push(w),_}const E={name:De(()=>e.name),rootRef:d,tabIndicatorRef:p,routeData:o};po(()=>{l.unregisterTab(E)}),ho(()=>{l.registerTab(E)});function k(x,S){const w={ref:d,class:c.value,tabindex:b.value,role:"tab","aria-selected":a.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:y,onKeydown:f,...S};return pt(Xe(x,w,m()),[[ra,u.value]])}return{renderTab:k,$tabs:l}}var ui=An({name:"QTab",props:si,emits:ii,setup(e,{slots:t,emit:r}){const{renderTab:o}=li(e,t,r);return()=>o("div")}});function ci(e,t,r){const o=r===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?o[0]:o[1]}${e?` text-${e}`:""}`}const fi=["left","center","right","justify"];var di=An({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>fi.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:r}){const{proxy:o}=Qn(),{$q:l}=o,{registerTick:s}=er(),{registerTick:i}=er(),{registerTick:d}=er(),{registerTimeout:p,removeTimeout:u}=cr(),{registerTimeout:a,removeTimeout:c}=cr(),h=We(null),b=We(null),y=We(e.modelValue),f=We(!1),m=We(!0),E=We(!1),k=We(!1),x=[],S=We(0),w=We(!1);let _=null,L=null,O;const Q=De(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:ci(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),P=De(()=>{const fe=S.value,we=y.value;for(let $e=0;$e<fe;$e++)if(x[$e].name.value===we)return!0;return!1}),T=De(()=>`q-tabs__content--align-${f.value===!0?"left":k.value===!0?"justify":e.align}`),B=De(()=>`q-tabs row no-wrap items-center q-tabs--${f.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),N=De(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+T.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),X=De(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),W=De(()=>e.vertical!==!0&&l.lang.rtl===!0),ne=De(()=>Va===!1&&W.value===!0);vn(W,I),vn(()=>e.modelValue,fe=>{D({name:fe,setCurrent:!0,skipEmit:!0})}),vn(()=>e.outsideArrows,z);function D({name:fe,setCurrent:we,skipEmit:$e}){y.value!==fe&&($e!==!0&&e["onUpdate:modelValue"]!==void 0&&r("update:modelValue",fe),(we===!0||e["onUpdate:modelValue"]===void 0)&&(V(y.value,fe),y.value=fe))}function z(){s(()=>{h.value&&j({width:h.value.offsetWidth,height:h.value.offsetHeight})})}function j(fe){if(X.value===void 0||b.value===null)return;const we=fe[X.value.container],$e=Math.min(b.value[X.value.scroll],Array.prototype.reduce.call(b.value.children,(Pe,Ce)=>Pe+(Ce[X.value.content]||0),0)),Re=we>0&&$e>we;f.value=Re,Re===!0&&i(I),k.value=we<parseInt(e.breakpoint,10)}function V(fe,we){const $e=fe!=null&&fe!==""?x.find(Pe=>Pe.name.value===fe):null,Re=we!=null&&we!==""?x.find(Pe=>Pe.name.value===we):null;if(tt===!0)tt=!1;else if($e&&Re){const Pe=$e.tabIndicatorRef.value,Ce=Re.tabIndicatorRef.value;_!==null&&(clearTimeout(_),_=null),Pe.style.transition="none",Pe.style.transform="none",Ce.style.transition="none",Ce.style.transform="none";const Te=Pe.getBoundingClientRect(),Ve=Ce.getBoundingClientRect();Ce.style.transform=e.vertical===!0?`translate3d(0,${Te.top-Ve.top}px,0) scale3d(1,${Ve.height?Te.height/Ve.height:1},1)`:`translate3d(${Te.left-Ve.left}px,0,0) scale3d(${Ve.width?Te.width/Ve.width:1},1,1)`,d(()=>{_=setTimeout(()=>{_=null,Ce.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Ce.style.transform="none"},70)})}Re&&f.value===!0&&C(Re.rootRef.value)}function C(fe){const{left:we,width:$e,top:Re,height:Pe}=b.value.getBoundingClientRect(),Ce=fe.getBoundingClientRect();let Te=e.vertical===!0?Ce.top-Re:Ce.left-we;if(Te<0){b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(Te),I();return}Te+=e.vertical===!0?Ce.height-Pe:Ce.width-$e,Te>0&&(b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(Te),I())}function I(){const fe=b.value;if(fe===null)return;const we=fe.getBoundingClientRect(),$e=e.vertical===!0?fe.scrollTop:Math.abs(fe.scrollLeft);W.value===!0?(m.value=Math.ceil($e+we.width)<fe.scrollWidth-1,E.value=$e>0):(m.value=$e>0,E.value=e.vertical===!0?Math.ceil($e+we.height)<fe.scrollHeight:Math.ceil($e+we.width)<fe.scrollWidth)}function U(fe){L!==null&&clearInterval(L),L=setInterval(()=>{ie(fe)===!0&&ue()},5)}function J(){U(ne.value===!0?Number.MAX_SAFE_INTEGER:0)}function oe(){U(ne.value===!0?0:Number.MAX_SAFE_INTEGER)}function ue(){L!==null&&(clearInterval(L),L=null)}function de(fe,we){const $e=Array.prototype.filter.call(b.value.children,Ve=>Ve===we||Ve.matches&&Ve.matches(".q-tab.q-focusable")===!0),Re=$e.length;if(Re===0)return;if(fe===36)return C($e[0]),$e[0].focus(),!0;if(fe===35)return C($e[Re-1]),$e[Re-1].focus(),!0;const Pe=fe===(e.vertical===!0?38:37),Ce=fe===(e.vertical===!0?40:39),Te=Pe===!0?-1:Ce===!0?1:void 0;if(Te!==void 0){const Ve=W.value===!0?-1:1,lt=$e.indexOf(we)+Te*Ve;return lt>=0&&lt<Re&&(C($e[lt]),$e[lt].focus({preventScroll:!0})),!0}}const ye=De(()=>ne.value===!0?{get:fe=>Math.abs(fe.scrollLeft),set:(fe,we)=>{fe.scrollLeft=-we}}:e.vertical===!0?{get:fe=>fe.scrollTop,set:(fe,we)=>{fe.scrollTop=we}}:{get:fe=>fe.scrollLeft,set:(fe,we)=>{fe.scrollLeft=we}});function ie(fe){const we=b.value,{get:$e,set:Re}=ye.value;let Pe=!1,Ce=$e(we);const Te=fe<Ce?-1:1;return Ce+=Te*5,Ce<0?(Pe=!0,Ce=0):(Te===-1&&Ce<=fe||Te===1&&Ce>=fe)&&(Pe=!0,Ce=fe),Re(we,Ce),I(),Pe}function g(fe,we){for(const $e in fe)if(fe[$e]!==we[$e])return!1;return!0}function $(){let fe=null,we={matchedLen:0,queryDiff:9999,hrefLen:0};const $e=x.filter(Te=>{var Ve;return((Ve=Te.routeData)==null?void 0:Ve.hasRouterLink.value)===!0}),{hash:Re,query:Pe}=o.$route,Ce=Object.keys(Pe).length;for(const Te of $e){const Ve=Te.routeData.exact.value===!0;if(Te.routeData[Ve===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:lt,query:Pt,matched:wt,href:Ln}=Te.routeData.resolvedLink.value,ht=Object.keys(Pt).length;if(Ve===!0){if(lt!==Re||ht!==Ce||g(Pe,Pt)===!1)continue;fe=Te.name.value;break}if(lt!==""&&lt!==Re||ht!==0&&g(Pt,Pe)===!1)continue;const mt={matchedLen:wt.length,queryDiff:Ce-ht,hrefLen:Ln.length-lt.length};if(mt.matchedLen>we.matchedLen){fe=Te.name.value,we=mt;continue}else if(mt.matchedLen!==we.matchedLen)continue;if(mt.queryDiff<we.queryDiff)fe=Te.name.value,we=mt;else if(mt.queryDiff!==we.queryDiff)continue;mt.hrefLen>we.hrefLen&&(fe=Te.name.value,we=mt)}if(fe===null&&x.some(Te=>Te.routeData===void 0&&Te.name.value===y.value)===!0){tt=!1;return}D({name:fe,setCurrent:!0})}function A(fe){if(u(),w.value!==!0&&h.value!==null&&fe.target&&typeof fe.target.closest=="function"){const we=fe.target.closest(".q-tab");we&&h.value.contains(we)===!0&&(w.value=!0,f.value===!0&&C(we))}}function H(){p(()=>{w.value=!1},30)}function q(){Ee.avoidRouteWatcher===!1?a($):c()}function G(){if(O===void 0){const fe=vn(()=>o.$route.fullPath,q);O=()=>{fe(),O=void 0}}}function le(fe){x.push(fe),S.value++,z(),fe.routeData===void 0||o.$route===void 0?a(()=>{if(f.value===!0){const we=y.value,$e=we!=null&&we!==""?x.find(Re=>Re.name.value===we):null;$e&&C($e.rootRef.value)}}):(G(),fe.routeData.hasRouterLink.value===!0&&q())}function ve(fe){x.splice(x.indexOf(fe),1),S.value--,z(),O!==void 0&&fe.routeData!==void 0&&(x.every(we=>we.routeData===void 0)===!0&&O(),q())}const Ee={currentModel:y,tabProps:Q,hasFocus:w,hasActiveTab:P,registerTab:le,unregisterTab:ve,verifyRouteModel:q,updateModel:D,onKbdNavigate:de,avoidRouteWatcher:!1};la(mo,Ee);function He(){_!==null&&clearTimeout(_),ue(),O==null||O()}let ke,tt;return po(He),ua(()=>{ke=O!==void 0,He()}),ca(()=>{ke===!0&&(G(),tt=!0,q()),z()}),()=>Xe("div",{ref:h,class:B.value,role:"tablist",onFocusin:A,onFocusout:H},[Xe(Ba,{onResize:j}),Xe("div",{ref:b,class:N.value,onScroll:I},Jn(t.default)),Xe(kn,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(m.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||l.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:J,onTouchstartPassive:J,onMouseupPassive:ue,onMouseleavePassive:ue,onTouchendPassive:ue}),Xe(kn,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(E.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||l.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:oe,onTouchstartPassive:oe,onMouseupPassive:ue,onMouseleavePassive:ue,onTouchendPassive:ue})])}});function pi(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((r,o)=>{const l=parseFloat(r);l&&(t[o]=l)}),t}var hi=fa({name:"touch-swipe",beforeMount(e,{value:t,arg:r,modifiers:o}){if(o.mouse!==!0&&mn.has.touch!==!0)return;const l=o.mouseCapture===!0?"Capture":"",s={handler:t,sensitivity:pi(r),direction:Ur(o),noop:da,mouseStart(i){Fr(i,s)&&pa(i)&&(Bn(s,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),s.start(i,!0))},touchStart(i){if(Fr(i,s)){const d=i.target;Bn(s,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","notPassiveCapture"],[d,"touchend","end","notPassiveCapture"]]),s.start(i)}},start(i,d){mn.is.firefox===!0&&tr(e,!0);const p=jr(i);s.event={x:p.left,y:p.top,time:Date.now(),mouse:d===!0,dir:!1}},move(i){if(s.event===void 0)return;if(s.event.dir!==!1){xn(i);return}const d=Date.now()-s.event.time;if(d===0)return;const p=jr(i),u=p.left-s.event.x,a=Math.abs(u),c=p.top-s.event.y,h=Math.abs(c);if(s.event.mouse!==!0){if(a<s.sensitivity[1]&&h<s.sensitivity[1]){s.end(i);return}}else if(window.getSelection().toString()!==""){s.end(i);return}else if(a<s.sensitivity[2]&&h<s.sensitivity[2])return;const b=a/d,y=h/d;s.direction.vertical===!0&&a<h&&a<100&&y>s.sensitivity[0]&&(s.event.dir=c<0?"up":"down"),s.direction.horizontal===!0&&a>h&&h<100&&b>s.sensitivity[0]&&(s.event.dir=u<0?"left":"right"),s.direction.up===!0&&a<h&&c<0&&a<100&&y>s.sensitivity[0]&&(s.event.dir="up"),s.direction.down===!0&&a<h&&c>0&&a<100&&y>s.sensitivity[0]&&(s.event.dir="down"),s.direction.left===!0&&a>h&&u<0&&h<100&&b>s.sensitivity[0]&&(s.event.dir="left"),s.direction.right===!0&&a>h&&u>0&&h<100&&b>s.sensitivity[0]&&(s.event.dir="right"),s.event.dir!==!1?(xn(i),s.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ya(),s.styleCleanup=f=>{s.styleCleanup=void 0,document.body.classList.remove("non-selectable");const m=()=>{document.body.classList.remove("no-pointer-events--children")};f===!0?setTimeout(m,50):m()}),s.handler({evt:i,touch:s.event.mouse!==!0,mouse:s.event.mouse,direction:s.event.dir,duration:d,distance:{x:a,y:h}})):s.end(i)},end(i){var d;s.event!==void 0&&(nr(s,"temp"),mn.is.firefox===!0&&tr(e,!1),(d=s.styleCleanup)==null||d.call(s,!0),i!==void 0&&s.event.dir!==!1&&xn(i),s.event=void 0)}};if(e.__qtouchswipe=s,o.mouse===!0){const i=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Bn(s,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}mn.has.touch===!0&&Bn(s,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const r=e.__qtouchswipe;r!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&r.end(),r.handler=t.value),r.direction=Ur(t.modifiers))},beforeUnmount(e){var r;const t=e.__qtouchswipe;t!==void 0&&(nr(t,"main"),nr(t,"temp"),mn.is.firefox===!0&&tr(e,!1),(r=t.styleCleanup)==null||r.call(t),delete e.__qtouchswipe)}});function mi(){let e=Object.create(null);return{getCache:(t,r)=>e[t]===void 0?e[t]=typeof r=="function"?r():r:e[t],setCache(t,r){e[t]=r},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const gi={name:{required:!0},disable:Boolean},qr={setup(e,{slots:t}){return()=>Xe("div",{class:"q-panel scroll",role:"tabpanel"},Jn(t.default))}},yi={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},bi=["update:modelValue","beforeTransition","transition"];function vi(){const{props:e,emit:t,proxy:r}=Qn(),{getCache:o}=mi(),{registerTimeout:l}=cr();let s,i;const d=We(null),p={value:null};function u(X){const W=e.vertical===!0?"up":"left";O((r.$q.lang.rtl===!0?-1:1)*(X.direction===W?1:-1))}const a=De(()=>[[hi,u,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),c=De(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),h=De(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),b=De(()=>`--q-transition-duration: ${e.transitionDuration}ms`),y=De(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),f=De(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),m=De(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);vn(()=>e.modelValue,(X,W)=>{const ne=S(X)===!0?w(X):-1;i!==!0&&L(ne===-1?0:ne<w(W)?-1:1),p.value!==ne&&(p.value=ne,t("beforeTransition",X,W),l(()=>{t("transition",X,W)},e.transitionDuration))});function E(){O(1)}function k(){O(-1)}function x(X){t("update:modelValue",X)}function S(X){return X!=null&&X!==""}function w(X){return s.findIndex(W=>W.props.name===X&&W.props.disable!==""&&W.props.disable!==!0)}function _(){return s.filter(X=>X.props.disable!==""&&X.props.disable!==!0)}function L(X){const W=X!==0&&e.animated===!0&&p.value!==-1?"q-transition--"+(X===-1?c.value:h.value):null;d.value!==W&&(d.value=W)}function O(X,W=p.value){let ne=W+X;for(;ne!==-1&&ne<s.length;){const D=s[ne];if(D!==void 0&&D.props.disable!==""&&D.props.disable!==!0){L(X),i=!0,t("update:modelValue",D.props.name),setTimeout(()=>{i=!1});return}ne+=X}e.infinite===!0&&s.length!==0&&W!==-1&&W!==s.length&&O(X,X===-1?s.length:-1)}function Q(){const X=w(e.modelValue);return p.value!==X&&(p.value=X),!0}function P(){const X=S(e.modelValue)===!0&&Q()&&s[p.value];return e.keepAlive===!0?[Xe(ga,f.value,[Xe(m.value===!0?o(y.value,()=>({...qr,name:y.value})):qr,{key:y.value,style:b.value},()=>X)])]:[Xe("div",{class:"q-panel scroll",style:b.value,key:y.value,role:"tabpanel"},[X])]}function T(){if(s.length!==0)return e.animated===!0?[Xe(ha,{name:d.value},P)]:P()}function B(X){return s=ma(Jn(X.default,[])).filter(W=>W.props!==null&&W.props.slot===void 0&&S(W.props.name)===!0),s.length}function N(){return s}return Object.assign(r,{next:E,previous:k,goTo:x}),{panelIndex:p,panelDirectives:a,updatePanelsList:B,updatePanelIndex:Q,getPanelContent:T,getEnabledPanels:_,getPanels:N,isValidPanelName:S,keepAliveProps:f,needsUniqueKeepAliveWrapper:m,goToPanelByOffset:O,goToPanel:x,nextPanel:E,previousPanel:k}}var wi=An({name:"QTabPanel",props:gi,setup(e,{slots:t}){return()=>Xe("div",{class:"q-tab-panel",role:"tabpanel"},Jn(t.default))}}),Si=An({name:"QTabPanels",props:{...yi,...ya},emits:bi,setup(e,{slots:t}){const r=Qn(),o=ba(e,r.proxy.$q),{updatePanelsList:l,getPanelContent:s,panelDirectives:i}=vi(),d=De(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(l(t),va("div",{class:d.value},s(),"pan",e.swipeable,()=>i.value))}});const $i={name:"QMenuHover",props:{debounceTime:{type:Number,default:50}},data(){return{menu:!1,activatorHover:!1,menuHover:!1,debounceMenu:null}},computed:{activatorAttr(){return{onMouseenter:()=>this.activatorHover=!0,onMouseleave:()=>this.activatorHover=!1}},menuAttr(){return{modelValue:this.menu,onMouseenter:()=>this.menuHover=!0,onMouseleave:()=>this.menuHover=!1}}},watch:{menuHover(){this.debounceMenu()},activatorHover(){this.debounceMenu()}},created(){this.debounceMenu=wa(this.checkMenu,this.debounceTime)},methods:{checkMenu(){this.menu=this.activatorHover||this.menuHover}}};function xi(e,t,r,o,l,s){return Sa(e.$slots,"default",{activatorAttr:s.activatorAttr,menuAttr:s.menuAttr})}var _i=an($i,[["render",xi]]);const ki=sn({name:"CrFooter",components:{MenuHover:_i},setup(){const e=It(),t=Qa(),r=We(!1),o=We(0);return{crData:t,damageInfo:r,dprTab:o,monsterStore:e,avgHp:De(()=>e.avgHp),ac:De(()=>e.AC)}}}),Ei={class:"cr-footer full-width q-pa-sm"},Ci={class:"big text-overline text-uppercase"},Ai={class:"text-h3 q-ml-sm"},Mi={class:"split"},Ti={class:"top"},Li={class:"small text-overline"},Ii={class:"text-h5 q-ml-2 cr"},Pi={class:"bot"},Ri={class:"text-overline"},Oi={class:"text-h5 q-ml-2 cr"},Di={class:"split chips text-weight-bold cursor-pointer"},ji={class:"top"},Ni={class:"text-h6"},Bi={class:"text-subtitle2 text-grey-5"},Ui={class:"text-overline text-uppercase text-white"},Fi={class:"text-h6"},qi={class:"text-subtitle2 text-grey-5"},Wi={class:"text-h6"},zi={class:"text-subtitle2 text-grey-5"},Hi={class:"bot"},Vi={class:"text-h6"},Yi={class:"text-subtitle2 text-grey-5"},Qi={class:"text-h6"},Ji={class:"text-subtitle2 text-grey-5"};function Gi(e,t,r,o,l,s){const i=_t("menu-hover");return je(),xt("div",Ei,[Me("span",Ci,me(e.$t("editor.cr.estimated")),1),Me("span",Ai,me(e.crData.estimatedCr.value.cr),1),K(dt,{class:"q-mx-sm",vertical:""}),Me("div",Mi,[Me("div",Ti,[Me("span",Li,me(e.$t("editor.cr.offensive")),1),Me("span",Ii,me(e.crData.offensiveCr.value.cr),1)]),K(dt),Me("div",Pi,[Me("span",Ri,me(e.$t("editor.cr.defensive")),1),Me("span",Oi,me(e.crData.defensiveCr.value.cr),1)])]),K(dt,{class:"q-mx-sm",vertical:""}),Me("div",Di,[Me("div",ji,[K(i,null,{default:ee(({activatorAttr:d,menuAttr:p})=>[K(yn,$t(d,{color:"red-10",icon:"mdi-sword-cross"}),{default:ee(()=>[_e(me(Math.floor(e.crData.damagePerRound.value))+" ( "+me(e.crData.damageCr.value.cr)+" CR) ",1),K(Vt,$t(p,{offset:[0,2]}),{default:ee(()=>[K(Bt,{style:{width:"350px"},class:"q-mx-auto",bordered:""},{default:ee(()=>[K(kt,null,{default:ee(()=>[Me("div",Ni,me(e.$t("editor.cr.avgDamage",[Math.floor(e.crData.damagePerRound.value)])),1),Me("div",Bi," CR "+me(e.crData.damageCr.value.cr)+": "+me(e.crData.damageCr.value.dprMin)+" - "+me(e.crData.damageCr.value.dprMax),1)]),_:1}),K(di,{modelValue:e.dprTab,"onUpdate:modelValue":t[0]||(t[0]=u=>e.dprTab=u),class:"bg-red-10",align:"justify"},{default:ee(()=>[(je(!0),xt(jt,null,Ht(e.crData.actionSequence.value,(u,a)=>(je(),Ge(ui,{key:a,name:a,label:e.$t("editor.cr.round",[a+1])},null,8,["name","label"]))),128))]),_:1},8,["modelValue"]),K(dt),K(Si,{modelValue:e.dprTab,"onUpdate:modelValue":t[1]||(t[1]=u=>e.dprTab=u),animated:""},{default:ee(()=>[(je(!0),xt(jt,null,Ht(e.crData.actionSequence.value,(u,a)=>(je(),Ge(wi,{key:a,name:a,style:{padding:"0px"}},{default:ee(()=>[K(tn,null,{default:ee(()=>[K(rt,{header:""},{default:ee(()=>[Me("div",Ui,me(e.$t("editor.cr.totalDamage",[Math.floor(u.totalDamage)])),1)]),_:2},1024),K(dt,{class:"q-mb-sm"}),(je(!0),xt(jt,null,Ht(u.actions,(c,h)=>(je(),Ge(et,{key:`${c.name}-${c.type}-${h}`,class:"q-pb-md q-px-md"},{default:ee(()=>[K(Ue,{avatar:""},{default:ee(()=>[K(Nt,{color:e.crData.actionTypeColor(c.type),"font-size":"14px"},{default:ee(()=>[_e(me(Math.floor(c.damage)),1)]),_:2},1032,["color"])]),_:2},1024),K(Ue,null,{default:ee(()=>[K(rt,null,{default:ee(()=>[_e(me(c.name),1)]),_:2},1024),K(rt,{caption:"",lines:"1"},{default:ee(()=>[_e(me(e.$t(`editor.cr.type.${c.type}`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},16)]),_:2},1040)]),_:1}),K(i,null,{default:ee(({activatorAttr:d,menuAttr:p})=>[K(yn,$t(d,{color:e.crData.attackChipColor.value,icon:"mdi-bullseye-arrow"}),{default:ee(()=>[_e(me(e.crData.maxAttackRender.value)+" ( "+me(e.crData.attackCrDelta.value)+" CR) ",1),K(Vt,$t(p,{offset:[0,2]}),{default:ee(()=>[K(Bt,{style:{width:"350px"},class:"q-mx-auto",bordered:""},{default:ee(()=>[K(kt,null,{default:ee(()=>[Me("div",Fi,me(e.$t("editor.cr.maxAttack",[e.crData.maxAttackRender.value])),1),Me("div",qi,me(e.crData.attackCrExplain.value),1)]),_:1}),K(dt,{class:"q-mb-sm"}),K(tn,null,{default:ee(()=>[(je(!0),xt(jt,null,Ht(e.crData.filteredToHitActions.value,(u,a)=>(je(),Ge(et,{key:`${u.name}-${u.type}-${a}`,class:"q-pb-md q-px-md"},{default:ee(()=>[K(Ue,{avatar:""},{default:ee(()=>[K(Nt,{color:e.crData.actionTypeColor(u.type),"font-size":"14px"},{default:ee(()=>[_e(me(u.toHitRender),1)]),_:2},1032,["color"])]),_:2},1024),K(Ue,null,{default:ee(()=>[K(rt,null,{default:ee(()=>[_e(me(u.name),1)]),_:2},1024),K(rt,{caption:"",lines:"1"},{default:ee(()=>[_e(me(e.$t(`editor.cr.type.${u.type}`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),K(et,null,{default:ee(()=>[K(Ue,null,{default:ee(()=>[_e(me(e.$t("editor.cr.attackActionsBelowThreshold",{n:e.crData.actionsBelowThreshold.value})),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},16)]),_:2},1040,["color"])]),_:1}),K(i,null,{default:ee(({activatorAttr:d,menuAttr:p})=>[K(yn,$t(d,{color:e.crData.dcChipColor.value,icon:"fa-solid fa-wand-sparkles"}),{default:ee(()=>[_e(me(e.crData.maxDc.value)+" ( "+me(e.crData.attackCrDelta.value)+" CR) ",1),K(Vt,$t(p,{offset:[0,2]}),{default:ee(()=>[K(Bt,{style:{width:"350px"},class:"q-mx-auto",bordered:""},{default:ee(()=>[K(kt,null,{default:ee(()=>[Me("div",Wi,me(e.$t("editor.cr.maxDc",[e.crData.maxDc.value])),1),Me("div",zi,me(e.crData.dcCrExplain.value),1)]),_:1}),K(dt,{class:"q-mb-sm"}),K(tn,null,{default:ee(()=>[(je(!0),xt(jt,null,Ht(e.crData.filteredDcActions.value,(u,a)=>(je(),Ge(et,{key:`${u.name}-${u.type}-${a}`,class:"q-pb-md q-px-md"},{default:ee(()=>[K(Ue,{avatar:""},{default:ee(()=>[K(Nt,{color:e.crData.actionTypeColor(u.type),"font-size":"14px"},{default:ee(()=>[_e(me(u.save),1)]),_:2},1032,["color"])]),_:2},1024),K(Ue,null,{default:ee(()=>[K(rt,null,{default:ee(()=>[_e(me(u.name),1)]),_:2},1024),K(rt,{caption:"",lines:"1"},{default:ee(()=>[_e(me(e.$t(`editor.cr.type.${u.type}`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),K(et,null,{default:ee(()=>[K(Ue,null,{default:ee(()=>[_e(me(e.$t("editor.cr.dcActionsBelowThreshold",{n:e.crData.dcsBelowThreshold.value})),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},16)]),_:2},1040,["color"])]),_:1})]),Me("div",Hi,[K(i,null,{default:ee(({activatorAttr:d,menuAttr:p})=>[K(yn,$t(d,{color:"green-8",icon:"mdi-hospital"}),{default:ee(()=>[_e(me(Math.floor(e.crData.ehp.value))+" (CR "+me(e.crData.hpCr.value.cr)+") ",1),K(Vt,$t(p,{offset:[0,2]}),{default:ee(()=>[K(Bt,{style:{width:"350px"},class:"q-mx-auto",bordered:""},{default:ee(()=>[K(kt,null,{default:ee(()=>[Me("div",Vi,me(e.$t("editor.cr.ehp",[Math.floor(e.crData.ehp.value)])),1),Me("div",Yi," CR "+me(e.crData.hpCr.value.cr)+": "+me(e.crData.hpCr.value.hpMin)+" - "+me(e.crData.hpCr.value.hpMax),1)]),_:1}),K(dt,{class:"q-mb-sm"}),K(tn,null,{default:ee(()=>[K(et,{class:"q-pb-md q-px-md"},{default:ee(()=>[K(Ue,{avatar:""},{default:ee(()=>[K(Nt,{color:e.crData.actionTypeColor("HP"),"font-size":"14px"},{default:ee(()=>[_e(me(e.avgHp),1)]),_:1},8,["color"])]),_:1}),K(Ue,null,{default:ee(()=>[K(rt,null,{default:ee(()=>[_e(me(e.$t("editor.cr.baseHp")),1)]),_:1})]),_:1})]),_:1}),(je(!0),xt(jt,null,Ht(e.crData.ehpModifierList.value,(u,a)=>(je(),Ge(et,{key:`${u.title}-${u.type}-${a}`,class:"q-pb-md q-px-md"},{default:ee(()=>[K(Ue,{avatar:""},{default:ee(()=>[K(Nt,{color:e.crData.actionTypeColor(u.type),"font-size":"14px"},{default:ee(()=>[_e(me(u.value),1)]),_:2},1032,["color"])]),_:2},1024),K(Ue,null,{default:ee(()=>[K(rt,null,{default:ee(()=>[_e(me(u.title),1)]),_:2},1024),K(rt,{caption:"",lines:"1"},{default:ee(()=>[_e(me(u.subtitle),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},16)]),_:2},1040)]),_:1}),K(i,null,{default:ee(({activatorAttr:d,menuAttr:p})=>[K(yn,$t(d,{color:"green-8",icon:"shield"}),{default:ee(()=>[_e(me(Math.floor(e.crData.eac.value))+" ( "+me(e.crData.acCrDelta.value)+" CR) ",1),K(Vt,$t(p,{offset:[0,2]}),{default:ee(()=>[K(Bt,{style:{width:"350px"},class:"q-mx-auto",bordered:""},{default:ee(()=>[K(kt,null,{default:ee(()=>[Me("div",Qi,me(e.$t("editor.cr.eac",[Math.floor(e.crData.eac.value)])),1),Me("div",Ji,me(e.crData.acCrExplain.value),1)]),_:1}),K(dt,{class:"q-mb-sm"}),K(tn,null,{default:ee(()=>[K(et,{class:"q-pb-md q-px-md"},{default:ee(()=>[K(Ue,{avatar:""},{default:ee(()=>[K(Nt,{color:e.crData.actionTypeColor("HP"),"font-size":"14px"},{default:ee(()=>[_e(me(e.ac),1)]),_:1},8,["color"])]),_:1}),K(Ue,null,{default:ee(()=>[K(rt,null,{default:ee(()=>[_e(me(e.$t("editor.cr.baseAc")),1)]),_:1}),e.ac<12?(je(),Ge(rt,{key:0,caption:"",lines:"1"},{default:ee(()=>[_e(me(e.$t("editor.cr.baseAcLow")),1)]),_:1})):wr("",!0)]),_:1})]),_:1}),(je(!0),xt(jt,null,Ht(e.crData.eacModifierList.value,(u,a)=>(je(),Ge(et,{key:`${u.title}-${u.type}-${a}`,class:"q-pb-md q-px-md"},{default:ee(()=>[K(Ue,{avatar:""},{default:ee(()=>[K(Nt,{color:e.crData.actionTypeColor(u.type),"font-size":"14px"},{default:ee(()=>[_e(me(u.value),1)]),_:2},1032,["color"])]),_:2},1024),K(Ue,null,{default:ee(()=>[K(rt,null,{default:ee(()=>[_e(me(u.title),1)]),_:2},1024),K(rt,{caption:"",lines:"1"},{default:ee(()=>[_e(me(u.subtitle),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},16)]),_:2},1040)]),_:1})])]),K(dt,{class:"q-mx-sm",vertical:""}),Me("div",null,[K(vt,{push:"",icon:"mdi-arrow-decision-auto",color:e.monsterStore.autoEstimateDefenseCr?"positive":"dark",onClick:t[2]||(t[2]=d=>e.monsterStore.autoEstimateDefenseCr=!e.monsterStore.autoEstimateDefenseCr)},{default:ee(()=>[K(_o,{class:"text-body2"},{default:ee(()=>[...t[3]||(t[3]=[_e("Automatically Estimate Defensive CR",-1)])]),_:1})]),_:1},8,["color"])])])}var Xi=an(ki,[["render",Gi],["__scopeId","data-v-d41e4c54"]]);function Ki(){return new Promise(e=>{const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=async r=>{var o;!r.target||e((o=r.target.files)==null?void 0:o[0])},t.click()})}function Zi(){const e=It(),t=Mn(),{mdFormatter:r}=Tn(),{t:o}=Ct(),l=()=>{const k=t.traits.value;return e.traits.length===0?"":`${k.map(S=>`> ${r(S)}`).join(`
>
`)}
`},s=()=>{const k=`> ${r(t.innateSpellcastingPreamble.value)}`,x=t.innateSpellcastingLists.value.map(S=>`> ${S.renderedLabel} *${S.renderedSpells}*`);return`> ${k}
>
${x.join(`
`)}`},i=()=>{const k=[],x=e.knownSpellsOfLevel(0);return x.length>0&&k.push(`> ${o("editor.spellcasting.slot.cantripLabel")} *${x.join(", ")}*  `),t.classSpellcastingSlots.value.forEach(w=>{k.push(`> ${w.renderedLabel} *${w.renderedSpells}*  `)}),`
> ${r(t.classSpellcastingPreamble.value)}
>
${k.join(`
`)}`},d=()=>t.attacks.value.length===0?"":`
${t.attacks.value.map(x=>`> ${r(x)}`).join(`
>
`)}
>`,p=()=>t.actions.value.length===0?"":`
${t.actions.value.map(x=>`> ${r(x)}`).join(`
>
`)}
>`,u=()=>{if(t.bonusActions.value.length===0)return"";const k=t.bonusActions.value.map(x=>`> ${r(x)}`);return`
> ### ${o("monster.bonusActions")}
>
${k.join(`
>
`)}
>`},a=()=>{if(t.legendaryActions.value.length===0)return"";const k=`> ### ${o("editor.legendary.label")}
> ${r(t.legendaryPreamble.value)}`,x=t.legendaryActions.value.map(S=>`> ${r(S)}`);return`
${k}
>
${x.join(`
>
`)}
>`},c=()=>e.mythicActions.actions.length===0?"":`> ${r(t.mythicTrait.value)}
`,h=()=>{if(t.mythicActions.value.length===0)return"";const k=`> ### ${o("editor.mythic.label")}
> ${r(t.mythicPreamble.value)}`,S=t.mythicActions.value.map(w=>`> ${r(w)}`);return`
${k}
>
${S.join(`
>
`)}
>`},b=()=>{if(t.reactions.value.length===0)return"";const k=t.reactions.value.map(x=>`> ${r(x)}`);return`
> ### ${o("editor.reaction.label")}
${k.join(`
>
`)}
>`},y=()=>{if(e.lairActions.length===0)return"";const k=`> ### ${o("editor.lair.label")}
> ${r(t.lairActionPreamble.value)}`,x=t.lairActions.value.map(S=>`> - ${r(S)}`);return`
${k}
${x.join(`
`)}
`},f=()=>{if(e.regionalEffects.length===0)return"";const k=`> ### ${o("editor.regional.label")}
> ${t.regionalEffectPreamble.value}`,x=t.regionalEffects.value.map(S=>`> - ${r(S)}`);return`
${k}
${x.join(`
`)}`},m=()=>e.inventory===""?"":`> ### ${o("editor.inventory.label")}
> ${r(t.inventory.value)}`;return{renderMarkdown:(k=!1)=>{const x={};for(const J in e.stats)x[J]={score:e.stats[J],bonus:yo(e.stats[J])};const S=`
> - **${o("monster.saves")}** ${t.saves.value}`,w=e.skills.length===0?"":`
> - **${o("monster.skills")}** ${t.skills.value}`,_=e.vulnerabilities.length===0?"":`
> - **${o("monster.vulnerabilities")}** ${t.vulnerabilities.value}`,L=e.resistances.length===0?"":`
> - **${o("monster.resistances")}** ${t.resistances.value}`,O=e.immunities.length===0?"":`
> - **${o("monster.immunities")}** ${t.immunities.value}`,Q=e.conditions.length===0?"":`
> - **${o("monster.conditionImmunities")}** ${t.conditions.value}`,P=l(),T=c(),B=i(),N=s(),X=e.multiattacks.length===0?"":`
> ***Multiattack.*** ${r(t.multiattacks.value)}
>`,W=d(),ne=p(),D=u(),z=a(),j=h(),V=b(),C=y(),I=f(),U=m();return`___${k?`
___`:""}
> ## ${e.name}
>*${e.size} ${e.type}, ${e.alignment}*
> ___
> - **${o("monster.armorClass")}** ${e.AC} ${e.ACType===""?"":`(${e.ACType})`}
> - **${o("monster.hp.full")}** ${Gn(e.HP.HD,e.HP.type)+e.HP.modifier} (${e.HP.HD}d${e.HP.type}${Ft(e.HP.modifier)})
> - **${o("monster.movement.speed")}** ${e.speeds.map(J=>`${J.speed} ft. ${J.type}${J.note===""?"":J.note}`).join(", ")}
>___
>|STR|DEX|CON|INT|WIS|CHA|
>|:---:|:---:|:---:|:---:|:---:|:---:|
>|${x.STR.score} (${x.STR.bonus})|${x.DEX.score} (${x.DEX.bonus})|${x.CON.score} (${x.CON.bonus})|${x.INT.score} (${x.INT.bonus})|${x.WIS.score} (${x.WIS.bonus})|${x.CHA.score} (${x.CHA.bonus})|
>___${S!==""?S:""}${w}${_}${L}${O}${Q}
> - **${o("editor.senses.label")}** ${t.senses.value}
> - **${o("monster.languages")}** ${e.languages}
> - **${o("monster.challenge")}** ${t.cr.value}
>___
${P}${T}> ### ${o("editor.action.label")}${X}${W}${ne}${e.spellcasting.standard.length===0?"":`${B}
>`}${e.spellcasting.atWill.length===0?"":`${N}
>`}${D}${z}${j}${V}${C}${I}${U}`}}}function es(){const e=It(),t=Mn(),{mdFormatter:r}=Tn(),{t:o}=Ct(),l=()=>{const k=t.traits.value;return e.traits.length===0?"":`${k.map(S=>`${r(S)}`).join(`
:
`)}
`},s=()=>{const k=r(t.innateSpellcastingPreamble.value),x=t.innateSpellcastingLists.value.map(S=>`${S.renderedLabel}: *${S.renderedSpells}*`);return`
:
${k}
:
${x.join(`
`)}`},i=()=>{const k=[],x=e.knownSpellsOfLevel(0);return x.length>0&&k.push(`${o("editor.spellcasting.slot.cantripLabel")}: *${x.join(", ")}*  `),t.classSpellcastingSlots.value.forEach(w=>{k.push(`${w.renderedLabel} *${w.renderedSpells}*  `)}),`
:
${r(t.classSpellcastingPreamble.value)}
:
${k.join(`
`)}`},d=()=>t.attacks.value.length===0?"":`
${t.attacks.value.map(x=>r(x)).join(`
:
`)}`,p=()=>t.actions.value.length===0?"":`
:
${t.actions.value.map(x=>r(x)).join(`
:
`)}`,u=()=>{if(t.bonusActions.value.length===0)return"";const k=t.bonusActions.value.map(x=>`${r(x)}`);return`
### ${o("monster.bonusActions")}
${k.join(`
:
`)}
`},a=()=>{if(t.legendaryActions.value.length===0)return"";const k=`### ${o("editor.legendary.label")}
${r(t.legendaryPreamble.value)}`,x=t.legendaryActions.value.map(S=>r(S));return`
${k}
:
${x.join(`
:
`)}
`},c=()=>e.mythicActions.actions.length===0?"":`:
${r(t.mythicTrait.value)}
`,h=()=>{if(t.mythicActions.value.length===0)return"";const k=`### ${o("editor.mythic.label")}
${r(t.mythicPreamble.value)}`,S=t.mythicActions.value.map(w=>`${r(w)}`);return`
${k}
:
${S.join(`
:
`)}
`},b=()=>{if(t.reactions.value.length===0)return"";const k=t.reactions.value.map(x=>r(x));return`
### ${o("editor.reaction.label")}
${k.join(`
:
`)}
`},y=()=>{if(e.lairActions.length===0)return"";const k=`### ${o("editor.lair.label")}
${r(t.lairActionPreamble.value)}`,x=t.lairActions.value.map(S=>`- ${r(S)}`);return`
${k}
${x.join(`
`)}
`},f=()=>{if(e.regionalEffects.length===0)return"";const k=`### ${o("editor.regional.label")}
${t.regionalEffectPreamble.value}`,x=t.regionalEffects.value.map(S=>`- ${r(S)}`);return`
${k}
${x.join(`
`)}`},m=()=>e.inventory===""?"":`
### ${o("editor.inventory.label")}
${r(t.inventory.value)}`;return{renderMarkdownV3:(k=!1)=>{const x={};for(const J in e.stats)x[J]={score:e.stats[J],bonus:yo(e.stats[J])};const S=`**${o("monster.saves")}** :: ${t.saves.value}`,w=e.skills.length===0?"":`
**${o("monster.skills")}** :: ${t.skills.value}`,_=e.vulnerabilities.length===0?"":`
**${o("monster.vulnerabilities")}** :: ${t.vulnerabilities.value}`,L=e.resistances.length===0?"":`
**${o("monster.resistances")}** :: ${t.resistances.value}`,O=e.immunities.length===0?"":`
**${o("monster.immunities")}** :: ${t.immunities.value}`,Q=e.conditions.length===0?"":`
**${o("monster.conditionImmunities")}** :: ${t.conditions.value}`,P=l(),T=c(),B=i(),N=s(),X=e.multiattacks.length===0?"":`
***Multiattack.*** ${r(t.multiattacks.value)}
:`,W=d(),ne=p(),D=u(),z=a(),j=h(),V=b(),C=y(),I=f(),U=m();return`{{monster,frame${k?",wide":""}
## ${e.name}
*${e.size} ${e.type}, ${e.alignment}*
___
**${o("monster.armorClass")}** :: ${e.AC} ${e.ACType===""?"":`(${e.ACType})`}
**${o("monster.hp.full")}** :: ${Gn(e.HP.HD,e.HP.type)+e.HP.modifier} (${e.HP.HD}d${e.HP.type}${Ft(e.HP.modifier)})
**${o("monster.movement.speed")}** :: ${e.speeds.map(J=>`${J.speed} ft. ${J.type}${J.note===""?"":J.note}`).join(", ")}
___
|  STR  |  DEX  |  CON  |  INT  |  WIS  |  CHA  |
|:-----:|:-----:|:-----:|:-----:|:-----:|:-----:|
|${x.STR.score} (${x.STR.bonus})|${x.DEX.score} (${x.DEX.bonus})|${x.CON.score} (${x.CON.bonus})|${x.INT.score} (${x.INT.bonus})|${x.WIS.score} (${x.WIS.bonus})|${x.CHA.score} (${x.CHA.bonus})|
___
${S!==""?S:""}${w}${_}${L}${O}${Q}
**${o("editor.senses.label")}** :: ${t.senses.value}
**${o("monster.languages")}** :: ${e.languages}
**${o("monster.challenge")}** :: ${t.cr.value}
___
${P}${T}### ${o("editor.action.label")}${X}${W}${ne}${e.spellcasting.standard.length===0?"":`${B}`}${e.spellcasting.atWill.length===0?"":`${N}`}${D}${z}${j}${V}${C}${I}${U}
}}`}}}var ts=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],o=0;o<e.rangeCount;o++)r.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(l){e.addRange(l)}),t&&t.focus()}},ns=ts,Wr={"text/plain":"Text","text/html":"Url",default:"Text"},rs="Copy to clipboard: #{key}, Enter";function os(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function as(e,t){var r,o,l,s,i,d,p=!1;t||(t={}),r=t.debug||!1;try{l=ns(),s=document.createRange(),i=document.getSelection(),d=document.createElement("span"),d.textContent=e,d.ariaHidden="true",d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",function(a){if(a.stopPropagation(),t.format)if(a.preventDefault(),typeof a.clipboardData=="undefined"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var c=Wr[t.format]||Wr.default;window.clipboardData.setData(c,e)}else a.clipboardData.clearData(),a.clipboardData.setData(t.format,e);t.onCopy&&(a.preventDefault(),t.onCopy(a.clipboardData))}),document.body.appendChild(d),s.selectNodeContents(d),i.addRange(s);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");p=!0}catch(a){r&&console.error("unable to copy using execCommand: ",a),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),p=!0}catch(c){r&&console.error("unable to copy using clipboardData: ",c),r&&console.error("falling back to prompt"),o=os("message"in t?t.message:rs),window.prompt(o,e)}}finally{i&&(typeof i.removeRange=="function"?i.removeRange(s):i.removeAllRanges()),d&&document.body.removeChild(d),l()}return p}var ar=as;function is(){const e=It(),t=Sr(),r=Mn(),{latexFormatter:o,processTokens:l}=Tn(),{t:s}=Ct(),i=()=>r.traits.value.map(_=>o(_)).join(`
`),d=()=>{const w=e.spellcasting;return`${o(r.innateSpellcastingPreamble.value)}
  \\begin{DndMonsterSpells}
    ${w.atWill.map(_=>`\\DndInnateSpellLevel${_.count>0?`[${_.count}]`:""}{${_.spells.join(", ")}}`).join(`
    `)}
  \\end{DndMonsterSpells}
  `},p=()=>{const w=e.spellcasting,_=[],L=w.standard.filter(O=>t.allSpells[O].level===0);L.length>0&&_.push(`\\DndMonsterSpellLevel{${L.join(", ")}}`);for(let O=0;O<w.slots.length;O++)if(w.slots[O]>0){const Q=O+1,P=w.standard.filter(T=>t.allSpells[T].level===Q);if(P.length===0)continue;_.push(`\\DndMonsterSpellLevel[${Q}][${w.slots[O]}]{${P.join(", ")}}`)}return`${o(r.classSpellcastingPreamble.value)}
  \\begin{DndMonsterSpells}
    ${_.join(`
    `)}
  \\end{DndMonsterSpells}
  `},u=()=>{const w=[];for(const _ of e.attacks){const L=_.distance!=="MELEE",O=_.distance!=="RANGED",Q=_.distance==="BOTH"?"both":_.distance.toLowerCase(),P=_.kind.toLowerCase(),T=e.attackDamageModifier(_.id),B=_.alternateDamage.modifier.override?_.alternateDamage.modifier.overrideValue:Hn(e.stats[_.alternateDamage.modifier.stat]),N=_.additionalDamage.map(X=>`\\DndDice{${X.count}d${X.dice}} ${X.type}${X.note}`);w.push(`\\DndMonsterAttack[
      name=${_.name},
      distance=${Q},
      type=${P},
      mod=${Ft(e.attackModifier(_.id))},
      ${O?"":"%"}reach=${_.range.reach},
      ${L?"":"%"}range=${_.range.standard}/${_.range.long},
      targets=${$a.toWords(_.targets)} target${_.targets===1?"":"s"},
      dmg=\\DndDice{${_.damage.count}d${_.damage.dice}${Ft(T)}},
      dmg-type=${_.damage.type},
      ${N.length===0?"%":""}plus-dmg={${xa(N,", ")}},
      ${_.alternateDamage.active?"":"%"}or-dmg=\\DndDice{${_.alternateDamage.count}d${_.alternateDamage.dice}${Ft(B)}},
      ${_.alternateDamage.active?"":"%"}or-dmg-when={${_.alternateDamage.condition}},
      extra={${o(l(_.description,_,e,"attack"))}}
    ]`)}return w.join(`

  `)},a=()=>o(r.multiattacks.value),c=()=>r.actions.value.map(w=>o(w)).join(`
 `),h=()=>r.bonusActions.value.length>0?`\\DndMonsterSection{${s("monster.bonusActions")}}
${r.bonusActions.value.map(w=>o(w)).join(`
 `)}`:"",b=()=>{const w=o(r.legendaryPreamble.value),_=e.legendaryActions.actions.map(L=>{const O=e.legendaryAction(L.actionId);if(O){const Q=L.cost>1?s("editor.legendary.renderedCost",[L.cost]):"";let P="";return O.type==="action"?O.action.legendaryOnly?P=l(O.action.description,O.action,e,"action"):P=l(s("presets.legendaryAction",[O.action.name]),void 0,e,"none"):O.type==="attack"&&(P=l(s("presets.legendaryAttack",[O.action.name]),void 0,e,"none")),`\\DndMonsterLegendaryAction{${O.action.name}${Q}}{${o(P)}}`}});return`\\DndMonsterSection{Legendary Actions}
  ${w}
  \\begin{DndMonsterLegendaryActions}
    ${_.join(`
  `)}
  \\end{DndMonsterLegendaryActions}`},y=()=>o(r.mythicTrait.value),f=()=>{const w=o(r.mythicPreamble.value),_=e.mythicActions.actions.map(L=>{const O=e.legendaryAction(L.actionId);if(O){const Q=L.cost>1?s("editor.legendary.renderedCost",[L.cost]):"";let P="";return O.type==="action"?O.action.legendaryOnly?P=l(O.action.description,O.action,e,"action"):P=l(s("presets.legendaryAction",[O.action.name]),void 0,e,"none"):O.type==="attack"&&(P=l(s("presets.legendaryAttack",[O.action.name]),void 0,e,"none")),`\\DndMonsterLegendaryAction{${O.action.name}${Q}}{${o(P)}}`}});return`\\DndMonsterSection{Mythic Actions}
  ${w}
  \\begin{DndMonsterLegendaryActions}
    ${_.join(`
  `)}
  \\end{DndMonsterLegendaryActions}`},m=()=>`\\DndMonsterSection{Reactions}
    ${r.reactions.value.map(_=>o(_)).join(`
  `)}
  `,E=()=>{const w=`\\DndMonsterSection{${s("editor.lair.label")}}
${o(r.lairActionPreamble.value)}`,_=r.lairActions.value.map(L=>`\\item ${o(L)}`);return`${w}
    \\begin{itemize}
      ${_.join(`
`)}
    \\end{itemize}`},k=()=>{const w=`\\DndMonsterSection{${s("editor.regional.label")}}
  ${o(r.regionalEffectPreamble.value)}`,_=r.regionalEffects.value.map(L=>`\\item ${o(L)}`);return`${w}
    \\begin{itemize}
      ${_.join(`
`)}
    \\end{itemize}`},x=()=>`\\DndMonsterSection{${s("editor.inventory.label")}}
${o(r.inventory.value)}`;return{renderLatex:(w=!1)=>{const _=r.saves.value;return`\\begin{DndMonster}[${w?"width=\\textwidth + 8pt":""}]{${e.name}}
  ${w?"\\begin{multicols}{2}":""}
  \\DndMonsterType{${e.size} ${e.type}, ${e.alignment}}
  \\DndMonsterBasics[
    armor-class = {${e.AC}${e.ACType===""?"":` (${e.ACType})`}},
    hit-points = {\\DndDice{${e.HP.HD}d${e.HP.type}${Ft(e.HP.modifier)}}},
    speed = {${r.speeds.value}}
  ]

  \\DndMonsterAbilityScores[
    str = ${e.stats.STR},
    dex = ${e.stats.DEX},
    con = ${e.stats.CON},
    int = ${e.stats.INT},
    wis = ${e.stats.WIS},
    cha = ${e.stats.CHA},
  ]

  \\DndMonsterDetails[
    ${_===""?"%":""}saving-throws = {${_}},
    ${e.skills.length===0?"%":""}skills = {${r.skills.value}},
    ${e.vulnerabilities.length===0?"%":""}damage-vulnerabilities = {${r.vulnerabilities.value}},
    ${e.resistances.length===0?"%":""}damage-resistances = {${r.resistances.value}},
    ${e.immunities.length===0?"%":""}damage-immunities = {${r.immunities.value}},
    ${e.conditions.length===0?"%":""}condition-immunities = {${r.conditions.value}},
    senses = {${r.senses.value}},
    languages = {${e.languages}},
    challenge = {${En[e.CR].cr}},
  ]

  % Traits
  ${i()}

  ${e.mythicActions.actions.length>0?y():""}

  % Actions
  \\DndMonsterSection{${s("editor.action.label")}}
  ${e.multiattacks.length>0?a():""}

  ${u()}

  ${c()}

  % Spellcasting
  ${e.spellcasting.atWill.length>0?d():""}

  ${e.spellcasting.standard.length>0?p():""}

  ${h()}

  ${e.legendaryActions.count>0?b():""}

  ${e.mythicActions.actions.length>0?f():""}

  ${e.reactions.length>0?m():""}

  ${e.lairActions.length>0?E():""}

  ${e.regionalEffects.length>0?k():""}

  ${e.inventory!==""?x():""}

  ${w?"\\end{multicols}":""}
\\end{DndMonster}`}}}const zr={STR:"strength",DEX:"dexterity",CON:"constitution",INT:"intelligence",WIS:"wisdom",CHA:"charisma"},ss="<i>{attack.distance}:</i> {attack.modifier} to hit, {attack.range}, {attack.targets}. <i>Hit:</i> {attack.damage}{attack.conditionalDamage}{attack.additionalDamage}. {attack.description}";function ls(){const e=It(),t=Mn(),{processTokens:r,stripTags:o}=Tn(),{t:l}=Ct(),s=d=>{const p=`${d.damage.count}d${d.damage.dice}`,u=d.additionalDamage.length>0?`+${d.additionalDamage.map(a=>`${a.count}d${a.dice}`).join("+")}`:"";return p+u};return{renderTarrasqueJson:()=>{const d={};d.name=e.name,d.size=e.size,d.type=e.type,d.subtype="",d.alignment=e.alignment,d.armor_class=e.AC,d.armor_type=e.ACType,d.hit_points=Gn(e.HP.HD,e.HP.type)+e.HP.modifier,d.hit_dice=`${e.HP.HD}d${e.HP.type}${Ft(e.HP.modifier)}`,d.speed=e.speeds.map(c=>`${c.speed} ft. ${c.type}${c.note===""?"":c.note}`).join(", "),d.speed_json={},e.speeds.forEach(c=>{var h;d.speed_json[(h=c.type)!=null?h:"unknown"]=c.speed});for(const c in e.stats){d[zr[c]]=e.stats[c];const h=e.saves[c],b=`${zr[c]}_save`;h.override?d[b]=h.overrideValue:h.proficient&&(d[b]=e.defaultSaveBonus(c))}for(const c of e.skills){const h=c.skill.label.toLowerCase().replace(" ","_");c.override?d[h]=c.overrideValue:d[h]=e.defaultSkillBonus(c)}d.damage_vulnerabilities=t.vulnerabilities.value,d.damage_resistances=t.resistances.value,d.damage_immunities=t.immunities.value,d.condition_immunities=t.immunities.value,d.senses=t.senses.value,d.languages=e.languages,d.challenge_rating=En[e.CR].cr,d.special_abilities=[];for(const c of e.traits){const h=r("{trait.name}{trait.limitedUse}",c,e,"trait");d.special_abilities.push({name:h,desc:o(r(c.description,c,e,"trait")),attack_bonus:c.crAnnotation.maxModifier})}d.actions=[],e.multiattacks.length>0&&d.actions.push({name:"Multiattack",desc:o(r("{multiattack.all}. {multiattack.postscript}",e.multiattacks,e,"multiattack")),attack_bonus:0});for(const c of e.attacks)d.actions.push({name:c.name,desc:o(r(ss,c,e,"attack")),attack_bonus:e.attackModifier(c.id),damage_dice:s(c),damage_bonus:e.attackDamageModifier(c.id)});const p=e.actions.filter(c=>!c.legendaryOnly);for(const c of p){const h=o(r("{action.name}{action.limitedUse}",c,e,"action"));d.actions.push({name:h,desc:o(r(c.description,c,e,"action")),attack_bonus:c.crAnnotation.maxModifier})}if(e.legendaryActions.actions.length>0){d.legendary_desc=t.legendaryPreamble.value,d.legendary_actions=[];for(const c of e.legendaryActions.actions){const h=e.legendaryAction(c.actionId);if(h){const b=c.cost>1?l("editor.legendary.renderedCost",[c.cost]):"";let y="";h.type==="action"?h.action.legendaryOnly?y=r(h.action.description,h.action,e,"action"):y=r(l("presets.legendaryAction",[h.action.name]),void 0,e,"none"):h.type==="attack"&&(y=r(l("presets.legendaryAttack",[h.action.name]),void 0,e,"none")),d.legendary_actions.push({name:h.action.name+b,desc:o(y),attack_bonus:0})}}}const u=e.spellcasting;if(u.standard.length>0){const c=[],h=e.knownSpellsOfLevel(0);h.length>0&&c.push(`> ${l("editor.spellcasting.slot.cantripLabel")} *${h.join(", ")}*  `),t.classSpellcastingSlots.value.forEach(f=>{c.push(`${f.renderedLabel} ${f.renderedSpells}`)});const y=`${t.classSpellcastingPreamble.value}
\u2022 ${c.join(`
\u2022 `)}`;d.special_abilities.push({name:l("editor.spellcasting.class.label"),desc:o(y),attack_bonus:0})}if(u.atWill.length>0){const c=t.innateSpellcastingLists.value.join(`
\u2022 `);d.special_abilities.push({name:l("editor.spellcasting.innate.label"),desc:o(`${t.innateSpellcastingPreamble.value}
\u2022 ${c}`),attack_bonus:0})}const a=Array.from(e.spellcasting.standard);for(const c of e.spellcasting.atWill)a.push(...c.spells);if(a.length>0&&(d.spellList=a),e.reactions.length>0){d.reactions=[];for(const c of e.reactions)d.reactions.push({name:c.name,desc:o(r(c.description,void 0,e,"none")),attack_bonus:0})}return d.group="Custom (5e Monster Maker)",JSON.stringify(d)}}}var Eo={exports:{}};(function(e,t){(function(r,o,l){e.exports=l(),e.exports.default=l()})("slugify",_a,function(){var r=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),o=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function l(s,i){if(typeof s!="string")throw new Error("slugify: string argument expected");i=typeof i=="string"?{replacement:i}:i||{};var d=o[i.locale]||{},p=i.replacement===void 0?"-":i.replacement,u=i.trim===void 0?!0:i.trim,a=s.normalize().split("").reduce(function(c,h){var b=d[h];return b===void 0&&(b=r[h]),b===void 0&&(b=h),b===p&&(b=" "),c+b.replace(i.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return i.strict&&(a=a.replace(/[^A-Za-z0-9\s]/g,"")),u&&(a=a.trim()),a=a.replace(/\s+/g,p),i.lower&&(a=a.toLowerCase()),a}return l.extend=function(s){Object.assign(r,s)},l})})(Eo);var us=Eo.exports;const ir={STR:"Str",DEX:"Dex",CON:"Con",INT:"Int",WIS:"Wis",CHA:"Cha"},cs="<i>{attack.distance}:</i> {attack.modifier} to hit, {attack.range}, {attack.targets}. <i>Hit:</i> {attack.damage}{attack.conditionalDamage}{attack.additionalDamage}. {attack.description}";function fs(){const e=It(),t=Mn(),{processTokens:r,stripTags:o}=Tn(),{t:l}=Ct();return{renderImprovedInitJson:async()=>{const i=[us(e.name)],d={};d.Id=i[0],d.Name=e.name,d.Path="",d.Link="https://ebshimizu.github.io/5emm/",d.SearchHint=`${e.name}
${e.type}
${e.alignment}`,d.FilterDimensions={Level:En[e.CR].cr,Source:"Homebrew (Falindrith's Monster Maker)",Type:`${e.size} ${e.type}, ${e.alignment}`},d.LastUpdateMs=0,d.Version="1.0.0",d.Source="Homebrew (Falindrith's Monster Maker)",d.Type=`${e.size} ${e.type}, ${e.alignment}`,d.HP={Value:Gn(e.HP.HD,e.HP.type)+e.HP.modifier,Notes:`(${e.HP.HD}d${e.HP.type}${Ft(e.HP.modifier)})`},d.InitiativeModifier=Hn(e.stats.DEX),d.InitiativeAdvantage=!1,d.Speed=[],e.speeds.forEach(c=>{var h;d.Speed.push(`${(h=c.type)!=null?h:"walk"} ${c.speed} ft.`)}),d.AC={Value:e.AC,Notes:e.ACType},d.Abilities={},d.Saves=[];for(const c in e.stats){d.Abilities[ir[c]]=e.stats[c];const h=e.saves[c];h.override?d.Saves.push({Name:ir[c],Modifier:h.overrideValue}):h.proficient&&d.Saves.push({Name:ir[c],Modifier:e.defaultSaveBonus(c)})}d.DamageVulnerabilities=e.vulnerabilities,d.DamageResistances=e.resistances,d.DamageImmunities=e.immunities,d.ConditionImmunities=e.conditions,d.Skills=[];for(const c of e.skills){const h=c.skill.label;c.override?d.Skills.push({Name:h,Modifier:c.overrideValue}):d.Skills.push({Name:h,Modifier:e.defaultSkillBonus(c)})}d.Senses=[],Object.entries(e.senses).forEach(([c,h])=>{h>0&&d.Senses.push(`${c} ${h} ft.`)}),d.Senses.push(`passive Perception ${e.computedPassivePerception}`),e.sensesNotes&&d.Senses.push(r(e.sensesNotes,void 0,e,"none")),d.Languages=e.languages.split(","),d.Challenge=En[e.CR].cr,d.Traits=[];for(const c of e.traits){const h=r("{trait.name}{trait.limitedUse}",c,e,"trait");d.Traits.push({Name:h,Content:o(r(c.description,c,e,"trait"))})}d.Actions=[],e.multiattacks.length>0&&d.Actions.push({Name:"Multiattack",Content:o(r("{multiattack.all}. {multiattack.postscript}",e.multiattacks,e,"multiattack"))});for(const c of e.attacks)d.Actions.push({Name:c.name,Content:o(r(cs,c,e,"attack"))});const p=e.actions.filter(c=>!c.legendaryOnly&&!c.bonusAction);for(const c of p){const h=o(r("{action.name}{action.limitedUse}",c,e,"action"));d.Actions.push({Name:h,Content:o(r(c.description,c,e,"action"))})}const u=e.actions.filter(c=>c.bonusAction);for(const c of u){const h=o(r("{action.name}{action.limitedUse}",c,e,"action"));d.Actions.push({Name:h,Content:o(r(c.description,c,e,"action"))})}if(d.LegendaryActions=[],e.legendaryActions.actions.length>0)for(const c of e.legendaryActions.actions){const h=e.legendaryAction(c.actionId);if(h){const b=c.cost>1?l("editor.legendary.renderedCost",[c.cost]):"";let y="";h.type==="action"?h.action.legendaryOnly?y=r(h.action.description,h.action,e,"action"):y=r(l("presets.legendaryAction",[h.action.name]),void 0,e,"none"):h.type==="attack"&&(y=r(l("presets.legendaryAttack",[h.action.name]),void 0,e,"none")),d.LegendaryActions.push({Name:h.action.name+b,Content:o(y)})}}if(e.mythicActions.actions.length>0)for(const c of e.mythicActions.actions){const h=e.legendaryAction(c.actionId);if(h){const b=c.cost>1?l("editor.legendary.renderedCost",[c.cost]):"";let y="";h.type==="action"?h.action.legendaryOnly?y=r(h.action.description,h.action,e,"action"):y=r(l("presets.legendaryAction",[h.action.name]),void 0,e,"none"):h.type==="attack"&&(y=r(l("presets.legendaryAttack",[h.action.name]),void 0,e,"none")),d.MythicActions.push({Name:h.action.name+b,Content:o(y)})}}const a=e.spellcasting;if(a.standard.length>0){const c=[],h=e.knownSpellsOfLevel(0);h.length>0&&c.push(`> ${l("editor.spellcasting.slot.cantripLabel")} *${h.join(", ")}*  `),t.classSpellcastingSlots.value.forEach(f=>{c.push(`${f.renderedLabel} ${f.renderedSpells}`)});const y=`${t.classSpellcastingPreamble.value}
\u2022 ${c.join(`
\u2022 `)}`;d.Actions.push({Name:l("editor.spellcasting.class.label"),Content:o(y)})}if(a.atWill.length>0){const c=t.innateSpellcastingLists.value.map(h=>`${h.renderedLabel} ${h.renderedSpells}`).join(`
\u2022 `);d.Actions.push({Name:l("editor.spellcasting.innate.label"),Content:o(`${t.innateSpellcastingPreamble.value}
\u2022 ${c}`)})}if(d.Reactions=[],e.reactions.length>0)for(const c of e.reactions)d.Reactions.push({Name:c.name,Content:o(r(c.description,void 0,e,"none"))});return d.Description="",d.Player="",d.ImageURL="",JSON.stringify({Creatures:i,[`Creatures.${i[0]}`]:d})}}}var pe={image:new Map,background:new Map,resource:new Map,defaultStyle:new Map,baseStyle:new Map,computedStyle:new WeakMap,font:new Set,session:{styleMap:new Map,styleCache:new WeakMap,nodeMap:new Map}};function ds(e="soft"){switch(pe.session.__counterEpoch=(pe.session.__counterEpoch||0)+1,e){case"auto":{pe.session.styleMap=new Map,pe.session.nodeMap=new Map;return}case"soft":{pe.session.styleMap=new Map,pe.session.nodeMap=new Map,pe.session.styleCache=new WeakMap;return}case"full":return;case"disabled":{pe.session.styleMap=new Map,pe.session.nodeMap=new Map,pe.session.styleCache=new WeakMap,pe.computedStyle=new WeakMap,pe.baseStyle=new Map,pe.defaultStyle=new Map,pe.image=new Map,pe.background=new Map,pe.resource=new Map,pe.font=new Set;return}default:{pe.session.styleMap=new Map,pe.session.nodeMap=new Map,pe.session.styleCache=new WeakMap;return}}}function $r(e){let t=e.match(/url\((['"]?)(.*?)(\1)\)/);if(!t)return null;let r=t[2].trim();return r.startsWith("#")?null:r}function ps(e){if(!e||e==="none")return"";let t=e.replace(/translate[XY]?\([^)]*\)/g,"");return t=t.replace(/matrix\(([^)]+)\)/g,(r,o)=>{let l=o.split(",").map(s=>s.trim());return l.length!==6?`matrix(${o})`:(l[4]="0",l[5]="0",`matrix(${l.join(", ")})`)}),t=t.replace(/matrix3d\(([^)]+)\)/g,(r,o)=>{let l=o.split(",").map(s=>s.trim());return l.length!==16?`matrix3d(${o})`:(l[12]="0",l[13]="0",`matrix3d(${l.join(", ")})`)}),t.trim().replace(/\s{2,}/g," ")}function Vn(e){if(/%[0-9A-Fa-f]{2}/.test(e))return e;try{return encodeURI(e)}catch{return e}}function hs(e="[snapDOM]",{ttlMs:t=5*6e4,maxEntries:r=12}={}){let o=new Map,l=0;function s(i,d,p){if(l>=r)return;let u=Date.now();(o.get(d)||0)>u||(o.set(d,u+t),l++,i==="warn"&&console&&console.warn?console.warn(`${e} ${p}`):console&&console.error&&console.error(`${e} ${p}`))}return{warnOnce(i,d){s("warn",i,d)},errorOnce(i,d){s("error",i,d)},reset(){o.clear(),l=0}}}var Hr=hs("[snapDOM]",{ttlMs:3*6e4,maxEntries:10}),sr=new Map,Un=new Map;function ms(e){return/^data:|^blob:|^about:blank$/i.test(e)}function gs(e,t){try{let r=typeof location<"u"&&location.href?location.href:"http://localhost/",o=t.includes("{url}")?t.split("{url}")[0]:t,l=new URL(o||".",r),s=new URL(e,r);if(s.origin===l.origin)return!0;let i=s.searchParams;if(i&&(i.has("url")||i.has("target")))return!0}catch{}return!1}function ys(e,t){if(!t||ms(e)||gs(e,t))return!1;try{let r=typeof location<"u"&&location.href?location.href:"http://localhost/",o=new URL(e,r);return typeof location<"u"?o.origin!==location.origin:!0}catch{return!!t}}function bs(e,t){if(!t)return e;if(t.includes("{url}"))return t.replace("{urlRaw}",Vn(e)).replace("{url}",encodeURIComponent(e));if(/[?&]url=?$/.test(t))return`${t}${encodeURIComponent(e)}`;if(t.endsWith("?"))return`${t}url=${encodeURIComponent(e)}`;if(t.endsWith("/"))return`${t}${Vn(e)}`;let r=t.includes("?")?"&":"?";return`${t}${r}url=${encodeURIComponent(e)}`}function Vr(e){return new Promise((t,r)=>{let o=new FileReader;o.onload=()=>t(String(o.result||"")),o.onerror=()=>r(new Error("read_failed")),o.readAsDataURL(e)})}function vs(e,t){var r,o;return[t.as||"blob",(r=t.timeout)!=null?r:3e3,t.useProxy||"",(o=t.errorTTL)!=null?o:8e3,e].join("|")}async function Et(e,t={}){var m,E,k;let r=(m=t.as)!=null?m:"blob",o=(E=t.timeout)!=null?E:3e3,l=t.useProxy||"",s=(k=t.errorTTL)!=null?k:8e3,i=t.headers||{},d=!!t.silent;if(/^data:/i.test(e))try{if(r==="text")return{ok:!0,data:String(e),status:200,url:e,fromCache:!1};if(r==="dataURL")return{ok:!0,data:String(e),status:200,url:e,fromCache:!1,mime:String(e).slice(5).split(";")[0]||""};let[,x="",S=""]=String(e).match(/^data:([^,]*),(.*)$/)||[],w=/;base64/i.test(x)?atob(S):decodeURIComponent(S),_=new Uint8Array([...w].map(O=>O.charCodeAt(0))),L=new Blob([_],{type:(x||"").split(";")[0]||""});return{ok:!0,data:L,status:200,url:e,fromCache:!1,mime:L.type||""}}catch{return{ok:!1,data:null,status:0,url:e,fromCache:!1,reason:"special_url_error"}}if(/^blob:/i.test(e))try{let x=await fetch(e);if(!x.ok)return{ok:!1,data:null,status:x.status,url:e,fromCache:!1,reason:"http_error"};let S=await x.blob(),w=S.type||x.headers.get("content-type")||"";return r==="dataURL"?{ok:!0,data:await Vr(S),status:x.status,url:e,fromCache:!1,mime:w}:r==="text"?{ok:!0,data:await S.text(),status:x.status,url:e,fromCache:!1,mime:w}:{ok:!0,data:S,status:x.status,url:e,fromCache:!1,mime:w}}catch{return{ok:!1,data:null,status:0,url:e,fromCache:!1,reason:"network"}}if(/^about:blank$/i.test(e))return r==="dataURL"?{ok:!0,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==",status:200,url:e,fromCache:!1,mime:"image/png"}:{ok:!0,data:r==="text"?"":new Blob([]),status:200,url:e,fromCache:!1};let p=vs(e,{as:r,timeout:o,useProxy:l,errorTTL:s}),u=Un.get(p);if(u&&u.until>Date.now())return{...u.result,fromCache:!0};u&&Un.delete(p);let a=sr.get(p);if(a)return a;let c=ys(e,l)?bs(e,l):e,h=t.credentials;if(!h)try{let x=typeof location<"u"&&location.href?location.href:"http://localhost/",S=new URL(e,x);h=typeof location<"u"&&S.origin===location.origin?"include":"omit"}catch{h="omit"}let b=new AbortController,y=setTimeout(()=>b.abort("timeout"),o),f=(async()=>{var x,S;try{let w=await fetch(c,{signal:b.signal,credentials:h,headers:i});if(!w.ok){let O={ok:!1,data:null,status:w.status,url:c,fromCache:!1,reason:"http_error"};if(s>0&&Un.set(p,{until:Date.now()+s,result:O}),!d){let Q=`${w.status} ${w.statusText||""}`.trim();Hr.warnOnce(`http:${w.status}:${r}:${new URL(e,(x=location==null?void 0:location.href)!=null?x:"http://localhost/").origin}`,`HTTP error ${Q} while fetching ${r} ${e}`)}return t.onError&&t.onError(O),O}if(r==="text")return{ok:!0,data:await w.text(),status:w.status,url:c,fromCache:!1};let _=await w.blob(),L=_.type||w.headers.get("content-type")||"";return r==="dataURL"?{ok:!0,data:await Vr(_),status:w.status,url:c,fromCache:!1,mime:L}:{ok:!0,data:_,status:w.status,url:c,fromCache:!1,mime:L}}catch(w){let _=w&&typeof w=="object"&&"name"in w&&w.name==="AbortError"?String(w.message||"").includes("timeout")?"timeout":"abort":"network",L={ok:!1,data:null,status:0,url:c,fromCache:!1,reason:_};if(!/^blob:/i.test(e)&&s>0&&Un.set(p,{until:Date.now()+s,result:L}),!d){let O=`${_}:${r}:${new URL(e,(S=location==null?void 0:location.href)!=null?S:"http://localhost/").origin}`,Q=_==="timeout"?`Timeout after ${o}ms. Consider increasing timeout or using a proxy for ${e}`:_==="abort"?`Request aborted while fetching ${r} ${e}`:`Network/CORS issue while fetching ${r} ${e}. A proxy may be required`;Hr.errorOnce(O,Q)}return t.onError&&t.onError(L),L}finally{clearTimeout(y),sr.delete(p)}})();return sr.set(p,f),f}async function Co(e,t={}){if(/^((repeating-)?(linear|radial|conic)-gradient)\(/i.test(e)||e.trim()==="none")return e;let r=$r(e);if(!r)return e;let o=Vn(r);if(pe.background.has(o)){let l=pe.background.get(o);return l?`url("${l}")`:"none"}try{let l=await Et(o,{as:"dataURL",useProxy:t.useProxy});return l.ok?(pe.background.set(o,l.data),`url("${l.data}")`):(pe.background.set(o,null),"none")}catch{return pe.background.set(o,null),"none"}}var ws=new Set(["meta","script","noscript","title","link","template"]),xr=new Set(["meta","link","style","title","noscript","script","template","g","defs","use","marker","mask","clipPath","pattern","path","polygon","polyline","line","circle","ellipse","rect","filter","lineargradient","radialgradient","stop"]);function Ss(e){if(e=String(e).toLowerCase(),xr.has(e)){let s={};return pe.defaultStyle.set(e,s),s}if(pe.defaultStyle.has(e))return pe.defaultStyle.get(e);let t=document.getElementById("snapdom-sandbox");t||(t=document.createElement("div"),t.id="snapdom-sandbox",t.setAttribute("data-snapdom-sandbox","true"),t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",t.style.width="0px",t.style.height="0px",t.style.overflow="hidden",document.body.appendChild(t));let r=document.createElement(e);r.style.all="initial",t.appendChild(r);let o=getComputedStyle(r),l={};for(let s of o){if(Ao(s))continue;let i=o.getPropertyValue(s);l[s]=i}return t.removeChild(r),pe.defaultStyle.set(e,l),l}var $s=/(?:^|-)(animation|transition)(?:-|$)/i,xs=/^(--|view-timeline|scroll-timeline|animation-trigger|offset-|position-try|app-region|interactivity|overlay|view-transition|-webkit-locale|-webkit-user-(?:drag|modify)|-webkit-tap-highlight-color|-webkit-text-security)$/i,_s=new Set(["cursor","pointer-events","touch-action","user-select","print-color-adjust","speak","reading-flow","reading-order","anchor-name","anchor-scope","container-name","container-type","timeline-scope"]);function Ao(e){let t=String(e).toLowerCase();return!!(_s.has(t)||xs.test(t)||$s.test(t))}function fr(e,t){if(t=String(t||"").toLowerCase(),xr.has(t))return"";let r=[],o=Ss(t);for(let[l,s]of Object.entries(e)){if(Ao(l))continue;let i=o[l];s&&s!==i&&r.push(`${l}:${s}`)}return r.sort(),r.join(";")}function ks(e){let t=new Set;return e.nodeType!==Node.ELEMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?[]:(e.tagName&&t.add(e.tagName.toLowerCase()),typeof e.querySelectorAll=="function"&&e.querySelectorAll("*").forEach(r=>t.add(r.tagName.toLowerCase())),Array.from(t))}function Es(e){let t=new Map;for(let o of e){let l=pe.defaultStyle.get(o);if(!l)continue;let s=Object.entries(l).map(([i,d])=>`${i}:${d};`).sort().join("");s&&(t.has(s)||t.set(s,[]),t.get(s).push(o))}let r="";for(let[o,l]of t.entries())r+=`${l.join(",")} { ${o} }
`;return r}function Cs(e){let t=Array.from(new Set(e.values())).filter(Boolean).sort(),r=new Map,o=1;for(let l of t)r.set(l,`c${o++}`);return r}function Mo(e,t=null){if(!(e instanceof Element))return window.getComputedStyle(e,t);let r=pe.computedStyle.get(e);if(r||(r=new Map,pe.computedStyle.set(e,r)),!r.has(t)){let o=window.getComputedStyle(e,t);r.set(t,o)}return r.get(t)}function Yr(e){let t={};for(let r of e)t[r]=e.getPropertyValue(r);return t}function To(e){let t=[],r=0,o=0;for(let l=0;l<e.length;l++){let s=e[l];s==="("&&r++,s===")"&&r--,s===","&&r===0&&(t.push(e.slice(o,l).trim()),o=l+1)}return t.push(e.slice(o).trim()),t}var As=[/font\s*awesome/i,/material\s*icons/i,/ionicons/i,/glyphicons/i,/feather/i,/bootstrap\s*icons/i,/remix\s*icons/i,/heroicons/i,/layui/i,/lucide/i],Zt=Object.assign({materialIconsFilled:"https://fonts.gstatic.com/s/materialicons/v48/flUhRq6tzZclQEJ-Vdg-IuiaDsNcIhQ8tQ.woff2",materialIconsOutlined:"https://fonts.gstatic.com/s/materialiconsoutlined/v110/gok-H7zzDkdnRel8-DQ6KAXJ69wP1tGnf4ZGhUcel5euIg.woff2",materialIconsRound:"https://fonts.gstatic.com/s/materialiconsround/v109/LDItaoyNOAY6Uewc665JcIzCKsKc_M9flwmPq_HTTw.woff2",materialIconsSharp:"https://fonts.gstatic.com/s/materialiconssharp/v110/oPWQ_lt5nv4pWNJpghLP75WiFR4kLh3kvmvRImcycg.woff2"},typeof window<"u"&&window.__SNAPDOM_ICON_FONTS__||{}),dr=[];function Ms(e){let t=Array.isArray(e)?e:[e];for(let r of t)r instanceof RegExp?dr.push(r):typeof r=="string"?dr.push(new RegExp(r,"i")):console.warn("[snapdom] Ignored invalid iconFont value:",r)}function Lt(e){let t=typeof e=="string"?e:"",r=[...As,...dr];for(let o of r)if(o instanceof RegExp&&o.test(t))return!0;return!!(/icon/i.test(t)||/glyph/i.test(t)||/symbols/i.test(t)||/feather/i.test(t)||/fontawesome/i.test(t))}function Ts(e=""){let t=String(e).toLowerCase();return/\bmaterial\s*icons\b/.test(t)||/\bmaterial\s*symbols\b/.test(t)}var Qr=new Map;function Ls(e=""){let t=Object.create(null),r=String(e||""),o=/['"]?\s*([A-Za-z]{3,4})\s*['"]?\s*([+-]?\d+(?:\.\d+)?)\s*/g,l;for(;l=o.exec(r);)t[l[1].toUpperCase()]=Number(l[2]);return t}async function Is(e,t,r){var c;let o=String(e||""),l=o.toLowerCase(),s=String(t||"").toLowerCase();if(/\bmaterial\s*icons\b/.test(l)&&!/\bsymbols\b/.test(l))return{familyForMeasure:o,familyForCanvas:o};if(!/\bmaterial\s*symbols\b/.test(l))return{familyForMeasure:o,familyForCanvas:o};let i=r&&((c=r.FILL)!=null?c:r.fill),d="outlined";/\brounded\b/.test(s)||/\bround\b/.test(s)?d="rounded":/\bsharp\b/.test(s)?d="sharp":/\boutlined\b/.test(s)&&(d="outlined");let p=i===1,u=null;if(p&&(d==="outlined"&&Zt.materialIconsFilled?u={url:Zt.materialIconsFilled,alias:"snapdom-mi-filled"}:d==="rounded"&&Zt.materialIconsRound?u={url:Zt.materialIconsRound,alias:"snapdom-mi-round"}:d==="sharp"&&Zt.materialIconsSharp&&(u={url:Zt.materialIconsSharp,alias:"snapdom-mi-sharp"})),!u)return{familyForMeasure:o,familyForCanvas:o};if(!Qr.has(u.alias))try{let h=new FontFace(u.alias,`url(${u.url})`,{style:"normal",weight:"400"});document.fonts.add(h),await h.load(),Qr.set(u.alias,!0)}catch{return{familyForMeasure:o,familyForCanvas:o}}let a=`"${u.alias}"`;return{familyForMeasure:a,familyForCanvas:a}}async function Ps(e="Material Icons",t=24){try{await Promise.all([document.fonts.load(`400 ${t}px "${String(e).replace(/["']/g,"")}"`),document.fonts.ready])}catch{}}function Rs(e){var l,s;let t=((l=e.getPropertyValue("-webkit-text-fill-color"))==null?void 0:l.trim())||"",r=/^transparent$/i.test(t)||/rgba?\(\s*0\s*,\s*0\s*,\s*0\s*,\s*0\s*\)/i.test(t);if(t&&!r&&t.toLowerCase()!=="currentcolor")return t;let o=(s=e.color)==null?void 0:s.trim();return o&&o!=="inherit"?o:"#000"}async function Os(e,{family:t="Material Icons",weight:r="normal",fontSize:o=32,color:l="#000",variation:s="",className:i=""}={}){let d=String(t||"").replace(/^['"]+|['"]+$/g,""),p=window.devicePixelRatio||1,u=Ls(s),{familyForMeasure:a,familyForCanvas:c}=await Is(d,i,u);await Ps(c.replace(/^["']+|["']+$/g,""),o);let h=document.createElement("span");h.textContent=e,h.style.position="absolute",h.style.visibility="hidden",h.style.left="-99999px",h.style.whiteSpace="nowrap",h.style.fontFamily=a,h.style.fontWeight=String(r||"normal"),h.style.fontSize=`${o}px`,h.style.lineHeight="1",h.style.margin="0",h.style.padding="0",h.style.fontFeatureSettings="'liga' 1",h.style.fontVariantLigatures="normal",h.style.color=l,document.body.appendChild(h);let b=h.getBoundingClientRect(),y=Math.max(1,Math.ceil(b.width)),f=Math.max(1,Math.ceil(b.height));document.body.removeChild(h);let m=document.createElement("canvas");m.width=y*p,m.height=f*p;let E=m.getContext("2d");E.scale(p,p),E.font=`${r?`${r} `:""}${o}px ${c}`,E.textAlign="left",E.textBaseline="top",E.fillStyle=l;try{E.fontKerning="normal"}catch{}return E.fillText(e,0,0),{dataUrl:m.toDataURL(),width:y,height:f}}async function Ds(e,t){if(!(e instanceof Element))return 0;let r='.material-icons, [class*="material-symbols"]',o=Array.from(e.querySelectorAll(r)).filter(i=>i&&i.textContent&&i.textContent.trim());if(o.length===0)return 0;let l=t instanceof Element?Array.from(t.querySelectorAll(r)).filter(i=>i&&i.textContent&&i.textContent.trim()):[],s=0;for(let i=0;i<o.length;i++){let d=o[i],p=l[i]||null;try{let u=getComputedStyle(p||d),a=u.fontFamily||"Material Icons";if(!Ts(a))continue;let c=(p||d).textContent.trim();if(!c)continue;let h=parseInt(u.fontSize,10)||24,b=u.fontWeight&&u.fontWeight!=="normal"?u.fontWeight:"normal",y=Rs(u),f=u.fontVariationSettings&&u.fontVariationSettings!=="normal"?u.fontVariationSettings:"",m=(p||d).className||"",{dataUrl:E,width:k,height:x}=await Os(c,{family:a,weight:b,fontSize:h,color:y,variation:f,className:m});d.textContent="";let S=d.ownerDocument.createElement("img");S.src=E,S.alt=c,S.style.height=`${h}px`,S.style.width=`${Math.max(1,Math.round(k/x*h))}px`,S.style.objectFit="contain",S.style.verticalAlign=getComputedStyle(d).verticalAlign||"baseline",d.appendChild(S),s++}catch{}}return s}async function js(e,t,r,o=32,l="#000"){t=t.replace(/^['"]+|['"]+$/g,"");let s=window.devicePixelRatio||1;try{await document.fonts.ready}catch{}let i=document.createElement("span");i.textContent=e,i.style.position="absolute",i.style.visibility="hidden",i.style.fontFamily=`"${t}"`,i.style.fontWeight=r||"normal",i.style.fontSize=`${o}px`,i.style.lineHeight="1",i.style.whiteSpace="nowrap",i.style.padding="0",i.style.margin="0",document.body.appendChild(i);let d=i.getBoundingClientRect(),p=Math.ceil(d.width),u=Math.ceil(d.height);document.body.removeChild(i);let a=document.createElement("canvas");a.width=Math.max(1,p*s),a.height=Math.max(1,u*s);let c=a.getContext("2d");return c.scale(s,s),c.font=r?`${r} ${o}px "${t}"`:`${o}px "${t}"`,c.textAlign="left",c.textBaseline="top",c.fillStyle=l,c.fillText(e,0,0),{dataUrl:a.toDataURL(),width:p,height:u}}var Ns=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","emoji","math","fangsong","ui-serif","ui-sans-serif","ui-monospace","ui-rounded"]);function Xn(e){if(!e)return"";for(let t of e.split(",")){let r=t.trim().replace(/^['"]+|['"]+$/g,"");if(r&&!Ns.has(r.toLowerCase()))return r}return""}function qn(e){let t=String(e!=null?e:"400").trim().toLowerCase();if(t==="normal")return 400;if(t==="bold")return 700;let r=parseInt(t,10);return Number.isFinite(r)?Math.min(900,Math.max(100,r)):400}function Wn(e){let t=String(e!=null?e:"normal").trim().toLowerCase();return t.startsWith("italic")?"italic":t.startsWith("oblique")?"oblique":"normal"}function Bs(e){let t=String(e!=null?e:"100%").match(/(\d+(?:\.\d+)?)\s*%/);return t?Math.max(50,Math.min(200,parseFloat(t[1]))):100}function Us(e){let t=String(e||"400").trim(),r=t.match(/^(\d{2,3})\s+(\d{2,3})$/);if(r){let l=qn(r[1]),s=qn(r[2]);return{min:Math.min(l,s),max:Math.max(l,s)}}let o=qn(t);return{min:o,max:o}}function Fs(e){let t=String(e||"normal").trim().toLowerCase();return t==="italic"?{kind:"italic"}:t.startsWith("oblique")?{kind:"oblique"}:{kind:"normal"}}function qs(e){let t=String(e||"100%").trim(),r=t.match(/(\d+(?:\.\d+)?)\s*%\s+(\d+(?:\.\d+)?)\s*%/);if(r){let s=parseFloat(r[1]),i=parseFloat(r[2]);return{min:Math.min(s,i),max:Math.max(s,i)}}let o=t.match(/(\d+(?:\.\d+)?)\s*%/),l=o?parseFloat(o[1]):100;return{min:l,max:l}}function Ws(e,t){if(!e)return!1;try{let r=new URL(e,location.href);if(r.origin===location.origin)return!0;let o=r.host.toLowerCase();if(["fonts.googleapis.com","fonts.gstatic.com","use.typekit.net","p.typekit.net","kit.fontawesome.com","use.fontawesome.com"].some(s=>o.endsWith(s)))return!0;let l=(r.pathname+r.search).toLowerCase();if(/\bfont(s)?\b/.test(l)||/\.woff2?(\b|$)/.test(l))return!0;for(let s of t){let i=s.toLowerCase().replace(/\s+/g,"+"),d=s.toLowerCase().replace(/\s+/g,"-");if(l.includes(i)||l.includes(d))return!0}return!1}catch{return!1}}function zs(e){var r;let t=new Set;for(let o of e||[]){let l=(r=String(o).split("__")[0])==null?void 0:r.trim();l&&t.add(l)}return t}function Jr(e,t){return e&&e.replace(/url\(\s*(['"]?)([^)'"]+)\1\s*\)/g,(r,o,l)=>{let s=(l||"").trim();if(!s||/^data:|^blob:|^https?:|^file:|^about:/i.test(s))return r;let i=s;try{i=new URL(s,t||location.href).href}catch{}return`url("${i}")`})}var pr=/@import\s+(?:url\(\s*(['"]?)([^)"']+)\1\s*\)|(['"])([^"']+)\3)([^;]*);/g,Yn=4;async function Hs(e,t,r){if(!e)return e;let o=new Set;function l(d,p){try{return new URL(d,p||location.href).href}catch{return d}}async function s(d,p,u=0){if(u>Yn)return console.warn(`[snapDOM] @import depth exceeded (${Yn}) at ${p}`),d;let a="",c=0,h;for(;h=pr.exec(d);){a+=d.slice(c,h.index),c=pr.lastIndex;let b=(h[2]||h[4]||"").trim(),y=l(b,p);if(o.has(y)){console.warn(`[snapDOM] Skipping circular @import: ${y}`);continue}o.add(y);let f="";try{let m=await Et(y,{as:"text",useProxy:r,silent:!0});m.ok&&typeof m.data=="string"&&(f=m.data)}catch{}f?(f=Jr(f,y),f=await s(f,y,u+1),a+=`
/* inlined: ${y} */
${f}
`):a+=h[0]}return a+=d.slice(c),a}let i=Jr(e,t||location.href);return i=await s(i,t||location.href,0),i}var Lo=/url\((["']?)([^"')]+)\1\)/g,Vs=/@font-face[^{}]*\{[^}]*\}/g;function Io(e){if(!e)return[];let t=[],r=e.split(",").map(o=>o.trim()).filter(Boolean);for(let o of r){let l=o.match(/^U\+([0-9A-Fa-f?]+)(?:-([0-9A-Fa-f?]+))?$/);if(!l)continue;let s=l[1],i=l[2],d=p=>{if(!p.includes("?"))return parseInt(p,16);let u=parseInt(p.replace(/\?/g,"0"),16),a=parseInt(p.replace(/\?/g,"F"),16);return[u,a]};if(i){let p=d(s),u=d(i),a=Array.isArray(p)?p[0]:p,c=Array.isArray(u)?u[1]:u;t.push([Math.min(a,c),Math.max(a,c)])}else{let p=d(s);Array.isArray(p)?t.push([p[0],p[1]]):t.push([p,p])}}return t}function Po(e,t){if(!t.length||!e||e.size===0)return!0;for(let r of e)for(let[o,l]of t)if(r>=o&&r<=l)return!0;return!1}function _r(e,t){let r=[];if(!e)return r;for(let o of e.matchAll(Lo)){let l=(o[2]||"").trim();if(!(!l||l.startsWith("data:"))){if(!/^https?:/i.test(l))try{l=new URL(l,t||location.href).href}catch{}r.push(l)}}return r}async function Ro(e,t,r=""){var l,s,i,d,p;let o=e;for(let u of e.matchAll(Lo)){let a=$r(u[0]);if(!a)continue;let c=a;if(!c.startsWith("http")&&!c.startsWith("data:"))try{c=new URL(c,t||location.href).href}catch{}if(!Lt(c)){if((l=pe.resource)!=null&&l.has(c)){(s=pe.font)==null||s.add(c),o=o.replace(u[0],`url(${pe.resource.get(c)})`);continue}if(!((i=pe.font)!=null&&i.has(c)))try{let h=await Et(c,{as:"dataURL",useProxy:r,silent:!0});if(h.ok&&typeof h.data=="string"){let b=h.data;(d=pe.resource)==null||d.set(c,b),(p=pe.font)==null||p.add(c),o=o.replace(u[0],`url(${b})`)}}catch{console.warn("[snapDOM] Failed to fetch font resource:",c)}}}return o}function Ys(e){if(!e.length)return null;let t=(i,d)=>e.some(([p,u])=>!(u<i||p>d)),r=t(0,255)||t(305,305),o=t(256,591)||t(7680,7935),l=t(880,1023),s=t(1024,1279);return t(7840,7929)||t(258,259)||t(416,417)||t(431,432)?"vietnamese":s?"cyrillic":l?"greek":o?"latin-ext":r?"latin":null}function Gr(e={}){let t=new Set((e.families||[]).map(l=>String(l).toLowerCase())),r=new Set((e.domains||[]).map(l=>String(l).toLowerCase())),o=new Set((e.subsets||[]).map(l=>String(l).toLowerCase()));return(l,s)=>{if(t.size&&t.has(l.family.toLowerCase()))return!0;if(r.size)for(let i of l.srcUrls)try{if(r.has(new URL(i).host.toLowerCase()))return!0}catch{}if(o.size){let i=Ys(s);if(i&&o.has(i))return!0}return!1}}function Qs(e){var s,i,d,p,u,a;if(!e)return e;let t=/@font-face[^{}]*\{[^}]*\}/gi,r=new Set,o=[];for(let c of e.match(t)||[]){let h=((s=c.match(/font-family:\s*([^;]+);/i))==null?void 0:s[1])||"",b=Xn(h),y=(((i=c.match(/font-weight:\s*([^;]+);/i))==null?void 0:i[1])||"400").trim(),f=(((d=c.match(/font-style:\s*([^;]+);/i))==null?void 0:d[1])||"normal").trim(),m=(((p=c.match(/font-stretch:\s*([^;]+);/i))==null?void 0:p[1])||"100%").trim(),E=(((u=c.match(/unicode-range:\s*([^;]+);/i))==null?void 0:u[1])||"").trim(),k=(((a=c.match(/src\s*:\s*([^;}]+)[;}]/i))==null?void 0:a[1])||"").trim(),x=_r(k,location.href),S=x.length?x.map(_=>String(_).toLowerCase()).sort().join("|"):k.toLowerCase(),w=[String(b||"").toLowerCase(),y,f,m,E.toLowerCase(),S].join("|");r.has(w)||(r.add(w),o.push(c))}if(o.length===0)return e;let l=0;return e.replace(t,()=>o[l++]||"")}function Js(e,t,r,o){let l=Array.from(e||[]).sort().join("|"),s=t?JSON.stringify({families:(t.families||[]).map(d=>String(d).toLowerCase()).sort(),domains:(t.domains||[]).map(d=>String(d).toLowerCase()).sort(),subsets:(t.subsets||[]).map(d=>String(d).toLowerCase()).sort()}):"",i=(r||[]).map(d=>`${(d.family||"").toLowerCase()}::${d.weight||"normal"}::${d.style||"normal"}::${d.src||""}`).sort().join("|");return`fonts-embed-css::req=${l}::ex=${s}::lf=${i}::px=${o||""}`}async function Oo(e,t,r,o){let l;try{l=e.cssRules||[]}catch{return}let s=(i,d)=>{try{return new URL(i,d||location.href).href}catch{return i}};for(let i of l){if(i.type===CSSRule.IMPORT_RULE&&i.styleSheet){let d=i.href?s(i.href,t):t;if(o.depth>=Yn){console.warn(`[snapDOM] CSSOM import depth exceeded (${Yn}) at ${d}`);continue}if(d&&o.visitedSheets.has(d)){console.warn(`[snapDOM] Skipping circular CSSOM import: ${d}`);continue}d&&o.visitedSheets.add(d);let p={...o,depth:(o.depth||0)+1};await Oo(i.styleSheet,d,r,p);continue}if(i.type===CSSRule.FONT_FACE_RULE){let d=(i.style.getPropertyValue("font-family")||"").trim(),p=Xn(d);if(!p||Lt(p))continue;let u=(i.style.getPropertyValue("font-weight")||"400").trim(),a=(i.style.getPropertyValue("font-style")||"normal").trim(),c=(i.style.getPropertyValue("font-stretch")||"100%").trim(),h=(i.style.getPropertyValue("src")||"").trim(),b=(i.style.getPropertyValue("unicode-range")||"").trim();if(!o.faceMatchesRequired(p,a,u,c))continue;let y=Io(b);if(!Po(o.usedCodepoints,y))continue;let f={family:p,weightSpec:u,styleSpec:a,stretchSpec:c,unicodeRange:b,srcRaw:h,srcUrls:_r(h,t||location.href),href:t||location.href};if(o.simpleExcluder&&o.simpleExcluder(f,y))continue;if(/url\(/i.test(h)){let m=await Ro(h,t||location.href,o.useProxy);await r(`@font-face{font-family:${p};src:${m};font-style:${a};font-weight:${u};font-stretch:${c};${b?`unicode-range:${b};`:""}}`)}else await r(`@font-face{font-family:${p};src:${h};font-style:${a};font-weight:${u};font-stretch:${c};${b?`unicode-range:${b};`:""}}`)}}}async function Gs({required:e,usedCodepoints:t,exclude:r=void 0,localFonts:o=[],useProxy:l=""}={}){var f,m,E,k,x,S,w,_,L,O,Q,P,T,B,N,X,W,ne;e instanceof Set||(e=new Set),t instanceof Set||(t=new Set);let s=new Map;for(let D of e){let[z,j,V,C]=String(D).split("__");if(!z)continue;let I=s.get(z)||[];I.push({w:parseInt(j,10),s:V,st:parseInt(C,10)}),s.set(z,I)}function i(D,z,j,V){if(!s.has(D))return!1;let C=s.get(D),I=Us(j),U=Fs(z),J=qs(V),oe=I.min!==I.max,ue=I.min,de=ie=>U.kind==="normal"&&ie==="normal"||U.kind!=="normal"&&(ie==="italic"||ie==="oblique"),ye=!1;for(let ie of C){let g=oe?ie.w>=I.min&&ie.w<=I.max:ie.w===ue,$=de(Wn(ie.s)),A=ie.st>=J.min&&ie.st<=J.max;if(g&&$&&A){ye=!0;break}}if(ye)return!0;if(!oe)for(let ie of C){let g=de(Wn(ie.s)),$=ie.st>=J.min&&ie.st<=J.max;if(Math.abs(ue-ie.w)<=300&&g&&$)return!0}if(!oe&&U.kind==="normal"&&C.some(ie=>Wn(ie.s)!=="normal"))for(let ie of C){let g=Math.abs(ue-ie.w)<=300,$=ie.st>=J.min&&ie.st<=J.max;if(g&&$)return!0}return!1}let d=Gr(r),p=Js(e,r,o,l);if((f=pe.resource)!=null&&f.has(p))return pe.resource.get(p);let u=zs(e),a=[],c=pr;for(let D of document.querySelectorAll("style")){let z=D.textContent||"";for(let j of z.matchAll(c)){let V=(j[2]||j[4]||"").trim();!V||Lt(V)||document.querySelector(`link[rel="stylesheet"][href="${V}"]`)||a.push(V)}}a.length&&await Promise.all(a.map(D=>new Promise(z=>{if(document.querySelector(`link[rel="stylesheet"][href="${D}"]`))return z(null);let j=document.createElement("link");j.rel="stylesheet",j.href=D,j.setAttribute("data-snapdom","injected-import"),j.onload=()=>z(j),j.onerror=()=>z(null),document.head.appendChild(j)})));let h="",b=Array.from(document.querySelectorAll('link[rel="stylesheet"]')).filter(D=>!!D.href);for(let D of b)try{if(Lt(D.href))continue;let z="",j=!1;try{j=new URL(D.href,location.href).origin===location.origin}catch{}if(!j&&!Ws(D.href,u))continue;if(j){let C=Array.from(document.styleSheets).find(I=>I.href===D.href);if(C)try{let I=C.cssRules||[];z=Array.from(I).map(U=>U.cssText).join("")}catch{}}if(!z&&(z=(await Et(D.href,{as:"text",useProxy:l})).data,Lt(D.href)))continue;z=await Hs(z,D.href,l);let V="";for(let C of z.match(Vs)||[]){let I=(((m=C.match(/font-family:\s*([^;]+);/i))==null?void 0:m[1])||"").trim(),U=Xn(I);if(!U||Lt(U))continue;let J=(((E=C.match(/font-weight:\s*([^;]+);/i))==null?void 0:E[1])||"400").trim(),oe=(((k=C.match(/font-style:\s*([^;]+);/i))==null?void 0:k[1])||"normal").trim(),ue=(((x=C.match(/font-stretch:\s*([^;]+);/i))==null?void 0:x[1])||"100%").trim(),de=(((S=C.match(/unicode-range:\s*([^;]+);/i))==null?void 0:S[1])||"").trim(),ye=(((w=C.match(/src\s*:\s*([^;}]+)[;}]/i))==null?void 0:w[1])||"").trim(),ie=_r(ye,D.href);if(!i(U,oe,J,ue))continue;let g=Io(de);if(!Po(t,g))continue;let $={family:U,weightSpec:J,styleSpec:oe,stretchSpec:ue,unicodeRange:de,srcRaw:ye,srcUrls:ie,href:D.href};if(r&&d($,g))continue;V+=/url\(/i.test(ye)?await Ro(C,D.href,l):C}V.trim()&&(h+=V)}catch{console.warn("[snapDOM] Failed to process stylesheet:",D.href)}let y={requiredIndex:s,usedCodepoints:t,faceMatchesRequired:i,simpleExcluder:r?Gr(r):null,useProxy:l,visitedSheets:new Set,depth:0};for(let D of document.styleSheets)if(!(D.href&&b.some(z=>z.href===D.href)))try{let z=D.href||location.href;z&&y.visitedSheets.add(z),await Oo(D,z,async j=>{h+=j},y)}catch{}try{for(let D of document.fonts||[]){if(!D||!D.family||D.status!=="loaded"||!D._snapdomSrc)continue;let z=String(D.family).replace(/^['"]+|['"]+$/g,"");if(Lt(z)||!s.has(z)||(r==null?void 0:r.families)&&r.families.some(V=>String(V).toLowerCase()===z.toLowerCase()))continue;let j=D._snapdomSrc;if(!String(j).startsWith("data:")){if((_=pe.resource)!=null&&_.has(D._snapdomSrc))j=pe.resource.get(D._snapdomSrc),(L=pe.font)==null||L.add(D._snapdomSrc);else if(!((O=pe.font)!=null&&O.has(D._snapdomSrc)))try{let V=await Et(D._snapdomSrc,{as:"dataURL",useProxy:l,silent:!0});if(V.ok&&typeof V.data=="string")j=V.data,(Q=pe.resource)==null||Q.set(D._snapdomSrc,j),(P=pe.font)==null||P.add(D._snapdomSrc);else continue}catch{console.warn("[snapDOM] Failed to fetch dynamic font src:",D._snapdomSrc);continue}}h+=`@font-face{font-family:'${z}';src:url(${j});font-style:${D.style||"normal"};font-weight:${D.weight||"normal"};}`}}catch{}for(let D of o){if(!D||typeof D!="object")continue;let z=String(D.family||"").replace(/^['"]+|['"]+$/g,"");if(!z||Lt(z)||!s.has(z)||(r==null?void 0:r.families)&&r.families.some(J=>String(J).toLowerCase()===z.toLowerCase()))continue;let j=D.weight!=null?String(D.weight):"normal",V=D.style!=null?String(D.style):"normal",C=D.stretchPct!=null?`${D.stretchPct}%`:"100%",I=String(D.src||""),U=I;if(!U.startsWith("data:")){if((T=pe.resource)!=null&&T.has(I))U=pe.resource.get(I),(B=pe.font)==null||B.add(I);else if(!((N=pe.font)!=null&&N.has(I)))try{let J=await Et(I,{as:"dataURL",useProxy:l,silent:!0});if(J.ok&&typeof J.data=="string")U=J.data,(X=pe.resource)==null||X.set(I,U),(W=pe.font)==null||W.add(I);else continue}catch{console.warn("[snapDOM] Failed to fetch localFonts src:",I);continue}}h+=`@font-face{font-family:'${z}';src:url(${U});font-style:${V};font-weight:${j};font-stretch:${C};}`}return h&&(h=Qs(h),(ne=pe.resource)==null||ne.set(p,h)),h}function Xs(e){let t=new Set;if(!e)return t;let r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null),o=i=>{let d=Xn(i.fontFamily);if(!d)return;let p=(u,a,c)=>`${d}__${qn(u)}__${Wn(a)}__${Bs(c)}`;t.add(p(i.fontWeight,i.fontStyle,i.fontStretch))};o(getComputedStyle(e));let l=getComputedStyle(e,"::before");l&&l.content&&l.content!=="none"&&o(l);let s=getComputedStyle(e,"::after");for(s&&s.content&&s.content!=="none"&&o(s);r.nextNode();){let i=r.currentNode,d=getComputedStyle(i);o(d);let p=getComputedStyle(i,"::before");p&&p.content&&p.content!=="none"&&o(p);let u=getComputedStyle(i,"::after");u&&u.content&&u.content!=="none"&&o(u)}return t}function Ks(e){var l;let t=new Set,r=s=>{if(s)for(let i of s)t.add(i.codePointAt(0))},o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null);for(;o.nextNode();){let s=o.currentNode;if(s.nodeType===Node.TEXT_NODE)r(s.nodeValue||"");else if(s.nodeType===Node.ELEMENT_NODE){let i=s;for(let d of["::before","::after"]){let p=(l=getComputedStyle(i,d))==null?void 0:l.getPropertyValue("content");if(!(!p||p==="none"))if(/^"/.test(p)||/^'/.test(p))r(p.slice(1,-1));else{let u=p.match(/\\[0-9A-Fa-f]{1,6}/g);if(u)for(let a of u)try{t.add(parseInt(a.slice(1),16))}catch{}}}}}return t}async function Zs(e,t=2){try{await document.fonts.ready}catch{}let r=Array.from(e||[]).filter(Boolean);if(r.length===0)return;let o=()=>{let l=document.createElement("div");l.style.cssText="position:absolute!important;left:-9999px!important;top:0!important;opacity:0!important;pointer-events:none!important;contain:layout size style;";for(let s of r){let i=document.createElement("span");i.textContent="AaBbGg1234\xC1\xC9\xCD\xD3\xDA\xE7\xF1\u2014\u221E",i.style.fontFamily=`"${s}"`,i.style.fontWeight="700",i.style.fontStyle="italic",i.style.fontSize="32px",i.style.lineHeight="1",i.style.whiteSpace="nowrap",i.style.margin="0",i.style.padding="0",l.appendChild(i)}document.body.appendChild(l),l.offsetWidth,document.body.removeChild(l)};for(let l=0;l<Math.max(1,t);l++)o(),await new Promise(s=>requestAnimationFrame(()=>requestAnimationFrame(s)))}async function el(e,t,r,o={}){let l=[[e,t]],s=["background-image","mask","mask-image","-webkit-mask","-webkit-mask-image","mask-source","mask-box-image-source","mask-border-source","-webkit-mask-box-image-source","border-image","border-image-source"],i=["mask-position","mask-size","mask-repeat","-webkit-mask-position","-webkit-mask-size","-webkit-mask-repeat","mask-origin","mask-clip","-webkit-mask-origin","-webkit-mask-clip","-webkit-mask-position-x","-webkit-mask-position-y"],d=["background-position","background-position-x","background-position-y","background-size","background-repeat","background-origin","background-clip","background-attachment","background-blend-mode"],p=["border-image-slice","border-image-width","border-image-outset","border-image-repeat"];for(;l.length;){let[u,a]=l.shift(),c=r.get(u)||Mo(u);r.has(u)||r.set(u,c);let h=(()=>{let f=c.getPropertyValue("border-image"),m=c.getPropertyValue("border-image-source");return f&&f!=="none"||m&&m!=="none"})();for(let f of d){let m=c.getPropertyValue(f);m&&a.style.setProperty(f,m)}for(let f of s){let m=c.getPropertyValue(f);if(!m||m==="none")continue;let E=To(m),k=await Promise.all(E.map(x=>Co(x,o)));k.some(x=>x&&x!=="none"&&!/^url\(undefined/.test(x))&&a.style.setProperty(f,k.join(", "))}for(let f of i){let m=c.getPropertyValue(f);!m||m==="initial"||a.style.setProperty(f,m)}if(h)for(let f of p){let m=c.getPropertyValue(f);!m||m==="initial"||a.style.setProperty(f,m)}let b=Array.from(u.children),y=Array.from(a.children).filter(f=>!(f.dataset&&f.dataset.snapdomPseudo));for(let f=0;f<Math.min(b.length,y.length);f++)l.push([b[f],y[f]])}}function nn(e,{fast:t=!1}={}){if(t)return e();"requestIdleCallback"in window?requestIdleCallback(e,{timeout:50}):setTimeout(e,1)}function wn(){if(typeof navigator>"u")return!1;let e=navigator.userAgent||"",t=e.toLowerCase(),r=t.includes("safari")&&!t.includes("chrome")&&!t.includes("crios")&&!t.includes("fxios")&&!t.includes("android"),o=/applewebkit/i.test(e),l=/mobile/i.test(e),s=!/safari/i.test(e),i=o&&l&&s,d=/(micromessenger|wxwork|wecom|windowswechat|macwechat)/i.test(e),p=/(baiduboxapp|baidubrowser|baidusearch|baiduboxlite)/i.test(t),u=/ipad|iphone|ipod/.test(t)&&o;return r||i||d||p||u}var Cn=[];function Do(e){if(!e)return null;if(Array.isArray(e)){let[t,r]=e;return typeof t=="function"?t(r):t}if(typeof e=="object"&&"plugin"in e){let{plugin:t,options:r}=e;return typeof t=="function"?t(r):t}return typeof e=="function"?e():e}function tl(...e){let t=e.flat();for(let r of t){let o=Do(r);o&&(Cn.some(l=>l&&l.name&&o.name&&l.name===o.name)||Cn.push(o))}}function jo(e){return(e&&Array.isArray(e.plugins)?e.plugins:Cn)||Cn}async function Ut(e,t,r){let o=r,l=jo(t);for(let s of l){let i=s&&typeof s[e]=="function"?s[e]:null;if(!i)continue;let d=await i(t,o);typeof d<"u"&&(o=d)}return o}async function nl(e,t,r){let o=[],l=jo(t);for(let s of l){let i=s&&typeof s[e]=="function"?s[e]:null;if(!i)continue;let d=await i(t,r);typeof d<"u"&&o.push(d)}return o}function rl(e){let t=[];if(Array.isArray(e))for(let r of e){let o=Do(r);if(!o||!o.name)continue;let l=t.findIndex(s=>s&&s.name===o.name);l>=0&&t.splice(l,1),t.push(o)}for(let r of Cn)r&&r.name&&!t.some(o=>o.name===r.name)&&t.push(r);return Object.freeze(t)}function ol(e,t,r=!1){return!e||e.plugins&&!r||(e.plugins=rl(t)),e}var Xr=new WeakMap,hr=new Map,mr=0;function Sn(){mr++}var Kr=!1;function al(e=document.documentElement){var t,r;if(!Kr){Kr=!0;try{new MutationObserver(()=>Sn()).observe(e,{subtree:!0,childList:!0,characterData:!0,attributes:!0})}catch{}try{new MutationObserver(()=>Sn()).observe(document.head,{subtree:!0,childList:!0,characterData:!0,attributes:!0})}catch{}try{let o=document.fonts;o&&((t=o.addEventListener)==null||t.call(o,"loadingdone",Sn),(r=o.ready)==null||r.then(()=>Sn()).catch(()=>{}))}catch{}}}function il(e,t={}){let r={},o=e.getPropertyValue("visibility");for(let s=0;s<e.length;s++){let i=e[s],d=e.getPropertyValue(i);(i==="background-image"||i==="content")&&d.includes("url(")&&!d.includes("data:")&&(d="none"),r[i]=d}let l=["text-decoration-line","text-decoration-color","text-decoration-style","text-decoration-thickness","text-underline-offset","text-decoration-skip-ink"];for(let s of l)if(!r[s])try{let i=e.getPropertyValue(s);i&&(r[s]=i)}catch{}if(t.embedFonts){let s=["font-feature-settings","font-variation-settings","font-kerning","font-variant","font-variant-ligatures","font-optical-sizing"];for(let i of s)if(!r[i])try{let d=e.getPropertyValue(i);d&&(r[i]=d)}catch{}}return o==="hidden"&&(r.opacity="0"),r}var Zr=new WeakMap;function sl(e){let t=Zr.get(e);return t||(t=Object.entries(e).sort((r,o)=>r[0]<o[0]?-1:r[0]>o[0]?1:0).map(([r,o])=>`${r}:${o}`).join(";"),Zr.set(e,t),t)}function ll(e,t=null,r={}){let o=Xr.get(e);if(o&&o.epoch===mr)return o.snapshot;let l=t||getComputedStyle(e),s=il(l,r);return hl(e,l,s),Xr.set(e,{epoch:mr,snapshot:s}),s}function ul(e,t){return e&&e.session&&e.persist?e:e&&(e.styleMap||e.styleCache||e.nodeMap)?{session:e,persist:{snapshotKeyCache:hr,defaultStyle:pe.defaultStyle,baseStyle:pe.baseStyle,image:pe.image,resource:pe.resource,background:pe.background,font:pe.font},options:t||{}}:{session:pe.session,persist:{snapshotKeyCache:hr,defaultStyle:pe.defaultStyle,baseStyle:pe.baseStyle,image:pe.image,resource:pe.resource,background:pe.background,font:pe.font},options:e||t||{}}}async function rn(e,t,r,o){var h,b,y;if(e.tagName==="STYLE")return;let l=ul(r,o),s=l.options&&l.options.cache||"auto";if(s!=="disabled"&&al(document.documentElement),s==="disabled"&&!l.session.__bumpedForDisabled&&(Sn(),hr.clear(),l.session.__bumpedForDisabled=!0),xr.has((h=e.tagName)==null?void 0:h.toLowerCase())){let f=(b=e.getAttribute)==null?void 0:b.call(e,"style");f&&t.setAttribute("style",f)}let{session:i,persist:d}=l;i.styleCache.has(e)||i.styleCache.set(e,getComputedStyle(e));let p=i.styleCache.get(e),u=ll(e,p,l.options),a=sl(u),c=d.snapshotKeyCache.get(a);if(!c){let f=((y=e.tagName)==null?void 0:y.toLowerCase())||"div";c=fr(u,f),d.snapshotKeyCache.set(a,c)}i.styleMap.set(t,c)}function cl(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof HTMLIFrameElement||e instanceof SVGElement||e instanceof HTMLObjectElement||e instanceof HTMLEmbedElement}function fl(e){return e.backgroundImage&&e.backgroundImage!=="none"||e.backgroundColor&&e.backgroundColor!=="rgba(0, 0, 0, 0)"&&e.backgroundColor!=="transparent"||(parseFloat(e.borderTopWidth)||0)>0||(parseFloat(e.borderBottomWidth)||0)>0||(parseFloat(e.paddingTop)||0)>0||(parseFloat(e.paddingBottom)||0)>0?!0:(e.overflowBlock||e.overflowY||"visible")!=="visible"}function dl(e){let t=e.parentElement;if(!t)return!1;let r=getComputedStyle(t).display||"";return r.includes("flex")||r.includes("grid")}function pl(e,t){if(e.textContent&&/\S/.test(e.textContent))return!0;let r=e.firstElementChild,o=e.lastElementChild;if(r&&r.tagName==="BR"||o&&o.tagName==="BR")return!0;let l=e.scrollHeight;if(l===0)return!1;let s=parseFloat(t.paddingTop)||0,i=parseFloat(t.paddingBottom)||0;return l>s+i}function hl(e,t,r){if(e instanceof HTMLElement&&e.style&&e.style.height)return;let o=e.tagName&&e.tagName.toLowerCase();if(!o||o!=="div"&&o!=="section"&&o!=="article"&&o!=="main"&&o!=="aside"&&o!=="header"&&o!=="footer"&&o!=="nav"&&o!=="ol"&&o!=="ul"&&o!=="li")return;let l=t.display||"";if(l.includes("flex")||l.includes("grid")||cl(e))return;let s=t.position;if(s==="absolute"||s==="fixed"||s==="sticky"||t.transform!=="none"||fl(t)||dl(e))return;let i=t.overflowX||t.overflow||"visible",d=t.overflowY||t.overflow||"visible";if(i!=="visible"||d!=="visible")return;let p=t.clip;p&&p!=="auto"&&p!=="rect(auto, auto, auto, auto)"||t.visibility==="hidden"||t.opacity==="0"||pl(e,t)&&(delete r.height,delete r["block-size"])}var No=["fill","stroke","color","background-color","stop-color"],eo=new Map;function ml(e,t){let r=t+"::"+e.toLowerCase(),o=eo.get(r);if(o)return o;let l=document,s=t==="http://www.w3.org/2000/svg"?l.createElementNS(t,e):l.createElement(e),i=l.createElement("div");i.style.cssText="position:absolute;left:-99999px;top:-99999px;contain:strict;display:block;",i.appendChild(s),l.documentElement.appendChild(i);let d=getComputedStyle(s),p={};for(let u of No)p[u]=d.getPropertyValue(u)||"";return i.remove(),eo.set(r,p),p}function gl(e,t){var s,i,d;if(!(e instanceof Element)||!(t instanceof Element))return;let r=(s=e.getAttribute)==null?void 0:s.call(e,"style"),o=!!(r&&r.includes("var("));if(!o&&((i=e.attributes)==null?void 0:i.length)){let p=e.attributes;for(let u=0;u<p.length;u++){let a=p[u];if(a&&typeof a.value=="string"&&a.value.includes("var(")){o=!0;break}}}let l=null;if(o)try{l=getComputedStyle(e)}catch{}if(o){let p=e.style;if(p&&p.length)for(let u=0;u<p.length;u++){let a=p[u],c=p.getPropertyValue(a);if(!c||!c.includes("var("))continue;let h=l&&l.getPropertyValue(a);if(h)try{t.style.setProperty(a,h.trim(),p.getPropertyPriority(a))}catch{}}}if(o&&((d=e.attributes)==null?void 0:d.length)){let p=e.attributes;for(let u=0;u<p.length;u++){let a=p[u];if(!a||typeof a.value!="string"||!a.value.includes("var("))continue;let c=a.name,h=l&&l.getPropertyValue(c);if(h)try{t.style.setProperty(c,h.trim())}catch{}}}if(!o){if(!l)try{l=getComputedStyle(e)}catch{l=null}if(!l)return;let p=e.namespaceURI||"html",u=ml(e.tagName,p);for(let a of No){let c=l.getPropertyValue(a)||"",h=u[a]||"";if(c&&c!==h)try{t.style.setProperty(a,c.trim())}catch{}}}}function lr(e,t,r){return Promise.all(e.map(o=>new Promise(l=>{function s(){nn(i=>{!(i&&typeof i.timeRemaining=="function")||i.timeRemaining()>0?t(o,l):s()},{fast:r})}s()})))}function yl(e){return e=e.trim(),!e||/:not\(\s*\[data-sd-slotted\]\s*\)\s*$/.test(e)?e:`${e}:not([data-sd-slotted])`}function bl(e,t,r=!0){return e.split(",").map(o=>o.trim()).filter(Boolean).map(o=>{if(o.startsWith(":where(")||o.startsWith("@"))return o;let l=r?yl(o):o;return`:where(${t} ${l})`}).join(", ")}function vl(e,t){return e?(e=e.replace(/:host\(([^)]+)\)/g,(r,o)=>`:where(${t}:is(${o.trim()}))`),e=e.replace(/:host\b/g,`:where(${t})`),e=e.replace(/:host-context\(([^)]+)\)/g,(r,o)=>`:where(:where(${o.trim()}) ${t})`),e=e.replace(/::slotted\(([^)]+)\)/g,(r,o)=>`:where(${t} ${o.trim()})`),e=e.replace(/(^|})(\s*)([^@}{]+){/g,(r,o,l,s)=>{let i=bl(s,t,!0);return`${o}${l}${i}{`}),e):""}function wl(e){return e.shadowScopeSeq=(e.shadowScopeSeq||0)+1,`s${e.shadowScopeSeq}`}function Sl(e){let t="";try{e.querySelectorAll("style").forEach(o=>{t+=(o.textContent||"")+`
`});let r=e.adoptedStyleSheets||[];for(let o of r)try{if(o&&o.cssRules)for(let l of o.cssRules)t+=l.cssText+`
`}catch{}}catch{}return t}function $l(e,t,r){if(!t)return;let o=document.createElement("style");o.setAttribute("data-sd",r),o.textContent=t,e.insertBefore(o,e.firstChild||null)}function xl(e,t){try{let r=e.currentSrc||e.src||"";if(!r)return;t.setAttribute("src",r),t.removeAttribute("srcset"),t.removeAttribute("sizes"),t.loading="eager",t.decoding="sync"}catch{}}function _l(e){let t=new Set;if(!e)return t;let r=/var\(\s*(--[A-Za-z0-9_-]+)\b/g,o;for(;o=r.exec(e);)t.add(o[1]);return t}function kl(e,t){try{let r=getComputedStyle(e).getPropertyValue(t).trim();if(r)return r}catch{}try{let r=getComputedStyle(document.documentElement).getPropertyValue(t).trim();if(r)return r}catch{}return""}function El(e,t,r){let o=[];for(let l of t){let s=kl(e,l);s&&o.push(`${l}: ${s};`)}return o.length?`${r}{${o.join("")}}
`:""}function Cl(e){e&&(e.nodeType===Node.ELEMENT_NODE&&e.setAttribute("data-sd-slotted",""),e.querySelectorAll&&e.querySelectorAll("*").forEach(t=>t.setAttribute("data-sd-slotted","")))}async function Al(e,t=3){let r=()=>{var s;try{return e.contentDocument||((s=e.contentWindow)==null?void 0:s.document)||null}catch{return null}},o=r(),l=0;for(;l<t&&(!o||!o.body&&!o.documentElement);)await new Promise(s=>setTimeout(s,0)),o=r(),l++;return o&&(o.body||o.documentElement)?o:null}function Ml(e){let t=e.getBoundingClientRect(),r=0,o=0,l=0,s=0;try{let p=getComputedStyle(e);r=parseFloat(p.borderLeftWidth)||0,o=parseFloat(p.borderRightWidth)||0,l=parseFloat(p.borderTopWidth)||0,s=parseFloat(p.borderBottomWidth)||0}catch{}let i=Math.max(0,Math.round(t.width-(r+o))),d=Math.max(0,Math.round(t.height-(l+s)));return{contentWidth:i,contentHeight:d,rect:t}}function Tl(e,t,r){let o=e.createElement("style");return o.setAttribute("data-sd-iframe-pin",""),o.textContent=`html, body {margin: 0 !important;padding: 0 !important;width: ${t}px !important;height: ${r}px !important;min-width: ${t}px !important;min-height: ${r}px !important;box-sizing: border-box !important;overflow: hidden !important;background-clip: border-box !important;}`,(e.head||e.documentElement).appendChild(o),()=>{try{o.remove()}catch{}}}async function Ll(e,t,r){let o=await Al(e,3);if(!o)throw new Error("iframe document not accessible/ready");let{contentWidth:l,contentHeight:s,rect:i}=Ml(e),d=r==null?void 0:r.snap;if(!d||typeof d.toPng!="function")throw new Error("snapdom.toPng not available in iframe or window");let p={...r,scale:1},u=Tl(o,l,s),a;try{a=await d.toPng(o.documentElement,p)}finally{u()}a.style.display="block",a.style.width=`${l}px`,a.style.height=`${s}px`;let c=document.createElement("div");return t.nodeMap.set(c,e),rn(e,c,t,r),c.style.overflow="hidden",c.style.display="block",c.style.width||(c.style.width=`${Math.round(i.width)}px`),c.style.height||(c.style.height=`${Math.round(i.height)}px`),c.appendChild(a),c}var bn=new Map;async function $n(e){var r;if((r=pe.resource)!=null&&r.has(e))return pe.resource.get(e);if(bn.has(e))return bn.get(e);let t=(async()=>{var l;let o=await Et(e,{as:"dataURL",silent:!0});if(!o.ok||typeof o.data!="string")throw new Error(`[snapDOM] Failed to read blob URL: ${e}`);return(l=pe.resource)==null||l.set(e,o.data),o.data})();bn.set(e,t);try{let o=await t;return bn.set(e,o),o}catch(o){throw bn.delete(e),o}}var Il=/\bblob:[^)"'\s]+/g;async function to(e){if(!e||e.indexOf("blob:")===-1)return e;let t=Array.from(new Set(e.match(Il)||[]));if(t.length===0)return e;let r=e;for(let o of t)try{let l=await $n(o);r=r.split(o).join(l)}catch{}return r}function Fn(e){return typeof e=="string"&&e.startsWith("blob:")}function Pl(e){return(e||"").split(",").map(t=>t.trim()).filter(Boolean).map(t=>{let r=t.match(/^(\S+)(\s+.+)?$/);return r?{url:r[1],desc:r[2]||""}:null}).filter(Boolean)}function Rl(e){return e.map(t=>t.desc?`${t.url} ${t.desc.trim()}`:t.url).join(", ")}async function Ol(e){var i,d;if(!e)return;let t=e.querySelectorAll?e.querySelectorAll("img"):[];for(let p of t)try{let u=p.getAttribute("src")||p.currentSrc||"";if(Fn(u)){let c=await $n(u);p.setAttribute("src",c)}let a=p.getAttribute("srcset");if(a&&a.includes("blob:")){let c=Pl(a),h=!1;for(let b of c)if(Fn(b.url))try{b.url=await $n(b.url),h=!0}catch{}h&&p.setAttribute("srcset",Rl(c))}}catch{}let r=e.querySelectorAll?e.querySelectorAll("image"):[];for(let p of r)try{let u="http://www.w3.org/1999/xlink",a=p.getAttribute("href")||((i=p.getAttributeNS)==null?void 0:i.call(p,u,"href"));if(Fn(a)){let c=await $n(a);p.setAttribute("href",c),(d=p.removeAttributeNS)==null||d.call(p,u,"href")}}catch{}let o=e.querySelectorAll?e.querySelectorAll("[style*='blob:']"):[];for(let p of o)try{let u=p.getAttribute("style");if(u&&u.includes("blob:")){let a=await to(u);p.setAttribute("style",a)}}catch{}let l=e.querySelectorAll?e.querySelectorAll("style"):[];for(let p of l)try{let u=p.textContent||"";u.includes("blob:")&&(p.textContent=await to(u))}catch{}let s=["poster"];for(let p of s){let u=e.querySelectorAll?e.querySelectorAll(`[${p}^='blob:']`):[];for(let a of u)try{let c=a.getAttribute(p);Fn(c)&&a.setAttribute(p,await $n(c))}catch{}}}async function zn(e,t,r){var u,a,c,h,b,y;if(!e)throw new Error("Invalid node");let o=new Set,l=null,s=null;if(e.nodeType===Node.ELEMENT_NODE){let f=(e.localName||e.tagName||"").toLowerCase();if(e.id==="snapdom-sandbox"||e.hasAttribute("data-snapdom-sandbox")||ws.has(f))return null}if(e.nodeType===Node.TEXT_NODE||e.nodeType!==Node.ELEMENT_NODE)return e.cloneNode(!0);if(e.getAttribute("data-capture")==="exclude"){if(r.excludeMode==="hide"){let f=document.createElement("div"),m=e.getBoundingClientRect();return f.style.cssText=`display:inline-block;width:${m.width}px;height:${m.height}px;visibility:hidden;`,f}else if(r.excludeMode==="remove")return null}if(r.exclude&&Array.isArray(r.exclude))for(let f of r.exclude)try{if((u=e.matches)!=null&&u.call(e,f)){if(r.excludeMode==="hide"){let m=document.createElement("div"),E=e.getBoundingClientRect();return m.style.cssText=`display:inline-block;width:${E.width}px;height:${E.height}px;visibility:hidden;`,m}else if(r.excludeMode==="remove")return null}}catch(m){console.warn(`Invalid selector in exclude option: ${f}`,m)}if(typeof r.filter=="function")try{if(!r.filter(e)){if(r.filterMode==="hide"){let f=document.createElement("div"),m=e.getBoundingClientRect();return f.style.cssText=`display:inline-block;width:${m.width}px;height:${m.height}px;visibility:hidden;`,f}else if(r.filterMode==="remove")return null}}catch(f){console.warn("Error in filter function:",f)}if(e.tagName==="IFRAME"){let f=!1;try{f=!!(e.contentDocument||((a=e.contentWindow)==null?void 0:a.document))}catch{f=!1}if(f)try{return await Ll(e,t,r)}catch(m){console.warn("[SnapDOM] iframe rasterization failed, fallback:",m)}if(r.placeholders){let m=document.createElement("div");return m.style.cssText=`width:${e.offsetWidth}px;height:${e.offsetHeight}px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;`,rn(e,m,t,r),m}else{let m=e.getBoundingClientRect(),E=document.createElement("div");return E.style.cssText=`display:inline-block;width:${m.width}px;height:${m.height}px;visibility:hidden;`,rn(e,E,t,r),E}}if(e.getAttribute("data-capture")==="placeholder"){let f=e.cloneNode(!1);t.nodeMap.set(f,e),rn(e,f,t,r);let m=document.createElement("div");return m.textContent=e.getAttribute("data-placeholder-text")||"",m.style.cssText="color:#666;font-size:12px;text-align:center;line-height:1.4;padding:0.5em;box-sizing:border-box;",f.appendChild(m),f}if(e.tagName==="CANVAS"){let f="";try{let E=e.getContext("2d",{willReadFrequently:!0});try{E&&E.getImageData(0,0,1,1)}catch{}if(await new Promise(k=>requestAnimationFrame(k)),f=e.toDataURL("image/png"),!f||f==="data:,"){try{E&&E.getImageData(0,0,1,1)}catch{}if(await new Promise(k=>requestAnimationFrame(k)),f=e.toDataURL("image/png"),!f||f==="data:,"){let k=document.createElement("canvas");k.width=e.width,k.height=e.height;let x=k.getContext("2d");x&&(x.drawImage(e,0,0),f=k.toDataURL("image/png"))}}}catch{}let m=document.createElement("img");try{m.decoding="sync",m.loading="eager"}catch{}f&&(m.src=f),m.width=e.width,m.height=e.height;try{let E=getComputedStyle(e);E.width&&(m.style.width=E.width),E.height&&(m.style.height=E.height)}catch{}return t.nodeMap.set(m,e),rn(e,m,t,r),m}let i;try{if(i=e.cloneNode(!1),gl(e,i),t.nodeMap.set(i,e),e.tagName==="IMG"){xl(e,i);try{let f=e.getBoundingClientRect(),m=Math.round(f.width||0),E=Math.round(f.height||0);if(!m||!E){let k=window.getComputedStyle(e),x=parseFloat(k.width)||0,S=parseFloat(k.height)||0,w=parseInt(e.getAttribute("width")||"",10)||0,_=parseInt(e.getAttribute("height")||"",10)||0,L=e.width||e.naturalWidth||0,O=e.height||e.naturalHeight||0;m=Math.round(m||x||w||L||0),E=Math.round(E||S||_||O||0)}m&&(i.dataset.snapdomWidth=String(m)),E&&(i.dataset.snapdomHeight=String(E))}catch{}try{let f=e.getAttribute("style")||"",m=window.getComputedStyle(e),E=_=>{let L=f.match(new RegExp(`${_}\\s*:\\s*([^;]+)`,"i")),O=L?L[1].trim():m.getPropertyValue(_);return/%|auto/i.test(String(O||""))},k=parseInt(i.dataset.snapdomWidth||"0",10),x=parseInt(i.dataset.snapdomHeight||"0",10),S=E("width")||!k,w=E("height")||!x;S&&k&&(i.style.width=`${k}px`),w&&x&&(i.style.height=`${x}px`),k&&(i.style.minWidth=`${k}px`),x&&(i.style.minHeight=`${x}px`)}catch{}}}catch(f){throw console.error("[Snapdom] Failed to clone node:",e,f),f}if(e instanceof HTMLTextAreaElement){let f=e.getBoundingClientRect();i.style.width=`${f.width}px`,i.style.height=`${f.height}px`}if(e instanceof HTMLInputElement&&(i.value=e.value,i.setAttribute("value",e.value),e.checked!==void 0&&(i.checked=e.checked,e.checked&&i.setAttribute("checked",""),e.indeterminate&&(i.indeterminate=e.indeterminate))),e instanceof HTMLSelectElement&&(l=e.value),e instanceof HTMLTextAreaElement&&(s=e.value),rn(e,i,t,r),e.shadowRoot){let f=function(O,Q){if(O.nodeType===Node.ELEMENT_NODE&&O.tagName==="STYLE")return Q(null);zn(O,t,r).then(P=>{Q(P||null)}).catch(()=>{Q(null)})};try{let O=e.shadowRoot.querySelectorAll("slot");for(let Q of O){let P=[];try{P=((c=Q.assignedNodes)==null?void 0:c.call(Q,{flatten:!0}))||((h=Q.assignedNodes)==null?void 0:h.call(Q))||[]}catch{P=((b=Q.assignedNodes)==null?void 0:b.call(Q))||[]}for(let T of P)o.add(T)}}catch{}let m=wl(t),E=`[data-sd="${m}"]`;try{i.setAttribute("data-sd",m)}catch{}let k=Sl(e.shadowRoot),x=vl(k,E),S=_l(k),w=El(e,S,E);$l(i,w+x,m);let _=document.createDocumentFragment(),L=await lr(Array.from(e.shadowRoot.childNodes),f,r.fast);_.append(...L.filter(O=>!!O)),i.appendChild(_)}if(e.tagName==="SLOT"){let f=function(S,w){zn(S,t,r).then(_=>{_&&Cl(_),w(_||null)}).catch(()=>{w(null)})},m=((y=e.assignedNodes)==null?void 0:y.call(e,{flatten:!0}))||[],E=m.length>0?m:Array.from(e.childNodes),k=document.createDocumentFragment(),x=await lr(Array.from(E),f,r.fast);return k.append(...x.filter(S=>!!S)),k}function d(f,m){if(o.has(f))return m(null);zn(f,t,r).then(E=>{m(E||null)}).catch(()=>{m(null)})}let p=await lr(Array.from(e.childNodes),d,r.fast);if(i.append(...p.filter(f=>!!f)),l!==null&&i instanceof HTMLSelectElement){i.value=l;for(let f of i.options)f.value===l?f.setAttribute("selected",""):f.removeAttribute("selected")}return s!==null&&i instanceof HTMLTextAreaElement&&(i.textContent=s),i}function Dl(e){return/\bcounter\s*\(|\bcounters\s*\(/.test(e||"")}function jl(e){return(e||"").replace(/"([^"]*)"/g,"$1")}function no(e,t=!1){let r="",o=Math.max(1,e);for(;o>0;)o--,r=String.fromCharCode(97+o%26)+r,o=Math.floor(o/26);return t?r.toUpperCase():r}function ro(e,t=!0){let r=[[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]],o=Math.max(1,Math.min(3999,e)),l="";for(let[s,i]of r)for(;o>=s;)l+=i,o-=s;return t?l:l.toLowerCase()}function oo(e,t){switch((t||"decimal").toLowerCase()){case"decimal":return String(Math.max(0,e));case"decimal-leading-zero":return(e<10?"0":"")+String(Math.max(0,e));case"lower-alpha":return no(e,!1);case"upper-alpha":return no(e,!0);case"lower-roman":return ro(e,!1);case"upper-roman":return ro(e,!0);default:return String(Math.max(0,e))}}function Nl(e){let t=()=>{var h,b;return(b=(h=pe==null?void 0:pe.session)==null?void 0:h.__counterEpoch)!=null?b:0},r=t(),o=new WeakMap,l=e instanceof Document?e.documentElement:e,s=h=>h&&h.tagName==="LI",i=h=>{let b=0,y=h==null?void 0:h.parentElement;if(!y)return 0;for(let f of y.children){if(f===h)break;f.tagName==="LI"&&b++}return b},d=h=>{let b=new Map;for(let[y,f]of h)b.set(y,f.slice());return b},p=(h,b,y)=>{var k,x;let f=d(h),m;try{m=((k=y.style)==null?void 0:k.counterReset)||getComputedStyle(y).counterReset}catch{}if(m&&m!=="none")for(let S of m.split(",")){let w=S.trim().split(/\s+/),_=w[0],L=Number.isFinite(Number(w[1]))?Number(w[1]):0;if(!_)continue;let O=b.get(_);if(O&&O.length){let Q=O.slice();Q.push(L),f.set(_,Q)}else f.set(_,[L])}let E;try{E=((x=y.style)==null?void 0:x.counterIncrement)||getComputedStyle(y).counterIncrement}catch{}if(E&&E!=="none")for(let S of E.split(",")){let w=S.trim().split(/\s+/),_=w[0],L=Number.isFinite(Number(w[1]))?Number(w[1]):1;if(!_)continue;let O=f.get(_)||[];O.length===0&&O.push(0),O[O.length-1]+=L,f.set(_,O)}try{if(getComputedStyle(y).display==="list-item"&&s(y)){let S=y.parentElement,w=1;if(S&&S.tagName==="OL"){let L=S.getAttribute("start"),O=Number.isFinite(Number(L))?Number(L):1,Q=i(y),P=y.getAttribute("value");w=Number.isFinite(Number(P))?Number(P):O+Q}else w=1+i(y);let _=f.get("list-item")||[];_.length===0&&_.push(0),_[_.length-1]=w,f.set("list-item",_)}}catch{}return f},u=(h,b,y)=>{let f=p(y,b,h);o.set(h,f);let m=f;for(let E of h.children)m=u(E,f,m);return f},a=new Map;u(l,a,a);function c(){let h=t();if(h!==r){r=h;let b=new Map;u(l,b,b)}}return{get(h,b){var f;c();let y=(f=o.get(h))==null?void 0:f.get(b);return y&&y.length?y[y.length-1]:0},getStack(h,b){var f;c();let y=(f=o.get(h))==null?void 0:f.get(b);return y?y.slice():[]}}}function Bl(e,t,r){if(!e||e==="none")return e;try{let o=/\b(counter|counters)\s*\(([^)]+)\)/g,l=e.replace(o,(s,i,d)=>{var u,a,c,h;let p=String(d).split(",").map(b=>b.trim());if(i==="counter"){let b=(u=p[0])==null?void 0:u.replace(/^["']|["']$/g,""),y=(p[1]||"decimal").toLowerCase(),f=r.get(t,b);return oo(f,y)}else{let b=(a=p[0])==null?void 0:a.replace(/^["']|["']$/g,""),y=(h=(c=p[1])==null?void 0:c.replace(/^["']|["']$/g,""))!=null?h:"",f=(p[2]||"decimal").toLowerCase(),m=r.getStack(t,b);return m.length?m.map(E=>oo(E,f)).join(y):""}});return jl(l)}catch{return"- "}}var en=new WeakMap,ao=300;function Ul(e,t){let r=Bo(e);return t?(t.__pseudoPreflightFp!==r&&(t.__pseudoPreflight=so(e),t.__pseudoPreflightFp=r),!!t.__pseudoPreflight):so(e)}function gr(e){try{return e&&e.cssRules?e.cssRules:null}catch{return null}}function Bo(e){let t=e.querySelectorAll('style,link[rel~="stylesheet"]'),r=`n:${t.length}|`,o=0;for(let s=0;s<t.length;s++){let i=t[s];if(i.tagName==="STYLE"){r+=`S${i.textContent?i.textContent.length:0}|`;let p=i.sheet,u=p?gr(p):null;u&&(o+=u.length)}else{let d=i.getAttribute("href")||"",p=i.getAttribute("media")||"all";r+=`L${d}|m:${p}|`;let u=i.sheet,a=u?gr(u):null;a&&(o+=a.length)}}let l=e.adoptedStyleSheets;return r+=`ass:${Array.isArray(l)?l.length:0}|tr:${o}`,r}function io(e,t,r){let o=gr(e);if(!o)return!1;for(let l=0;l<o.length;l++){if(r.budget<=0)return!1;let s=o[l],i=s&&s.cssText?s.cssText:"";r.budget--;for(let d of t)if(i.includes(d))return!0;if(s&&s.cssRules&&s.cssRules.length)for(let d=0;d<s.cssRules.length&&r.budget>0;d++){let p=s.cssRules[d],u=p&&p.cssText?p.cssText:"";r.budget--;for(let a of t)if(u.includes(a))return!0}if(r.budget<=0)return!1}return!1}function so(e=document){let t=Bo(e),r=en.get(e);if(r&&r.fingerprint===t)return r.result;let o=["::before","::after","::first-letter",":before",":after",":first-letter","counter(","counters(","counter-increment","counter-reset"],l=e.querySelectorAll("style");for(let i=0;i<l.length;i++){let d=l[i].textContent||"";for(let p of o)if(d.includes(p))return en.set(e,{fingerprint:t,result:!0}),!0}let s=e.adoptedStyleSheets;if(Array.isArray(s)&&s.length){let i={budget:ao};try{for(let d of s)if(io(d,o,i))return en.set(e,{fingerprint:t,result:!0}),!0}catch{}}{let i=e.querySelectorAll('style,link[rel~="stylesheet"]'),d={budget:ao};for(let p=0;p<i.length&&d.budget>0;p++){let u=i[p],a=null;if(u.tagName,a=u.sheet||null,a&&io(a,o,d))return en.set(e,{fingerprint:t,result:!0}),!0}}return e.querySelector('[style*="counter("], [style*="counters("]')?(en.set(e,{fingerprint:t,result:!0}),!0):(en.set(e,{fingerprint:t,result:!1}),!1)}var on=new WeakMap,lo=-1;function Fl(e){return(e||"").replace(/"([^"]*)"/g,"$1")}function ql(e){if(!e)return"";let t=[],r=/"([^"]*)"/g,o;for(;o=r.exec(e);)t.push(o[1]);return t.length?t.join(""):Fl(e)}function yr(e,t){let r=e.parentElement,o=r?on.get(r):null;return o?{get(l,s){let i=t.get(l,s),d=o.get(s);return typeof d=="number"?Math.max(i,d):i},getStack(l,s){let i=t.getStack(l,s);if(!i.length)return i;let d=o.get(s);if(typeof d=="number"){let p=i.slice();return p[p.length-1]=Math.max(p[p.length-1],d),p}return i}}:t}function br(e,t,r){let o=new Map;function l(p){let u=[];if(!p||p==="none")return u;for(let a of String(p).split(",")){let c=a.trim().split(/\s+/),h=c[0],b=Number.isFinite(Number(c[1]))?Number(c[1]):void 0;h&&u.push({name:h,num:b})}return u}let s=l(t==null?void 0:t.counterReset),i=l(t==null?void 0:t.counterIncrement);function d(p){if(o.has(p))return o.get(p).slice();let u=r.getStack(e,p);u=u.length?u.slice():[];let a=s.find(h=>h.name===p);if(a){let h=Number.isFinite(a.num)?a.num:0;u=u.length?[...u,h]:[h]}let c=i.find(h=>h.name===p);if(c){let h=Number.isFinite(c.num)?c.num:1;u.length===0&&(u=[0]),u[u.length-1]+=h}return o.set(p,u.slice()),u}return{get(p,u){let a=d(u);return a.length?a[a.length-1]:0},getStack(p,u){return d(u)},__incs:i}}function Wl(e,t,r){let o;try{o=getComputedStyle(e,t)}catch{}let l=o==null?void 0:o.content;if(!l||l==="none"||l==="normal")return{text:"",incs:[]};let s=yr(e,r),i=br(e,o,s),d=Dl(l)?Bl(l,e,i):l;return{text:ql(d),incs:i.__incs||[]}}async function Uo(e,t,r,o){var u,a,c,h,b;if(!(e instanceof Element)||!(t instanceof Element))return;let l=e.ownerDocument||document;if(!Ul(l,r))return;let s=(a=(u=pe==null?void 0:pe.session)==null?void 0:u.__counterEpoch)!=null?a:0;if(lo!==s&&(on=new WeakMap,r&&(r.__counterCtx=null),lo=s),!r.__counterCtx)try{r.__counterCtx=Nl(e.ownerDocument||document)}catch{}let i=r.__counterCtx;for(let y of["::before","::after","::first-letter"])try{let f=Mo(e,y);if(!f||f.content==="none"&&f.backgroundImage==="none"&&f.backgroundColor==="transparent"&&(f.borderStyle==="none"||parseFloat(f.borderWidth)===0)&&(!f.transform||f.transform==="none")&&f.display==="inline")continue;if(y==="::first-letter"){let U=getComputedStyle(e);if(!(f.color!==U.color||f.fontSize!==U.fontSize||f.fontWeight!==U.fontWeight))continue;let J=Array.from(t.childNodes).find(A=>{var H;return A.nodeType===Node.TEXT_NODE&&((H=A.textContent)==null?void 0:H.trim().length)>0});if(!J)continue;let oe=J.textContent,ue=(c=oe.match(/^([^\p{L}\p{N}\s]*[\p{L}\p{N}](?:['])?)/u))==null?void 0:c[0],de=oe.slice((ue==null?void 0:ue.length)||0);if(!ue||/[\uD800-\uDFFF]/.test(ue))continue;let ye=document.createElement("span");ye.textContent=ue,ye.dataset.snapdomPseudo="::first-letter";let ie=Yr(f),g=fr(ie,"span");r.styleMap.set(ye,g);let $=document.createTextNode(de);t.replaceChild($,J),t.insertBefore(ye,$);continue}let m=(h=f.content)!=null?h:"",E=m===""||m==="none"||m==="normal",{text:k,incs:x}=Wl(e,y,i),S=f.backgroundImage,w=f.backgroundColor,_=f.fontFamily,L=parseInt(f.fontSize)||32,O=parseInt(f.fontWeight)||!1,Q=f.color||"#000",P=f.borderStyle,T=parseFloat(f.borderWidth),B=f.transform,N=Lt(_),X=!E&&k!=="",W=S&&S!=="none",ne=w&&w!=="transparent"&&w!=="rgba(0, 0, 0, 0)",D=P&&P!=="none"&&T>0,z=B&&B!=="none";if(!(X||W||ne||D||z)){if(x&&x.length&&e.parentElement){let U=on.get(e.parentElement)||new Map;for(let{name:J}of x){if(!J)continue;let oe=yr(e,i),ue=br(e,getComputedStyle(e,y),oe).get(e,J);U.set(J,ue)}on.set(e.parentElement,U)}continue}let j=document.createElement("span");j.dataset.snapdomPseudo=y,j.style.pointerEvents="none";let V=Yr(f),C=fr(V,"span");if(r.styleMap.set(j,C),N&&k&&k.length===1){let{dataUrl:U,width:J,height:oe}=await js(k,_,O,L,Q),ue=document.createElement("img");ue.src=U,ue.style=`height:${L}px;width:${J/oe*L}px;object-fit:contain;`,j.appendChild(ue),t.dataset.snapdomHasIcon="true"}else if(k&&k.startsWith("url(")){let U=$r(k);if(U!=null&&U.trim())try{let J=document.createElement("img"),oe=await Et(Vn(U),{as:"dataURL",useProxy:o.useProxy});J.src=oe.data,J.style=`width:${L}px;height:auto;object-fit:contain;`,j.appendChild(J)}catch(J){console.error(`[snapdom] Error in pseudo ${y} for`,e,J)}}else!N&&X&&(j.textContent=k);j.style.backgroundImage="none","maskImage"in j.style&&(j.style.maskImage="none"),"webkitMaskImage"in j.style&&(j.style.webkitMaskImage="none");try{j.style.backgroundRepeat=f.backgroundRepeat,j.style.backgroundSize=f.backgroundSize,f.backgroundPositionX&&f.backgroundPositionY?(j.style.backgroundPositionX=f.backgroundPositionX,j.style.backgroundPositionY=f.backgroundPositionY):j.style.backgroundPosition=f.backgroundPosition,j.style.backgroundOrigin=f.backgroundOrigin,j.style.backgroundClip=f.backgroundClip,j.style.backgroundAttachment=f.backgroundAttachment,j.style.backgroundBlendMode=f.backgroundBlendMode}catch{}if(W)try{let U=To(S),J=await Promise.all(U.map(Co));j.style.backgroundImage=J.join(", ")}catch(U){console.warn(`[snapdom] Failed to inline background-image for ${y}`,U)}ne&&(j.style.backgroundColor=w);let I=j.childNodes.length>0||((b=j.textContent)==null?void 0:b.trim())!==""||W||ne||D||z;if(x&&x.length&&e.parentElement){let U=on.get(e.parentElement)||new Map,J=yr(e,i),oe=br(e,getComputedStyle(e,y),J);for(let{name:ue}of x){if(!ue)continue;let de=oe.get(e,ue);U.set(ue,de)}on.set(e.parentElement,U)}if(!I)continue;y==="::before"?t.insertBefore(j,t.firstChild):t.appendChild(j)}catch(f){console.warn(`[snapdom] Failed to capture ${y} for`,e,f)}let d=Array.from(e.children),p=Array.from(t.children).filter(y=>!y.dataset.snapdomPseudo);for(let y=0;y<Math.min(d.length,p.length);y++)await Uo(d[y],p[y],r,o)}function zl(e,t){var S,w;if(!e||!(e instanceof Element))return;let r=e.ownerDocument||document,o=t||r,l=e instanceof SVGSVGElement?[e]:Array.from(e.querySelectorAll("svg"));if(l.length===0)return;let s=/url\(\s*#([^)]+)\)/g,i=["fill","stroke","filter","clip-path","mask","marker","marker-start","marker-mid","marker-end"],d=_=>window.CSS&&CSS.escape?CSS.escape(_):_.replace(/[^a-zA-Z0-9_-]/g,"\\$&"),p="http://www.w3.org/1999/xlink",u=_=>{if(!_||!_.getAttribute)return null;let L=_.getAttribute("href")||_.getAttribute("xlink:href")||(typeof _.getAttributeNS=="function"?_.getAttributeNS(p,"href"):null);if(L)return L;let O=_.attributes;if(!O)return null;for(let Q=0;Q<O.length;Q++){let P=O[Q];if(!P||!P.name)continue;if(P.name==="href")return P.value;let T=P.name.indexOf(":");if(T!==-1&&P.name.slice(T+1)==="href")return P.value}return null},a=new Set(Array.from(e.querySelectorAll("[id]")).map(_=>_.id)),c=new Set,h=!1,b=(_,L=null)=>{if(!_)return;s.lastIndex=0;let O;for(;O=s.exec(_);){h=!0;let Q=(O[1]||"").trim();Q&&(a.has(Q)||(c.add(Q),L&&!L.has(Q)&&L.add(Q)))}},y=_=>{let L=_.querySelectorAll("use");for(let Q of L){let P=u(Q);if(!P||!P.startsWith("#"))continue;h=!0;let T=P.slice(1).trim();T&&!a.has(T)&&c.add(T)}let O=_.querySelectorAll('*[style*="url("],*[fill^="url("], *[stroke^="url("],*[filter^="url("],*[clip-path^="url("],*[mask^="url("],*[marker^="url("],*[marker-start^="url("],*[marker-mid^="url("],*[marker-end^="url("]');for(let Q of O){b(Q.getAttribute("style")||"");for(let P of i)b(Q.getAttribute(P))}};for(let _ of l)y(_);if(!h)return;let f=e.querySelector("svg.inline-defs-container");f||(f=r.createElementNS("http://www.w3.org/2000/svg","svg"),f.classList.add("inline-defs-container"),f.setAttribute("aria-hidden","true"),f.setAttribute("style","position:absolute;width:0;height:0;overflow:hidden"),e.insertBefore(f,e.firstChild||null));let m=f.querySelector("defs")||null,E=_=>{if(!_||a.has(_))return null;let L=d(_),O=Q=>{let P=o.querySelector(Q);return P&&!e.contains(P)?P:null};return O(`svg defs > *#${L}`)||O(`svg > symbol#${L}`)||O(`*#${L}`)};if(!c.size)return;let k=new Set(c),x=new Set;for(;k.size;){let _=k.values().next().value;if(k.delete(_),!_||a.has(_)||x.has(_))continue;let L=E(_);if(!L){x.add(_);continue}m||(m=r.createElementNS("http://www.w3.org/2000/svg","defs"),f.appendChild(m));let O=L.cloneNode(!0);O.id||O.setAttribute("id",_),m.appendChild(O),x.add(_),a.add(_);let Q=[O,...O.querySelectorAll("*")];for(let P of Q){let T=u(P);if(T&&T.startsWith("#")){let N=T.slice(1).trim();N&&!a.has(N)&&!x.has(N)&&k.add(N)}let B=((S=P.getAttribute)==null?void 0:S.call(P,"style"))||"";B&&b(B,k);for(let N of i){let X=(w=P.getAttribute)==null?void 0:w.call(P,N);X&&b(X,k)}}}}function Hl(e,t){var d;if(!e||!t)return;let r=e.scrollTop||0;if(!r)return;getComputedStyle(t).position==="static"&&(t.style.position="relative");let o=e.getBoundingClientRect(),l=e.clientHeight,s="data-snap-ph",i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);for(;i.nextNode();){let p=i.currentNode,u=getComputedStyle(p),a=u.position;if(a!=="sticky"&&a!=="-webkit-sticky")continue;let c=uo(u.top),h=uo(u.bottom);if(c==null&&h==null)continue;let b=Vl(p,e),y=Yl(t,b,s);if(!y)continue;let f=p.getBoundingClientRect(),m=f.width,E=f.height,k=f.left-o.left;if(!(m>0&&E>0)||!Number.isFinite(k))continue;let x=c!=null?c+r:r+(l-E-h);if(!Number.isFinite(x))continue;let S=Number.parseInt(u.zIndex,10),w=Number.isFinite(S),_=w?Math.max(S,1)+1:2,L=w?S-1:0,O=y.cloneNode(!1);O.setAttribute(s,"1"),O.style.position="sticky",O.style.left=`${k}px`,O.style.top=`${x}px`,O.style.width=`${m}px`,O.style.height=`${E}px`,O.style.visibility="hidden",O.style.zIndex=String(L),O.style.overflow="hidden",O.style.background="transparent",O.style.boxShadow="none",O.style.filter="none",(d=y.parentElement)==null||d.insertBefore(O,y),y.style.position="absolute",y.style.left=`${k}px`,y.style.top=`${x}px`,y.style.bottom="auto",y.style.zIndex=String(_),y.style.pointerEvents="none"}}function uo(e){if(!e||e==="auto")return null;let t=Number.parseFloat(e);return Number.isFinite(t)?t:null}function Vl(e,t){let r=[];for(let o=e;o&&o!==t;){let l=o.parentElement;if(!l)break;r.push(Array.prototype.indexOf.call(l.children,o)),o=l}return r.reverse()}function Yl(e,t,r){let o=e;for(let l=0;l<t.length;l++)if(o=Ql(o,r)[t[l]],!o)return null;return o instanceof HTMLElement?o:null}function Ql(e,t){let r=[],o=e.children;for(let l=0;l<o.length;l++){let s=o[l];s.hasAttribute(t)||r.push(s)}return r}function Jl(e){let t=getComputedStyle(e),r=t.outlineStyle,o=t.outlineWidth,l=t.borderStyle,s=t.borderWidth,i=r!=="none"&&parseFloat(o)>0,d=l==="none"||parseFloat(s)===0;i&&d&&(e.style.border=`${o} solid transparent`)}async function Gl(e,t={}){var p,u;let r={styleMap:pe.session.styleMap,styleCache:pe.session.styleCache,nodeMap:pe.session.nodeMap},o,l="",s="";Jl(e);try{zl(e)}catch(a){console.warn("inlineExternal defs or symbol failed:",a)}try{o=await zn(e,r,t,e)}catch(a){throw console.warn("deepClone failed:",a),a}try{await Uo(e,o,r,t)}catch(a){console.warn("inlinePseudoElements failed:",a)}await Ol(o);try{let a=o.querySelectorAll("style[data-sd]");for(let c of a)s+=c.textContent||"",c.remove()}catch{}let i=Cs(r.styleMap);l=Array.from(i.entries()).map(([a,c])=>`.${c}{${a}}`).join(""),l=s+l;for(let[a,c]of r.styleMap.entries()){if(a.tagName==="STYLE")continue;if(a.getRootNode&&a.getRootNode()instanceof ShadowRoot){a.setAttribute("style",c.replace(/;/g,"; "));continue}let h=i.get(c);h&&a.classList.add(h);let b=(p=a.style)==null?void 0:p.backgroundImage,y=(u=a.dataset)==null?void 0:u.snapdomHasIcon;b&&b!=="none"&&(a.style.backgroundImage=b),y&&(a.style.verticalAlign="middle",a.style.display="inline")}for(let[a,c]of r.nodeMap.entries()){let h=c.scrollLeft,b=c.scrollTop;if((h||b)&&a instanceof HTMLElement){a.style.overflow="hidden",a.style.scrollbarWidth="none",a.style.msOverflowStyle="none";let y=document.createElement("div");for(y.style.transform=`translate(${-h}px, ${-b}px)`,y.style.willChange="transform",y.style.display="inline-block",y.style.width="100%";a.firstChild;)y.appendChild(a.firstChild);a.appendChild(y)}}let d=o instanceof HTMLElement&&o.firstElementChild instanceof HTMLElement?o.firstElementChild:o;if(Hl(e,d),e===r.nodeMap.get(o)){let a=r.styleCache.get(e)||window.getComputedStyle(e);r.styleCache.set(e,a);let c=ps(a.transform);o.style.margin="0",o.style.top="auto",o.style.left="auto",o.style.right="auto",o.style.bottom="auto",o.style.animation="none",o.style.transition="none",o.style.willChange="auto",o.style.float="none",o.style.clear="none",o.style.transform=c||""}for(let[a,c]of r.nodeMap.entries())c.tagName==="PRE"&&(a.style.marginTop="0",a.style.marginBlockStart="0");return{clone:o,classCSS:l,styleCache:r.styleCache}}function Xl(e){var u,a,c,h;let t=parseInt(((u=e.dataset)==null?void 0:u.snapdomWidth)||"",10)||0,r=parseInt(((a=e.dataset)==null?void 0:a.snapdomHeight)||"",10)||0,o=parseInt(e.getAttribute("width")||"",10)||0,l=parseInt(e.getAttribute("height")||"",10)||0,s=parseFloat(((c=e.style)==null?void 0:c.width)||"")||0,i=parseFloat(((h=e.style)==null?void 0:h.height)||"")||0,d=t||s||o||e.width||e.naturalWidth||100,p=r||i||l||e.height||e.naturalHeight||100;return{width:d,height:p}}async function Kl(e,t={}){let r=Array.from(e.querySelectorAll("img")),o=async l=>{if(!l.getAttribute("src")){let a=l.currentSrc||l.src||"";a&&l.setAttribute("src",a)}l.removeAttribute("srcset"),l.removeAttribute("sizes");let s=l.src||"";if(!s)return;let i=await Et(s,{as:"dataURL",useProxy:t.useProxy});if(i.ok&&typeof i.data=="string"&&i.data.startsWith("data:")){l.src=i.data,l.width||(l.width=l.naturalWidth||100),l.height||(l.height=l.naturalHeight||100);return}let{width:d,height:p}=Xl(l),{fallbackURL:u}=t||{};if(u)try{let a=typeof u=="function"?await u({width:d,height:p,src:s,element:l}):u;if(a){let c=await Et(a,{as:"dataURL",useProxy:t.useProxy});l.src=c.data,l.width||(l.width=d),l.height||(l.height=p);return}}catch{}if(t.placeholders!==!1){let a=document.createElement("div");a.style.cssText=[`width:${d}px`,`height:${p}px`,"background:#ccc","display:inline-block","text-align:center",`line-height:${p}px`,"color:#666","font-size:12px","overflow:hidden"].join(";"),a.textContent="img",l.replaceWith(a)}else{let a=document.createElement("div");a.style.cssText=`display:inline-block;width:${d}px;height:${p}px;visibility:hidden;`,l.replaceWith(a)}};for(let l=0;l<r.length;l+=4){let s=r.slice(l,l+4).map(o);await Promise.allSettled(s)}}function Zl(e){var u;if(!e)return()=>{};let t=eu(e);if(t<=0)return()=>{};if(!ru(e))return()=>{};let r=getComputedStyle(e),o=Math.round(tu(r)*t+nu(r)),l=(u=e.textContent)!=null?u:"",s=l;if(e.scrollHeight<=o+.5)return()=>{};let i=0,d=l.length,p=-1;for(;i<=d;){let a=i+d>>1;e.textContent=l.slice(0,a)+"\u2026",e.scrollHeight<=o+.5?(p=a,i=a+1):d=a-1}return e.textContent=(p>=0?l.slice(0,p):"")+"\u2026",()=>{e.textContent=s}}function eu(e){let t=getComputedStyle(e),r=t.getPropertyValue("-webkit-line-clamp")||t.getPropertyValue("line-clamp");r=(r||"").trim();let o=parseInt(r,10);return Number.isFinite(o)&&o>0?o:0}function tu(e){let t=(e.lineHeight||"").trim(),r=parseFloat(e.fontSize)||16;return!t||t==="normal"?Math.round(r*1.2):t.endsWith("px")?parseFloat(t):/^\d+(\.\d+)?$/.test(t)?Math.round(parseFloat(t)*r):t.endsWith("%")?Math.round(parseFloat(t)/100*r):Math.round(r*1.2)}function nu(e){return(parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)}function ru(e){return e.childElementCount>0?!1:Array.from(e.childNodes).some(t=>t.nodeType===Node.TEXT_NODE)}function ou(e,t){if(!e||!t||!t.style)return;let r=getComputedStyle(e);try{t.style.boxShadow="none"}catch{}try{t.style.textShadow="none"}catch{}try{t.style.outline="none"}catch{}let o=(r.filter||"").replace(/\bblur\([^()]*\)\s*/gi,"").replace(/\bdrop-shadow\([^()]*\)\s*/gi,"").trim().replace(/\s+/g," ");try{t.style.filter=o.length?o:"none"}catch{}}function au(e){let t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT),r=[];for(;t.nextNode();)r.push(t.currentNode);for(let o of r)o.remove()}function iu(e,t={}){let{stripFrameworkDirectives:r=!0}=t,o=new Set(["xml","xlink"]),l=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);for(;l.nextNode();){let s=l.currentNode;for(let i of Array.from(s.attributes)){let d=i.name;if(d.includes("@")){s.removeAttribute(d);continue}if(d.includes(":")){let p=d.split(":",1)[0];if(!o.has(p)){s.removeAttribute(d);continue}}if(r&&(d.startsWith("x-")||d.startsWith("v-")||d.startsWith(":")||d.startsWith("on:")||d.startsWith("bind:")||d.startsWith("let:")||d.startsWith("class:"))){s.removeAttribute(d);continue}}}}function su(e,t={}){e&&(iu(e,t),au(e))}function lu(e){var t;try{let r=((t=e.getAttribute)==null?void 0:t.call(e,"style"))||"";return/\b(height|width|block-size|inline-size)\s*:/.test(r)}catch{return!1}}function uu(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof HTMLIFrameElement||e instanceof SVGElement||e instanceof HTMLObjectElement||e instanceof HTMLEmbedElement}function cu(e,t){if(!(e instanceof Element)||lu(e)||uu(e))return!1;let r=t.position;if(r==="absolute"||r==="fixed"||r==="sticky")return!1;let o=t.display||"";return!(o.includes("flex")||o.includes("grid")||o.startsWith("table")||t.transform&&t.transform!=="none")}function fu(e,t,r=new Map){function o(l,s){if(!(l instanceof Element)||!(s instanceof Element))return;let i=l.childElementCount>s.childElementCount,d=r.get(l)||getComputedStyle(l);if(r.has(l)||r.set(l,d),i&&cu(l,d)){s.style.height||(s.style.height="auto"),s.style.width||(s.style.width="auto"),s.style.removeProperty("block-size"),s.style.removeProperty("inline-size"),s.style.minHeight||(s.style.minHeight="0"),s.style.minWidth||(s.style.minWidth="0"),s.style.maxHeight||(s.style.maxHeight="none"),s.style.maxWidth||(s.style.maxWidth="none");let a=d.overflowY||d.overflowBlock||"visible",c=d.overflowX||d.overflowInline||"visible";(a!=="visible"||c!=="visible")&&(s.style.overflow="visible")}let p=Array.from(l.children),u=Array.from(s.children);for(let a=0;a<Math.min(p.length,u.length);a++)o(p[a],u[a])}o(e,t)}function du(e){let t=getComputedStyle(e);return!(t.display==="none"||t.position==="absolute"||t.position==="fixed"||t.position==="sticky"||(t.cssFloat||t.float||"none")!=="none"||t.transform&&t.transform!=="none")}function pu(e,t){if(!(e instanceof Element))return!1;if(e.getAttribute("data-capture")==="exclude"&&(t==null?void 0:t.excludeMode)==="remove")return!0;if(Array.isArray(t==null?void 0:t.exclude))for(let r of t.exclude)try{if(e.matches(r))return t.excludeMode==="remove"}catch{}return!1}function hu(e,t){let r=getComputedStyle(e),o=e.getBoundingClientRect(),l=1/0,s=-1/0,i=!1,d=Array.from(e.children);for(let b of d){if(pu(b,t)||!du(b))continue;let y=b.getBoundingClientRect(),f=y.top-o.top,m=y.bottom-o.top;m<=f||(f<l&&(l=f),m>s&&(s=m),i=!0)}let p=i?Math.max(0,s-l):0,u=parseFloat(r.borderTopWidth)||0,a=parseFloat(r.borderBottomWidth)||0,c=parseFloat(r.paddingTop)||0,h=parseFloat(r.paddingBottom)||0;return u+a+c+h+p}var xe=(e,t=3)=>Number.isFinite(e)?Math.round(e*10**t)/10**t:e;function mu(e){var d;let t=e.boxShadow||"";if(!t||t==="none")return{top:0,right:0,bottom:0,left:0};let r=t.split(/\),(?=(?:[^()]*\([^()]*\))*[^()]*$)/).map(p=>p.trim()),o=0,l=0,s=0,i=0;for(let p of r){let u=((d=p.match(/-?\d+(\.\d+)?px/g))==null?void 0:d.map(m=>parseFloat(m)))||[];if(u.length<2)continue;let[a,c,h=0,b=0]=u,y=Math.abs(a)+h+b,f=Math.abs(c)+h+b;l=Math.max(l,y+Math.max(a,0)),i=Math.max(i,y+Math.max(-a,0)),s=Math.max(s,f+Math.max(c,0)),o=Math.max(o,f+Math.max(-c,0))}return{top:Math.ceil(o),right:Math.ceil(l),bottom:Math.ceil(s),left:Math.ceil(i)}}function gu(e){let t=(e.filter||"").match(/blur\(\s*([0-9.]+)px\s*\)/),r=t?Math.ceil(parseFloat(t[1])||0):0;return{top:r,right:r,bottom:r,left:r}}function yu(e){if((e.outlineStyle||"none")==="none")return{top:0,right:0,bottom:0,left:0};let t=Math.ceil(parseFloat(e.outlineWidth||"0")||0);return{top:t,right:t,bottom:t,left:t}}function bu(e){var p;let t=`${e.filter||""} ${e.webkitFilter||""}`.trim();if(!t||t==="none")return{bleed:{top:0,right:0,bottom:0,left:0},has:!1};let r=t.match(/drop-shadow\((?:[^()]|\([^()]*\))*\)/gi)||[],o=0,l=0,s=0,i=0,d=!1;for(let u of r){d=!0;let a=((p=u.match(/-?\d+(?:\.\d+)?px/gi))==null?void 0:p.map(m=>parseFloat(m)))||[],[c=0,h=0,b=0]=a,y=Math.abs(c)+b,f=Math.abs(h)+b;l=Math.max(l,y+Math.max(c,0)),i=Math.max(i,y+Math.max(-c,0)),s=Math.max(s,f+Math.max(h,0)),o=Math.max(o,f+Math.max(-h,0))}return{bleed:{top:xe(o),right:xe(l),bottom:xe(s),left:xe(i)},has:d}}function vu(e,t){if(!e||!t||!t.style)return null;let r=getComputedStyle(e);try{t.style.transformOrigin="0 0"}catch{}try{"translate"in t.style&&(t.style.translate="none"),"rotate"in t.style&&(t.style.rotate="none")}catch{}let o=r.transform||"none";if(!o||o==="none")try{let s=Fo(e);if(s.a===1&&s.b===0&&s.c===0&&s.d===1)return t.style.transform="none",{a:1,b:0,c:0,d:1}}catch{}let l=o.match(/^matrix\(\s*([^)]+)\)$/i);if(l){let s=l[1].split(",").map(i=>parseFloat(i.trim()));if(s.length===6&&s.every(Number.isFinite)){let[i,d,p,u]=s,a=Math.sqrt(i*i+d*d)||0,c=0,h=0,b=0,y=0,f=0,m=0;a>0&&(c=i/a,h=d/a,b=c*p+h*u,y=p-c*b,f=u-h*b,m=Math.sqrt(y*y+f*f)||0,m>0?b=b/m:b=0);let E=a,k=0,x=b*m,S=m;try{t.style.transform=`matrix(${E}, ${k}, ${x}, ${S}, 0, 0)`}catch{}return{a:E,b:k,c:x,d:S}}}try{let s=String(o).trim();return t.style.transform=s+" translate(0px, 0px) rotate(0deg)",null}catch{return null}}function co(e,t,r,o,l){let s=r.a,i=r.b,d=r.c,p=r.d,u=r.e||0,a=r.f||0;function c(E,k){let x=E-o,S=k-l,w=s*x+d*S,_=i*x+p*S;return w+=o+u,_+=l+a,[w,_]}let h=[c(0,0),c(e,0),c(0,t),c(e,t)],b=1/0,y=1/0,f=-1/0,m=-1/0;for(let[E,k]of h)E<b&&(b=E),k<y&&(y=k),E>f&&(f=E),k>m&&(m=k);return{minX:b,minY:y,maxX:f,maxY:m,width:f-b,height:m-y}}function wu(e,t,r){let o=(e.transformOrigin||"0 0").trim().split(/\s+/),[l,s]=[o[0]||"0",o[1]||"0"],i=(d,p)=>{let u=d.toLowerCase();return u==="left"||u==="top"?0:u==="center"?p/2:u==="right"||u==="bottom"?p:u.endsWith("px")?parseFloat(u)||0:u.endsWith("%")?(parseFloat(u)||0)*p/100:/^-?\d+(\.\d+)?$/.test(u)&&parseFloat(u)||0};return{ox:i(l,t),oy:i(s,r)}}function Su(e){var l,s,i,d,p,u,a,c;let t={rotate:"0deg",scale:null,translate:null},r=typeof e.computedStyleMap=="function"?e.computedStyleMap():null;if(r){let h=m=>{try{return typeof r.has=="function"&&!r.has(m)||typeof r.get!="function"?null:r.get(m)}catch{return null}},b=h("rotate");if(b)if(b.angle){let m=b.angle;t.rotate=m.unit==="rad"?m.value*180/Math.PI+"deg":m.value+m.unit}else b.unit?t.rotate=b.unit==="rad"?b.value*180/Math.PI+"deg":b.value+b.unit:t.rotate=String(b);else{let m=getComputedStyle(e);t.rotate=m.rotate&&m.rotate!=="none"?m.rotate:"0deg"}let y=h("scale");if(y){let m="x"in y&&((l=y.x)==null?void 0:l.value)!=null?y.x.value:Array.isArray(y)?(s=y[0])==null?void 0:s.value:Number(y)||1,E="y"in y&&((i=y.y)==null?void 0:i.value)!=null?y.y.value:Array.isArray(y)?(d=y[1])==null?void 0:d.value:m;t.scale=`${m} ${E}`}else{let m=getComputedStyle(e);t.scale=m.scale&&m.scale!=="none"?m.scale:null}let f=h("translate");if(f){let m="x"in f&&"value"in f.x?f.x.value:Array.isArray(f)?(p=f[0])==null?void 0:p.value:0,E="y"in f&&"value"in f.y?f.y.value:Array.isArray(f)?(u=f[1])==null?void 0:u.value:0,k="x"in f&&((a=f.x)==null?void 0:a.unit)?f.x.unit:"px",x="y"in f&&((c=f.y)==null?void 0:c.unit)?f.y.unit:"px";t.translate=`${m}${k} ${E}${x}`}else{let m=getComputedStyle(e);t.translate=m.translate&&m.translate!=="none"?m.translate:null}return t}let o=getComputedStyle(e);return t.rotate=o.rotate&&o.rotate!=="none"?o.rotate:"0deg",t.scale=o.scale&&o.scale!=="none"?o.scale:null,t.translate=o.translate&&o.translate!=="none"?o.translate:null,t}var ur=null;function $u(){if(ur)return ur;let e=document.createElement("div");return e.id="snapdom-measure-slot",e.setAttribute("aria-hidden","true"),Object.assign(e.style,{position:"absolute",left:"-99999px",top:"0px",width:"0px",height:"0px",overflow:"hidden",opacity:"0",pointerEvents:"none",contain:"size layout style"}),document.documentElement.appendChild(e),ur=e,e}function xu(e){let t=$u(),r=document.createElement("div");r.style.transformOrigin="0 0",e.baseTransform&&(r.style.transform=e.baseTransform),e.rotate&&(r.style.rotate=e.rotate),e.scale&&(r.style.scale=e.scale),e.translate&&(r.style.translate=e.translate),t.appendChild(r);let o=Fo(r);return t.removeChild(r),o}function _u(e){let t=getComputedStyle(e),r=t.transform||"none";if(r!=="none"&&!/^matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*,\s*0\s*,\s*0\s*\)$/i.test(r))return!0;let o=t.rotate&&t.rotate!=="none"&&t.rotate!=="0deg",l=t.scale&&t.scale!=="none"&&t.scale!=="1",s=t.translate&&t.translate!=="none"&&t.translate!=="0px 0px";return!!(o||l||s)}function Fo(e){let t=getComputedStyle(e).transform;if(!t||t==="none")return new DOMMatrix;try{return new DOMMatrix(t)}catch{return new WebKitCSSMatrix(t)}}async function qo(e,t){var k;if(!e)throw new Error("Element cannot be null or undefined");ds(t.cache);let r=t.fast,o=t.outerTransforms!==!1,l=!!t.outerShadows,s={element:e,options:t,plugins:t.plugins},i,d,p,u="",a="",c,h,b=null;await Ut("beforeSnap",s),await Ut("beforeClone",s);let y=Zl(s.element);try{({clone:i,classCSS:d,styleCache:p}=await Gl(s.element,s.options)),!o&&i&&(b=vu(s.element,i)),!l&&i&&ou(s.element,i)}finally{y()}if(s={clone:i,classCSS:d,styleCache:p,...s},await Ut("afterClone",s),su(s.clone),((k=s.options)==null?void 0:k.excludeMode)==="remove")try{fu(s.element,s.clone,s.styleCache)}catch(x){console.warn("[snapdom] shrink pass failed:",x)}try{await Ds(s.clone,s.element)}catch{}await new Promise(x=>{nn(async()=>{await Kl(s.clone,s.options),x()},{fast:r})}),await new Promise(x=>{nn(async()=>{await el(s.element,s.clone,s.styleCache,s.options),x()},{fast:r})}),t.embedFonts&&await new Promise(x=>{nn(async()=>{let S=Xs(s.element),w=Ks(s.element);if(wn()){let _=new Set(Array.from(S).map(L=>String(L).split("__")[0]).filter(Boolean));await Zs(_,1)}u=await Gs({required:S,usedCodepoints:w,preCached:!1,exclude:s.options.excludeFonts,useProxy:s.options.useProxy}),x()},{fast:r})});let f=ks(s.clone).sort(),m=f.join(",");pe.baseStyle.has(m)?a=pe.baseStyle.get(m):await new Promise(x=>{nn(()=>{a=Es(f),pe.baseStyle.set(m,a),x()},{fast:r})}),s={fontsCSS:u,baseCSS:a,...s},await Ut("beforeRender",s),await new Promise(x=>{nn(()=>{var Re;let S=getComputedStyle(s.element),w=s.element.getBoundingClientRect(),_=Math.max(1,xe(s.element.offsetWidth||parseFloat(S.width)||w.width||1)),L=Math.max(1,xe(s.element.offsetHeight||parseFloat(S.height)||w.height||1));if(((Re=s.options)==null?void 0:Re.excludeMode)==="remove"){let Pe=hu(s.element,s.options);Number.isFinite(Pe)&&Pe>0&&(L=Math.max(1,Math.min(L,xe(Pe+1))))}let O=(Pe,Ce=NaN)=>{let Te=typeof Pe=="string"?parseFloat(Pe):Pe;return Number.isFinite(Te)?Te:Ce},Q=O(s.options.width),P=O(s.options.height),T=_,B=L,N=Number.isFinite(Q),X=Number.isFinite(P),W=L>0?_/L:1;N&&X?(T=Math.max(1,xe(Q)),B=Math.max(1,xe(P))):N?(T=Math.max(1,xe(Q)),B=Math.max(1,xe(T/(W||1)))):X?(B=Math.max(1,xe(P)),T=Math.max(1,xe(B*(W||1)))):(T=_,B=L);let ne=0,D=0,z=_,j=L;if(!o&&b&&Number.isFinite(b.a)){let Pe={a:b.a,b:b.b||0,c:b.c||0,d:b.d||1,e:0,f:0},Ce=co(_,L,Pe,0,0);ne=xe(Ce.minX),D=xe(Ce.minY),z=xe(Ce.maxX),j=xe(Ce.maxY)}else if(o&&ku(s.element)){let Pe=S.transform&&S.transform!=="none"?S.transform:"",Ce=Su(s.element),Te=xu({baseTransform:Pe,rotate:Ce.rotate||"0deg",scale:Ce.scale,translate:Ce.translate}),{ox:Ve,oy:lt}=wu(S,_,L),Pt=Te.is2D?Te:new DOMMatrix(Te.toString()),wt=co(_,L,Pt,Ve,lt);ne=xe(wt.minX),D=xe(wt.minY),z=xe(wt.maxX),j=xe(wt.maxY)}let V=mu(S),C=gu(S),I=yu(S),U=bu(S),J=l?{top:xe(V.top+C.top+I.top+U.bleed.top),right:xe(V.right+C.right+I.right+U.bleed.right),bottom:xe(V.bottom+C.bottom+I.bottom+U.bleed.bottom),left:xe(V.left+C.left+I.left+U.bleed.left)}:{top:0,right:0,bottom:0,left:0};ne=xe(ne-J.left),D=xe(D-J.top),z=xe(z+J.right),j=xe(j+J.bottom);let oe=Math.max(1,xe(z-ne)),ue=Math.max(1,xe(j-D)),de=N||X?xe(T/_):1,ye=X||N?xe(B/L):1,ie=Math.max(1,xe(oe*de)),g=Math.max(1,xe(ue*ye)),$="http://www.w3.org/2000/svg",A=wn()?1:0,H=xe(A+(o?0:1)),q=document.createElementNS($,"foreignObject"),G=xe(ne),le=xe(D);q.setAttribute("x",String(xe(-(G-H)))),q.setAttribute("y",String(xe(-(le-H)))),q.setAttribute("width",String(xe(_+H*2))),q.setAttribute("height",String(xe(L+H*2))),q.style.overflow="visible";let ve=document.createElement("style");ve.textContent=s.baseCSS+s.fontsCSS+"svg{overflow:visible;} foreignObject{overflow:visible;}"+s.classCSS,q.appendChild(ve);let Ee=document.createElement("div");Ee.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),Ee.style.width=`${xe(_)}px`,Ee.style.height=`${xe(L)}px`,Ee.style.overflow="visible",s.clone.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),Ee.appendChild(s.clone),q.appendChild(Ee);let He=new XMLSerializer().serializeToString(q),ke=xe(oe+H*2),tt=xe(ue+H*2),fe=N||X;t.meta={w0:_,h0:L,vbW:ke,vbH:tt,targetW:T,targetH:B};let we=wn()&&fe?ke:xe(ie+H*2),$e=wn()&&fe?tt:xe(g+H*2);h=`<svg xmlns="${$}" width="${we}" height="${$e}" viewBox="0 0 ${ke} ${tt}">`+He+"</svg>",c=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(h)}`,s={svgString:h,dataURL:c,...s},x()},{fast:r})}),await Ut("afterRender",s);let E=document.getElementById("snapdom-sandbox");return E&&E.style.position==="absolute"&&E.remove(),s.dataURL}function ku(e){return _u(e)}function Eu(e){if(typeof e=="string"){let t=e.toLowerCase().trim();if(t==="disabled"||t==="full"||t==="auto"||t==="soft")return t}return"soft"}function Cu(e={}){var o,l,s,i,d,p,u,a,c,h,b,y,f,m,E,k,x,S,w,_;let t=(o=e.format)!=null?o:"png";t==="jpg"&&(t="jpeg");let r=Eu(e.cache);return{debug:(l=e.debug)!=null?l:!1,fast:(s=e.fast)!=null?s:!0,scale:(i=e.scale)!=null?i:1,exclude:(d=e.exclude)!=null?d:[],excludeMode:(p=e.excludeMode)!=null?p:"hide",filter:(u=e.filter)!=null?u:null,filterMode:(a=e.filterMode)!=null?a:"hide",placeholders:e.placeholders!==!1,embedFonts:(c=e.embedFonts)!=null?c:!1,iconFonts:Array.isArray(e.iconFonts)?e.iconFonts:e.iconFonts?[e.iconFonts]:[],localFonts:Array.isArray(e.localFonts)?e.localFonts:[],excludeFonts:(h=e.excludeFonts)!=null?h:void 0,fallbackURL:(b=e.fallbackURL)!=null?b:void 0,cache:r,useProxy:typeof e.useProxy=="string"?e.useProxy:"",width:(y=e.width)!=null?y:null,height:(f=e.height)!=null?f:null,format:t,type:(m=e.type)!=null?m:"svg",quality:(E=e.quality)!=null?E:.92,dpr:(k=e.dpr)!=null?k:window.devicePixelRatio||1,backgroundColor:(x=e.backgroundColor)!=null?x:["jpeg","webp"].includes(t)?"#ffffff":null,filename:(S=e.filename)!=null?S:"snapDOM",outerTransforms:(w=e.outerTransforms)!=null?w:!0,outerShadows:(_=e.outerShadows)!=null?_:!1}}function Au(...e){return tl(...e),Ye}var Ye=Object.assign(Mu,{plugins:Au}),Wo=Symbol("snapdom.internal"),Dt=Symbol("snapdom.internal.silent"),vr=!1;async function Mu(e,t){if(!e)throw new Error("Element cannot be null or undefined");let r=Cu(t);if(ol(r,t&&t.plugins),wn()&&(r.embedFonts===!0||Lu(e)))for(let o=0;o<3;o++)try{await Tu(e,t),vr=!1}catch{}return r.iconFonts&&r.iconFonts.length>0&&Ms(r.iconFonts),r.snap||(r.snap={toPng:(o,l)=>Ye.toPng(o,l),toSvg:(o,l)=>Ye.toSvg(o,l)}),Ye.capture(e,r,Wo)}Ye.capture=async(e,t,r)=>{if(r!==Wo)throw new Error("[snapdom.capture] is internal. Use snapdom(...) instead.");let o=await qo(e,t),l={img:async(y,f)=>{let{toImg:m}=await st(()=>import("./toImg.ca584d19.js"),["assets/toImg.ca584d19.js","assets/chunk-ANSXOGKI.3ba326ea.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return m(o,{...y,...f||{}})},svg:async(y,f)=>{let{toSvg:m}=await st(()=>import("./toImg.ca584d19.js"),["assets/toImg.ca584d19.js","assets/chunk-ANSXOGKI.3ba326ea.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return m(o,{...y,...f||{}})},canvas:async(y,f)=>{let{toCanvas:m}=await st(()=>import("./toCanvas.a805d389.js"),["assets/toCanvas.a805d389.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return m(o,{...y,...f||{}})},blob:async(y,f)=>{let{toBlob:m}=await st(()=>import("./toBlob.6a32f120.js"),["assets/toBlob.6a32f120.js","assets/chunk-T4JIPPZO.57f0ca34.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return m(o,{...y,...f||{}})},png:async(y,f)=>{let{rasterize:m}=await st(()=>import("./rasterize-JS5G2XHH.195eea5b.js"),["assets/rasterize-JS5G2XHH.195eea5b.js","assets/chunk-ANSXOGKI.3ba326ea.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return m(o,{...y,...f||{},format:"png"})},jpeg:async(y,f)=>{let{rasterize:m}=await st(()=>import("./rasterize-JS5G2XHH.195eea5b.js"),["assets/rasterize-JS5G2XHH.195eea5b.js","assets/chunk-ANSXOGKI.3ba326ea.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return m(o,{...y,...f||{},format:"jpeg"})},webp:async(y,f)=>{let{rasterize:m}=await st(()=>import("./rasterize-JS5G2XHH.195eea5b.js"),["assets/rasterize-JS5G2XHH.195eea5b.js","assets/chunk-ANSXOGKI.3ba326ea.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return m(o,{...y,...f||{},format:"webp"})},download:async(y,f)=>{let{download:m}=await st(()=>import("./download.b90e0dd4.js"),["assets/download.b90e0dd4.js","assets/chunk-T4JIPPZO.57f0ca34.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return m(o,{...y,...f||{}})}},s={...t,export:{url:o},exports:{svg:async y=>{let{toSvg:f}=await st(()=>import("./toImg.ca584d19.js"),["assets/toImg.ca584d19.js","assets/chunk-ANSXOGKI.3ba326ea.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return f(o,{...t,...y||{},[Dt]:!0})},canvas:async y=>{let{toCanvas:f}=await st(()=>import("./toCanvas.a805d389.js"),["assets/toCanvas.a805d389.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return f(o,{...t,...y||{},[Dt]:!0})},png:async y=>{let{rasterize:f}=await st(()=>import("./rasterize-JS5G2XHH.195eea5b.js"),["assets/rasterize-JS5G2XHH.195eea5b.js","assets/chunk-ANSXOGKI.3ba326ea.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return f(o,{...t,...y||{},format:"png",[Dt]:!0})},jpeg:async y=>{let{rasterize:f}=await st(()=>import("./rasterize-JS5G2XHH.195eea5b.js"),["assets/rasterize-JS5G2XHH.195eea5b.js","assets/chunk-ANSXOGKI.3ba326ea.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return f(o,{...t,...y||{},format:"jpeg",[Dt]:!0})},jpg:async y=>{let{rasterize:f}=await st(()=>import("./rasterize-JS5G2XHH.195eea5b.js"),["assets/rasterize-JS5G2XHH.195eea5b.js","assets/chunk-ANSXOGKI.3ba326ea.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return f(o,{...t,...y||{},format:"jpeg",[Dt]:!0})},webp:async y=>{let{rasterize:f}=await st(()=>import("./rasterize-JS5G2XHH.195eea5b.js"),["assets/rasterize-JS5G2XHH.195eea5b.js","assets/chunk-ANSXOGKI.3ba326ea.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return f(o,{...t,...y||{},format:"webp",[Dt]:!0})},blob:async y=>{let{toBlob:f}=await st(()=>import("./toBlob.6a32f120.js"),["assets/toBlob.6a32f120.js","assets/chunk-T4JIPPZO.57f0ca34.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return f(o,{...t,...y||{},[Dt]:!0})},img:async y=>{let{toImg:f}=await st(()=>import("./toImg.ca584d19.js"),["assets/toImg.ca584d19.js","assets/chunk-ANSXOGKI.3ba326ea.js","assets/chunk-3VYIPD3A.3bc21d00.js","assets/index.7cc2e6d9.js","assets/index.9f25c855.css","assets/QLayout.eb37f156.js","assets/QMarkupTable.52c59982.js","assets/TouchPan.612a687f.js","assets/use-dialog-plugin-component.e99688d4.js","assets/QTooltip.480b07b8.js","assets/useCr.b987c8cd.js","assets/AppDrawer.50a5aad7.js","assets/AppDrawer.4a2c28fd.css","assets/NewSpellDialog.ae633432.js","assets/NewSpellDialog.0d2a1ddc.css","assets/download.223253d2.js","assets/RECHARGE_TIME.56b4e339.js","assets/index.321d022a.js","assets/QBadge.d4d27a61.js"]);return f(o,{...t,...y||{},[Dt]:!0})}}},i=await nl("defineExports",s),d=Object.assign({},...i.filter(y=>y&&typeof y=="object")),p={...l,...d};p.jpeg&&!p.jpg&&(p.jpg=(y,f)=>p.jpeg(y,f));function u(y,f){let m={...t,...f||{}};return(y==="jpeg"||y==="jpg")&&(m.backgroundColor==null||m.backgroundColor==="transparent")&&(m.backgroundColor="#ffffff"),m}let a=!1,c=Promise.resolve();async function h(y,f){let m=async()=>{let E=p[y];if(!E)throw new Error(`[snapdom] Unknown export type: ${y}`);let k=u(y,f),x={...t,export:{type:y,options:k,url:o}};await Ut("beforeExport",x);let S=await E(x,k);return await Ut("afterExport",x,S),a||(a=!0,await Ut("afterSnap",t)),S};return c=c.then(m)}let b={url:o,toRaw:()=>o,to:(y,f)=>h(y,f),toImg:y=>h("img",y),toSvg:y=>h("svg",y),toCanvas:y=>h("canvas",y),toBlob:y=>h("blob",y),toPng:y=>h("png",y),toJpg:y=>h("jpg",y),toWebp:y=>h("webp",y),download:y=>h("download",y)};for(let y of Object.keys(p)){let f="to"+y.charAt(0).toUpperCase()+y.slice(1);b[f]||(b[f]=m=>h(y,m))}return b};Ye.toRaw=(e,t)=>Ye(e,t).then(r=>r.toRaw());Ye.toImg=(e,t)=>Ye(e,t).then(r=>r.toImg());Ye.toSvg=(e,t)=>Ye(e,t).then(r=>r.toSvg());Ye.toCanvas=(e,t)=>Ye(e,t).then(r=>r.toCanvas());Ye.toBlob=(e,t)=>Ye(e,t).then(r=>r.toBlob());Ye.toPng=(e,t)=>Ye(e,{...t,format:"png"}).then(r=>r.toPng());Ye.toJpg=(e,t)=>Ye(e,{...t,format:"jpeg"}).then(r=>r.toJpg());Ye.toWebp=(e,t)=>Ye(e,{...t,format:"webp"}).then(r=>r.toWebp());Ye.download=(e,t)=>Ye(e,t).then(r=>r.download());async function Tu(e,t){if(vr)return;let r={...t,fast:!0,embedFonts:!0,scale:.2},o;try{o=await qo(e,r)}catch{}await new Promise(l=>requestAnimationFrame(()=>requestAnimationFrame(l))),o&&await new Promise(l=>{let s=new Image;try{s.decoding="sync",s.loading="eager"}catch{}s.style.cssText="position:fixed;left:0px;top:0px;width:10px;height:10px;opacity:0.01;pointer-events:none;",s.src=o,document.body.appendChild(s),(async()=>{try{typeof s.decode=="function"&&await s.decode()}catch{}let i=performance.now();for(;!(s.complete&&s.naturalWidth>0)&&performance.now()-i<900;)await new Promise(d=>setTimeout(d,200));await new Promise(d=>requestAnimationFrame(d));try{s.remove()}catch{}l()})()}),e.querySelectorAll("canvas").forEach(l=>{try{let s=l.getContext("2d",{willReadFrequently:!0});s&&s.getImageData(0,0,1,1)}catch{}}),vr=!0}function Lu(e){let t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);for(;t.nextNode();){let r=t.currentNode,o=getComputedStyle(r),l=o.backgroundImage&&o.backgroundImage!=="none",s=o.maskImage&&o.maskImage!=="none"||o.webkitMaskImage&&o.webkitMaskImage!=="none";if(l||s||r.tagName==="CANVAS")return!0}return!1}var zo={exports:{}};/*! For license information please see json-url-single.js.LICENSE.txt */(function(e,t){(function(r,o){e.exports=o()})(window,function(){return function(r){function o(c){for(var h,b,y=c[0],f=c[1],m=0,E=[];m<y.length;m++)b=y[m],Object.prototype.hasOwnProperty.call(s,b)&&s[b]&&E.push(s[b][0]),s[b]=0;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&(r[h]=f[h]);for(a&&a(c);E.length;)E.shift()()}var l={},s={0:0};function i(c){if(l[c])return l[c].exports;var h=l[c]={i:c,l:!1,exports:{}};return r[c].call(h.exports,h,h.exports,i),h.l=!0,h.exports}i.e=function(){return Promise.resolve()},i.m=r,i.c=l,i.d=function(c,h,b){i.o(c,h)||Object.defineProperty(c,h,{enumerable:!0,get:b})},i.r=function(c){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},i.t=function(c,h){if(1&h&&(c=i(c)),8&h||4&h&&typeof c=="object"&&c&&c.__esModule)return c;var b=Object.create(null);if(i.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:c}),2&h&&typeof c!="string")for(var y in c)i.d(b,y,function(f){return c[f]}.bind(null,y));return b},i.n=function(c){var h=c&&c.__esModule?function(){return c.default}:function(){return c};return i.d(h,"a",h),h},i.o=function(c,h){return Object.prototype.hasOwnProperty.call(c,h)},i.p="",i.oe=function(c){throw console.error(c),c};var d=window.webpackJsonpJsonUrl=window.webpackJsonpJsonUrl||[],p=d.push.bind(d);d.push=o,d=d.slice();for(var u=0;u<d.length;u++)o(d[u]);var a=p;return i(i.s=50)}([function(r,o,l){var s=l(26)();r.exports=s;try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},function(r,o){function l(s,i,d,p,u,a,c){try{var h=s[a](c),b=h.value}catch(y){return void d(y)}h.done?i(b):Promise.resolve(b).then(p,u)}r.exports=function(s){return function(){var i=this,d=arguments;return new Promise(function(p,u){var a=s.apply(i,d);function c(b){l(a,p,u,c,h,"next",b)}function h(b){l(a,p,u,c,h,"throw",b)}c(void 0)})}},r.exports.__esModule=!0,r.exports.default=r.exports},function(r,o,l){var s=l(1),i=l.n(s),d=l(0),p=l.n(d);o.a={msgpack:function(){return i()(p.a.mark(function u(){var a,c;return p.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Promise.resolve().then(l.t.bind(null,30,7));case 2:return a=h.sent,c=a.default||a,h.abrupt("return",c());case 5:case"end":return h.stop()}},u)}))()},safe64:function(){return i()(p.a.mark(function u(){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.resolve().then(l.t.bind(null,45,7));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},u)}))()},lzma:function(){return i()(p.a.mark(function u(){var a;return p.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Promise.resolve().then(l.t.bind(null,47,7));case 2:return a=c.sent,c.abrupt("return",a.compress?a:a.LZMA);case 4:case"end":return c.stop()}},u)}))()},lzstring:function(){return i()(p.a.mark(function u(){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Promise.resolve().then(l.t.bind(null,48,7));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},u)}))()},lzw:function(){return i()(p.a.mark(function u(){var a,c;return p.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Promise.resolve().then(l.t.bind(null,49,7));case 2:return a=h.sent,c=a.default||a,h.abrupt("return",c);case 5:case"end":return h.stop()}},u)}))()}}},function(r,o,l){var s=l(28),i=l(29),d=l(13);function p(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(g,$){if(p()<$)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(g=new Uint8Array($)).__proto__=a.prototype:(g===null&&(g=new a($)),g.length=$),g}function a(g,$,A){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(g,$,A);if(typeof g=="number"){if(typeof $=="string")throw new Error("If encoding is specified then the first argument must be a string");return b(this,g)}return c(this,g,$,A)}function c(g,$,A,H){if(typeof $=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&$ instanceof ArrayBuffer?function(q,G,le,ve){if(G.byteLength,le<0||G.byteLength<le)throw new RangeError("'offset' is out of bounds");if(G.byteLength<le+(ve||0))throw new RangeError("'length' is out of bounds");return G=le===void 0&&ve===void 0?new Uint8Array(G):ve===void 0?new Uint8Array(G,le):new Uint8Array(G,le,ve),a.TYPED_ARRAY_SUPPORT?(q=G).__proto__=a.prototype:q=y(q,G),q}(g,$,A,H):typeof $=="string"?function(q,G,le){if(typeof le=="string"&&le!==""||(le="utf8"),!a.isEncoding(le))throw new TypeError('"encoding" must be a valid string encoding');var ve=0|m(G,le);q=u(q,ve);var Ee=q.write(G,le);return Ee!==ve&&(q=q.slice(0,Ee)),q}(g,$,A):function(q,G){if(a.isBuffer(G)){var le=0|f(G.length);return(q=u(q,le)).length===0||G.copy(q,0,0,le),q}if(G){if(typeof ArrayBuffer!="undefined"&&G.buffer instanceof ArrayBuffer||"length"in G)return typeof G.length!="number"||(ve=G.length)!=ve?u(q,0):y(q,G);if(G.type==="Buffer"&&d(G.data))return y(q,G.data)}var ve;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(g,$)}function h(g){if(typeof g!="number")throw new TypeError('"size" argument must be a number');if(g<0)throw new RangeError('"size" argument must not be negative')}function b(g,$){if(h($),g=u(g,$<0?0:0|f($)),!a.TYPED_ARRAY_SUPPORT)for(var A=0;A<$;++A)g[A]=0;return g}function y(g,$){var A=$.length<0?0:0|f($.length);g=u(g,A);for(var H=0;H<A;H+=1)g[H]=255&$[H];return g}function f(g){if(g>=p())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p().toString(16)+" bytes");return 0|g}function m(g,$){if(a.isBuffer(g))return g.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(g)||g instanceof ArrayBuffer))return g.byteLength;typeof g!="string"&&(g=""+g);var A=g.length;if(A===0)return 0;for(var H=!1;;)switch($){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":case void 0:return de(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*A;case"hex":return A>>>1;case"base64":return ye(g).length;default:if(H)return de(g).length;$=(""+$).toLowerCase(),H=!0}}function E(g,$,A){var H=!1;if(($===void 0||$<0)&&($=0),$>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0)<=($>>>=0))return"";for(g||(g="utf8");;)switch(g){case"hex":return ne(this,$,A);case"utf8":case"utf-8":return B(this,$,A);case"ascii":return X(this,$,A);case"latin1":case"binary":return W(this,$,A);case"base64":return T(this,$,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,$,A);default:if(H)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),H=!0}}function k(g,$,A){var H=g[$];g[$]=g[A],g[A]=H}function x(g,$,A,H,q){if(g.length===0)return-1;if(typeof A=="string"?(H=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,isNaN(A)&&(A=q?0:g.length-1),A<0&&(A=g.length+A),A>=g.length){if(q)return-1;A=g.length-1}else if(A<0){if(!q)return-1;A=0}if(typeof $=="string"&&($=a.from($,H)),a.isBuffer($))return $.length===0?-1:S(g,$,A,H,q);if(typeof $=="number")return $&=255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(g,$,A):Uint8Array.prototype.lastIndexOf.call(g,$,A):S(g,[$],A,H,q);throw new TypeError("val must be string, number or Buffer")}function S(g,$,A,H,q){var G,le=1,ve=g.length,Ee=$.length;if(H!==void 0&&((H=String(H).toLowerCase())==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(g.length<2||$.length<2)return-1;le=2,ve/=2,Ee/=2,A/=2}function He(we,$e){return le===1?we[$e]:we.readUInt16BE($e*le)}if(q){var ke=-1;for(G=A;G<ve;G++)if(He(g,G)===He($,ke===-1?0:G-ke)){if(ke===-1&&(ke=G),G-ke+1===Ee)return ke*le}else ke!==-1&&(G-=G-ke),ke=-1}else for(A+Ee>ve&&(A=ve-Ee),G=A;G>=0;G--){for(var tt=!0,fe=0;fe<Ee;fe++)if(He(g,G+fe)!==He($,fe)){tt=!1;break}if(tt)return G}return-1}function w(g,$,A,H){A=Number(A)||0;var q=g.length-A;H?(H=Number(H))>q&&(H=q):H=q;var G=$.length;if(G%2!=0)throw new TypeError("Invalid hex string");H>G/2&&(H=G/2);for(var le=0;le<H;++le){var ve=parseInt($.substr(2*le,2),16);if(isNaN(ve))return le;g[A+le]=ve}return le}function _(g,$,A,H){return ie(de($,g.length-A),g,A,H)}function L(g,$,A,H){return ie(function(q){for(var G=[],le=0;le<q.length;++le)G.push(255&q.charCodeAt(le));return G}($),g,A,H)}function O(g,$,A,H){return L(g,$,A,H)}function Q(g,$,A,H){return ie(ye($),g,A,H)}function P(g,$,A,H){return ie(function(q,G){for(var le,ve,Ee,He=[],ke=0;ke<q.length&&!((G-=2)<0);++ke)ve=(le=q.charCodeAt(ke))>>8,Ee=le%256,He.push(Ee),He.push(ve);return He}($,g.length-A),g,A,H)}function T(g,$,A){return $===0&&A===g.length?s.fromByteArray(g):s.fromByteArray(g.slice($,A))}function B(g,$,A){A=Math.min(g.length,A);for(var H=[],q=$;q<A;){var G,le,ve,Ee,He=g[q],ke=null,tt=He>239?4:He>223?3:He>191?2:1;if(q+tt<=A)switch(tt){case 1:He<128&&(ke=He);break;case 2:(192&(G=g[q+1]))==128&&(Ee=(31&He)<<6|63&G)>127&&(ke=Ee);break;case 3:G=g[q+1],le=g[q+2],(192&G)==128&&(192&le)==128&&(Ee=(15&He)<<12|(63&G)<<6|63&le)>2047&&(Ee<55296||Ee>57343)&&(ke=Ee);break;case 4:G=g[q+1],le=g[q+2],ve=g[q+3],(192&G)==128&&(192&le)==128&&(192&ve)==128&&(Ee=(15&He)<<18|(63&G)<<12|(63&le)<<6|63&ve)>65535&&Ee<1114112&&(ke=Ee)}ke===null?(ke=65533,tt=1):ke>65535&&(ke-=65536,H.push(ke>>>10&1023|55296),ke=56320|1023&ke),H.push(ke),q+=tt}return function(fe){var we=fe.length;if(we<=N)return String.fromCharCode.apply(String,fe);for(var $e="",Re=0;Re<we;)$e+=String.fromCharCode.apply(String,fe.slice(Re,Re+=N));return $e}(H)}o.Buffer=a,o.SlowBuffer=function(g){return+g!=g&&(g=0),a.alloc(+g)},o.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=window.TYPED_ARRAY_SUPPORT!==void 0?window.TYPED_ARRAY_SUPPORT:function(){try{var g=new Uint8Array(1);return g.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},g.foo()===42&&typeof g.subarray=="function"&&g.subarray(1,1).byteLength===0}catch{return!1}}(),o.kMaxLength=p(),a.poolSize=8192,a._augment=function(g){return g.__proto__=a.prototype,g},a.from=function(g,$,A){return c(null,g,$,A)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(g,$,A){return function(H,q,G,le){return h(q),q<=0?u(H,q):G!==void 0?typeof le=="string"?u(H,q).fill(G,le):u(H,q).fill(G):u(H,q)}(null,g,$,A)},a.allocUnsafe=function(g){return b(null,g)},a.allocUnsafeSlow=function(g){return b(null,g)},a.isBuffer=function(g){return!(g==null||!g._isBuffer)},a.compare=function(g,$){if(!a.isBuffer(g)||!a.isBuffer($))throw new TypeError("Arguments must be Buffers");if(g===$)return 0;for(var A=g.length,H=$.length,q=0,G=Math.min(A,H);q<G;++q)if(g[q]!==$[q]){A=g[q],H=$[q];break}return A<H?-1:H<A?1:0},a.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(g,$){if(!d(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return a.alloc(0);var A;if($===void 0)for($=0,A=0;A<g.length;++A)$+=g[A].length;var H=a.allocUnsafe($),q=0;for(A=0;A<g.length;++A){var G=g[A];if(!a.isBuffer(G))throw new TypeError('"list" argument must be an Array of Buffers');G.copy(H,q),q+=G.length}return H},a.byteLength=m,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var g=this.length;if(g%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<g;$+=2)k(this,$,$+1);return this},a.prototype.swap32=function(){var g=this.length;if(g%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<g;$+=4)k(this,$,$+3),k(this,$+1,$+2);return this},a.prototype.swap64=function(){var g=this.length;if(g%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<g;$+=8)k(this,$,$+7),k(this,$+1,$+6),k(this,$+2,$+5),k(this,$+3,$+4);return this},a.prototype.toString=function(){var g=0|this.length;return g===0?"":arguments.length===0?B(this,0,g):E.apply(this,arguments)},a.prototype.equals=function(g){if(!a.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g||a.compare(this,g)===0},a.prototype.inspect=function(){var g="",$=o.INSPECT_MAX_BYTES;return this.length>0&&(g=this.toString("hex",0,$).match(/.{2}/g).join(" "),this.length>$&&(g+=" ... ")),"<Buffer "+g+">"},a.prototype.compare=function(g,$,A,H,q){if(!a.isBuffer(g))throw new TypeError("Argument must be a Buffer");if($===void 0&&($=0),A===void 0&&(A=g?g.length:0),H===void 0&&(H=0),q===void 0&&(q=this.length),$<0||A>g.length||H<0||q>this.length)throw new RangeError("out of range index");if(H>=q&&$>=A)return 0;if(H>=q)return-1;if($>=A)return 1;if(this===g)return 0;for(var G=(q>>>=0)-(H>>>=0),le=(A>>>=0)-($>>>=0),ve=Math.min(G,le),Ee=this.slice(H,q),He=g.slice($,A),ke=0;ke<ve;++ke)if(Ee[ke]!==He[ke]){G=Ee[ke],le=He[ke];break}return G<le?-1:le<G?1:0},a.prototype.includes=function(g,$,A){return this.indexOf(g,$,A)!==-1},a.prototype.indexOf=function(g,$,A){return x(this,g,$,A,!0)},a.prototype.lastIndexOf=function(g,$,A){return x(this,g,$,A,!1)},a.prototype.write=function(g,$,A,H){if($===void 0)H="utf8",A=this.length,$=0;else if(A===void 0&&typeof $=="string")H=$,A=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$|=0,isFinite(A)?(A|=0,H===void 0&&(H="utf8")):(H=A,A=void 0)}var q=this.length-$;if((A===void 0||A>q)&&(A=q),g.length>0&&(A<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");H||(H="utf8");for(var G=!1;;)switch(H){case"hex":return w(this,g,$,A);case"utf8":case"utf-8":return _(this,g,$,A);case"ascii":return L(this,g,$,A);case"latin1":case"binary":return O(this,g,$,A);case"base64":return Q(this,g,$,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,g,$,A);default:if(G)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),G=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function X(g,$,A){var H="";A=Math.min(g.length,A);for(var q=$;q<A;++q)H+=String.fromCharCode(127&g[q]);return H}function W(g,$,A){var H="";A=Math.min(g.length,A);for(var q=$;q<A;++q)H+=String.fromCharCode(g[q]);return H}function ne(g,$,A){var H=g.length;(!$||$<0)&&($=0),(!A||A<0||A>H)&&(A=H);for(var q="",G=$;G<A;++G)q+=ue(g[G]);return q}function D(g,$,A){for(var H=g.slice($,A),q="",G=0;G<H.length;G+=2)q+=String.fromCharCode(H[G]+256*H[G+1]);return q}function z(g,$,A){if(g%1!=0||g<0)throw new RangeError("offset is not uint");if(g+$>A)throw new RangeError("Trying to access beyond buffer length")}function j(g,$,A,H,q,G){if(!a.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if($>q||$<G)throw new RangeError('"value" argument is out of bounds');if(A+H>g.length)throw new RangeError("Index out of range")}function V(g,$,A,H){$<0&&($=65535+$+1);for(var q=0,G=Math.min(g.length-A,2);q<G;++q)g[A+q]=($&255<<8*(H?q:1-q))>>>8*(H?q:1-q)}function C(g,$,A,H){$<0&&($=4294967295+$+1);for(var q=0,G=Math.min(g.length-A,4);q<G;++q)g[A+q]=$>>>8*(H?q:3-q)&255}function I(g,$,A,H,q,G){if(A+H>g.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function U(g,$,A,H,q){return q||I(g,0,A,4),i.write(g,$,A,H,23,4),A+4}function J(g,$,A,H,q){return q||I(g,0,A,8),i.write(g,$,A,H,52,8),A+8}a.prototype.slice=function(g,$){var A,H=this.length;if((g=~~g)<0?(g+=H)<0&&(g=0):g>H&&(g=H),($=$===void 0?H:~~$)<0?($+=H)<0&&($=0):$>H&&($=H),$<g&&($=g),a.TYPED_ARRAY_SUPPORT)(A=this.subarray(g,$)).__proto__=a.prototype;else{var q=$-g;A=new a(q,void 0);for(var G=0;G<q;++G)A[G]=this[G+g]}return A},a.prototype.readUIntLE=function(g,$,A){g|=0,$|=0,A||z(g,$,this.length);for(var H=this[g],q=1,G=0;++G<$&&(q*=256);)H+=this[g+G]*q;return H},a.prototype.readUIntBE=function(g,$,A){g|=0,$|=0,A||z(g,$,this.length);for(var H=this[g+--$],q=1;$>0&&(q*=256);)H+=this[g+--$]*q;return H},a.prototype.readUInt8=function(g,$){return $||z(g,1,this.length),this[g]},a.prototype.readUInt16LE=function(g,$){return $||z(g,2,this.length),this[g]|this[g+1]<<8},a.prototype.readUInt16BE=function(g,$){return $||z(g,2,this.length),this[g]<<8|this[g+1]},a.prototype.readUInt32LE=function(g,$){return $||z(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+16777216*this[g+3]},a.prototype.readUInt32BE=function(g,$){return $||z(g,4,this.length),16777216*this[g]+(this[g+1]<<16|this[g+2]<<8|this[g+3])},a.prototype.readIntLE=function(g,$,A){g|=0,$|=0,A||z(g,$,this.length);for(var H=this[g],q=1,G=0;++G<$&&(q*=256);)H+=this[g+G]*q;return H>=(q*=128)&&(H-=Math.pow(2,8*$)),H},a.prototype.readIntBE=function(g,$,A){g|=0,$|=0,A||z(g,$,this.length);for(var H=$,q=1,G=this[g+--H];H>0&&(q*=256);)G+=this[g+--H]*q;return G>=(q*=128)&&(G-=Math.pow(2,8*$)),G},a.prototype.readInt8=function(g,$){return $||z(g,1,this.length),128&this[g]?-1*(255-this[g]+1):this[g]},a.prototype.readInt16LE=function(g,$){$||z(g,2,this.length);var A=this[g]|this[g+1]<<8;return 32768&A?4294901760|A:A},a.prototype.readInt16BE=function(g,$){$||z(g,2,this.length);var A=this[g+1]|this[g]<<8;return 32768&A?4294901760|A:A},a.prototype.readInt32LE=function(g,$){return $||z(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},a.prototype.readInt32BE=function(g,$){return $||z(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},a.prototype.readFloatLE=function(g,$){return $||z(g,4,this.length),i.read(this,g,!0,23,4)},a.prototype.readFloatBE=function(g,$){return $||z(g,4,this.length),i.read(this,g,!1,23,4)},a.prototype.readDoubleLE=function(g,$){return $||z(g,8,this.length),i.read(this,g,!0,52,8)},a.prototype.readDoubleBE=function(g,$){return $||z(g,8,this.length),i.read(this,g,!1,52,8)},a.prototype.writeUIntLE=function(g,$,A,H){g=+g,$|=0,A|=0,H||j(this,g,$,A,Math.pow(2,8*A)-1,0);var q=1,G=0;for(this[$]=255&g;++G<A&&(q*=256);)this[$+G]=g/q&255;return $+A},a.prototype.writeUIntBE=function(g,$,A,H){g=+g,$|=0,A|=0,H||j(this,g,$,A,Math.pow(2,8*A)-1,0);var q=A-1,G=1;for(this[$+q]=255&g;--q>=0&&(G*=256);)this[$+q]=g/G&255;return $+A},a.prototype.writeUInt8=function(g,$,A){return g=+g,$|=0,A||j(this,g,$,1,255,0),a.TYPED_ARRAY_SUPPORT||(g=Math.floor(g)),this[$]=255&g,$+1},a.prototype.writeUInt16LE=function(g,$,A){return g=+g,$|=0,A||j(this,g,$,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[$]=255&g,this[$+1]=g>>>8):V(this,g,$,!0),$+2},a.prototype.writeUInt16BE=function(g,$,A){return g=+g,$|=0,A||j(this,g,$,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[$]=g>>>8,this[$+1]=255&g):V(this,g,$,!1),$+2},a.prototype.writeUInt32LE=function(g,$,A){return g=+g,$|=0,A||j(this,g,$,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[$+3]=g>>>24,this[$+2]=g>>>16,this[$+1]=g>>>8,this[$]=255&g):C(this,g,$,!0),$+4},a.prototype.writeUInt32BE=function(g,$,A){return g=+g,$|=0,A||j(this,g,$,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[$]=g>>>24,this[$+1]=g>>>16,this[$+2]=g>>>8,this[$+3]=255&g):C(this,g,$,!1),$+4},a.prototype.writeIntLE=function(g,$,A,H){if(g=+g,$|=0,!H){var q=Math.pow(2,8*A-1);j(this,g,$,A,q-1,-q)}var G=0,le=1,ve=0;for(this[$]=255&g;++G<A&&(le*=256);)g<0&&ve===0&&this[$+G-1]!==0&&(ve=1),this[$+G]=(g/le>>0)-ve&255;return $+A},a.prototype.writeIntBE=function(g,$,A,H){if(g=+g,$|=0,!H){var q=Math.pow(2,8*A-1);j(this,g,$,A,q-1,-q)}var G=A-1,le=1,ve=0;for(this[$+G]=255&g;--G>=0&&(le*=256);)g<0&&ve===0&&this[$+G+1]!==0&&(ve=1),this[$+G]=(g/le>>0)-ve&255;return $+A},a.prototype.writeInt8=function(g,$,A){return g=+g,$|=0,A||j(this,g,$,1,127,-128),a.TYPED_ARRAY_SUPPORT||(g=Math.floor(g)),g<0&&(g=255+g+1),this[$]=255&g,$+1},a.prototype.writeInt16LE=function(g,$,A){return g=+g,$|=0,A||j(this,g,$,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[$]=255&g,this[$+1]=g>>>8):V(this,g,$,!0),$+2},a.prototype.writeInt16BE=function(g,$,A){return g=+g,$|=0,A||j(this,g,$,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[$]=g>>>8,this[$+1]=255&g):V(this,g,$,!1),$+2},a.prototype.writeInt32LE=function(g,$,A){return g=+g,$|=0,A||j(this,g,$,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[$]=255&g,this[$+1]=g>>>8,this[$+2]=g>>>16,this[$+3]=g>>>24):C(this,g,$,!0),$+4},a.prototype.writeInt32BE=function(g,$,A){return g=+g,$|=0,A||j(this,g,$,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),a.TYPED_ARRAY_SUPPORT?(this[$]=g>>>24,this[$+1]=g>>>16,this[$+2]=g>>>8,this[$+3]=255&g):C(this,g,$,!1),$+4},a.prototype.writeFloatLE=function(g,$,A){return U(this,g,$,!0,A)},a.prototype.writeFloatBE=function(g,$,A){return U(this,g,$,!1,A)},a.prototype.writeDoubleLE=function(g,$,A){return J(this,g,$,!0,A)},a.prototype.writeDoubleBE=function(g,$,A){return J(this,g,$,!1,A)},a.prototype.copy=function(g,$,A,H){if(A||(A=0),H||H===0||(H=this.length),$>=g.length&&($=g.length),$||($=0),H>0&&H<A&&(H=A),H===A||g.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("sourceStart out of bounds");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length),g.length-$<H-A&&(H=g.length-$+A);var q,G=H-A;if(this===g&&A<$&&$<H)for(q=G-1;q>=0;--q)g[q+$]=this[q+A];else if(G<1e3||!a.TYPED_ARRAY_SUPPORT)for(q=0;q<G;++q)g[q+$]=this[q+A];else Uint8Array.prototype.set.call(g,this.subarray(A,A+G),$);return G},a.prototype.fill=function(g,$,A,H){if(typeof g=="string"){if(typeof $=="string"?(H=$,$=0,A=this.length):typeof A=="string"&&(H=A,A=this.length),g.length===1){var q=g.charCodeAt(0);q<256&&(g=q)}if(H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!a.isEncoding(H))throw new TypeError("Unknown encoding: "+H)}else typeof g=="number"&&(g&=255);if($<0||this.length<$||this.length<A)throw new RangeError("Out of range index");if(A<=$)return this;var G;if($>>>=0,A=A===void 0?this.length:A>>>0,g||(g=0),typeof g=="number")for(G=$;G<A;++G)this[G]=g;else{var le=a.isBuffer(g)?g:de(new a(g,H).toString()),ve=le.length;for(G=0;G<A-$;++G)this[G+$]=le[G%ve]}return this};var oe=/[^+\/0-9A-Za-z-_]/g;function ue(g){return g<16?"0"+g.toString(16):g.toString(16)}function de(g,$){var A;$=$||1/0;for(var H=g.length,q=null,G=[],le=0;le<H;++le){if((A=g.charCodeAt(le))>55295&&A<57344){if(!q){if(A>56319){($-=3)>-1&&G.push(239,191,189);continue}if(le+1===H){($-=3)>-1&&G.push(239,191,189);continue}q=A;continue}if(A<56320){($-=3)>-1&&G.push(239,191,189),q=A;continue}A=65536+(q-55296<<10|A-56320)}else q&&($-=3)>-1&&G.push(239,191,189);if(q=null,A<128){if(($-=1)<0)break;G.push(A)}else if(A<2048){if(($-=2)<0)break;G.push(A>>6|192,63&A|128)}else if(A<65536){if(($-=3)<0)break;G.push(A>>12|224,A>>6&63|128,63&A|128)}else{if(!(A<1114112))throw new Error("Invalid code point");if(($-=4)<0)break;G.push(A>>18|240,A>>12&63|128,A>>6&63|128,63&A|128)}}return G}function ye(g){return s.toByteArray(function($){if(($=function(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")}($).replace(oe,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}(g))}function ie(g,$,A,H){for(var q=0;q<H&&!(q+A>=$.length||q>=g.length);++q)$[q+A]=g[q];return q}},function(r,o){typeof Object.create=="function"?r.exports=function(l,s){s&&(l.super_=s,l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(l,s){if(s){l.super_=s;var i=function(){};i.prototype=s.prototype,l.prototype=new i,l.prototype.constructor=l}}},function(r,o,l){var s=l(9),i=Object.keys||function(m){var E=[];for(var k in m)E.push(k);return E};r.exports=b;var d=Object.create(l(7));d.inherits=l(4);var p=l(15),u=l(19);d.inherits(b,p);for(var a=i(u.prototype),c=0;c<a.length;c++){var h=a[c];b.prototype[h]||(b.prototype[h]=u.prototype[h])}function b(m){if(!(this instanceof b))return new b(m);p.call(this,m),u.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y)}function y(){this.allowHalfOpen||this._writableState.ended||s.nextTick(f,this)}function f(m){m.end()}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(b.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),b.prototype._destroy=function(m,E){this.push(null),this.end(),s.nextTick(E,m)}},function(r,o){var l,s,i=r.exports={};function d(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}function u(k){if(l===setTimeout)return setTimeout(k,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(k,0);try{return l(k,0)}catch{try{return l.call(null,k,0)}catch{return l.call(this,k,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:d}catch{l=d}try{s=typeof clearTimeout=="function"?clearTimeout:p}catch{s=p}})();var a,c=[],h=!1,b=-1;function y(){h&&a&&(h=!1,a.length?c=a.concat(c):b=-1,c.length&&f())}function f(){if(!h){var k=u(y);h=!0;for(var x=c.length;x;){for(a=c,c=[];++b<x;)a&&a[b].run();b=-1,x=c.length}a=null,h=!1,function(S){if(s===clearTimeout)return clearTimeout(S);if((s===p||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(S);try{return s(S)}catch{try{return s.call(null,S)}catch{return s.call(this,S)}}}(k)}}function m(k,x){this.fun=k,this.array=x}function E(){}i.nextTick=function(k){var x=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)x[S-1]=arguments[S];c.push(new m(k,x)),c.length!==1||h||u(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=E,i.addListener=E,i.once=E,i.off=E,i.removeListener=E,i.removeAllListeners=E,i.emit=E,i.prependListener=E,i.prependOnceListener=E,i.listeners=function(k){return[]},i.binding=function(k){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(k){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(r,o,l){function s(i){return Object.prototype.toString.call(i)}o.isArray=function(i){return Array.isArray?Array.isArray(i):s(i)==="[object Array]"},o.isBoolean=function(i){return typeof i=="boolean"},o.isNull=function(i){return i===null},o.isNullOrUndefined=function(i){return i==null},o.isNumber=function(i){return typeof i=="number"},o.isString=function(i){return typeof i=="string"},o.isSymbol=function(i){return typeof i=="symbol"},o.isUndefined=function(i){return i===void 0},o.isRegExp=function(i){return s(i)==="[object RegExp]"},o.isObject=function(i){return typeof i=="object"&&i!==null},o.isDate=function(i){return s(i)==="[object Date]"},o.isError=function(i){return s(i)==="[object Error]"||i instanceof Error},o.isFunction=function(i){return typeof i=="function"},o.isPrimitive=function(i){return i===null||typeof i=="boolean"||typeof i=="number"||typeof i=="string"||typeof i=="symbol"||i===void 0},o.isBuffer=l(3).Buffer.isBuffer},function(r,o,l){var s=l(14).Duplex,i=l(11),d=l(10).Buffer;function p(u){if(!(this instanceof p))return new p(u);if(this._bufs=[],this.length=0,typeof u=="function"){this._callback=u;var a=function(c){this._callback&&(this._callback(c),this._callback=null)}.bind(this);this.on("pipe",function(c){c.on("error",a)}),this.on("unpipe",function(c){c.removeListener("error",a)})}else this.append(u);s.call(this)}i.inherits(p,s),p.prototype._offset=function(u){var a,c=0,h=0;if(u===0)return[0,0];for(;h<this._bufs.length;h++){if(u<(a=c+this._bufs[h].length)||h==this._bufs.length-1)return[h,u-c];c=a}},p.prototype._reverseOffset=function(u){for(var a=u[0],c=u[1],h=0;h<a;h++)c+=this._bufs[h].length;return c},p.prototype.append=function(u){var a=0;if(d.isBuffer(u))this._appendBuffer(u);else if(Array.isArray(u))for(;a<u.length;a++)this.append(u[a]);else if(u instanceof p)for(;a<u._bufs.length;a++)this.append(u._bufs[a]);else u!=null&&(typeof u=="number"&&(u=u.toString()),this._appendBuffer(d.from(u)));return this},p.prototype._appendBuffer=function(u){this._bufs.push(u),this.length+=u.length},p.prototype._write=function(u,a,c){this._appendBuffer(u),typeof c=="function"&&c()},p.prototype._read=function(u){if(!this.length)return this.push(null);u=Math.min(u,this.length),this.push(this.slice(0,u)),this.consume(u)},p.prototype.end=function(u){s.prototype.end.call(this,u),this._callback&&(this._callback(null,this.slice()),this._callback=null)},p.prototype.get=function(u){if(!(u>this.length||u<0)){var a=this._offset(u);return this._bufs[a[0]][a[1]]}},p.prototype.slice=function(u,a){return typeof u=="number"&&u<0&&(u+=this.length),typeof a=="number"&&a<0&&(a+=this.length),this.copy(null,0,u,a)},p.prototype.copy=function(u,a,c,h){if((typeof c!="number"||c<0)&&(c=0),(typeof h!="number"||h>this.length)&&(h=this.length),c>=this.length||h<=0)return u||d.alloc(0);var b,y,f=!!u,m=this._offset(c),E=h-c,k=E,x=f&&a||0,S=m[1];if(c===0&&h==this.length){if(!f)return this._bufs.length===1?this._bufs[0]:d.concat(this._bufs,this.length);for(y=0;y<this._bufs.length;y++)this._bufs[y].copy(u,x),x+=this._bufs[y].length;return u}if(k<=this._bufs[m[0]].length-S)return f?this._bufs[m[0]].copy(u,a,S,S+k):this._bufs[m[0]].slice(S,S+k);for(f||(u=d.allocUnsafe(E)),y=m[0];y<this._bufs.length;y++){if(!(k>(b=this._bufs[y].length-S))){this._bufs[y].copy(u,x,S,S+k),x+=b;break}this._bufs[y].copy(u,x,S),x+=b,k-=b,S&&(S=0)}return u.length>x?u.slice(0,x):u},p.prototype.shallowSlice=function(u,a){if(u=u||0,a=typeof a!="number"?this.length:a,u<0&&(u+=this.length),a<0&&(a+=this.length),u===a)return new p;var c=this._offset(u),h=this._offset(a),b=this._bufs.slice(c[0],h[0]+1);return h[1]==0?b.pop():b[b.length-1]=b[b.length-1].slice(0,h[1]),c[1]!=0&&(b[0]=b[0].slice(c[1])),new p(b)},p.prototype.toString=function(u,a,c){return this.slice(a,c).toString(u)},p.prototype.consume=function(u){if(u=Math.trunc(u),Number.isNaN(u)||u<=0)return this;for(;this._bufs.length;){if(!(u>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(u),this.length-=u;break}u-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},p.prototype.duplicate=function(){for(var u=0,a=new p;u<this._bufs.length;u++)a.append(this._bufs[u]);return a},p.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},p.prototype.indexOf=function(u,a,c){if(c===void 0&&typeof a=="string"&&(c=a,a=void 0),typeof u=="function"||Array.isArray(u))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof u=="number"?u=d.from([u]):typeof u=="string"?u=d.from(u,c):u instanceof p?u=u.slice():d.isBuffer(u)||(u=d.from(u)),a=Number(a||0),isNaN(a)&&(a=0),a<0&&(a=this.length+a),a<0&&(a=0),u.length===0)return a>this.length?this.length:a;for(var h=this._offset(a),b=h[0],y=h[1];b<this._bufs.length;b++){for(var f=this._bufs[b];y<f.length;)if(f.length-y>=u.length){var m=f.indexOf(u,y);if(m!==-1)return this._reverseOffset([b,m]);y=f.length-u.length+1}else{var E=this._reverseOffset([b,y]);if(this._match(E,u))return E;y++}y=0}return-1},p.prototype._match=function(u,a){if(this.length-u<a.length)return!1;for(var c=0;c<a.length;c++)if(this.get(u+c)!==a[c])return!1;return!0},function(){var u={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var a in u)(function(c){p.prototype[c]=u[c]===null?function(h,b){return this.slice(h,h+b)[c](0,b)}:function(h){return this.slice(h,h+u[c])[c](0)}})(a)}(),r.exports=p},function(r,o,l){(function(s){s===void 0||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?r.exports={nextTick:function(i,d,p,u){if(typeof i!="function")throw new TypeError('"callback" argument must be a function');var a,c,h=arguments.length;switch(h){case 0:case 1:return s.nextTick(i);case 2:return s.nextTick(function(){i.call(null,d)});case 3:return s.nextTick(function(){i.call(null,d,p)});case 4:return s.nextTick(function(){i.call(null,d,p,u)});default:for(a=new Array(h-1),c=0;c<a.length;)a[c++]=arguments[c];return s.nextTick(function(){i.apply(null,a)})}}}:r.exports=s}).call(this,l(6))},function(r,o,l){var s=l(3),i=s.Buffer;function d(u,a){for(var c in u)a[c]=u[c]}function p(u,a,c){return i(u,a,c)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=s:(d(s,o),o.Buffer=p),p.prototype=Object.create(i.prototype),d(i,p),p.from=function(u,a,c){if(typeof u=="number")throw new TypeError("Argument must not be a number");return i(u,a,c)},p.alloc=function(u,a,c){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=i(u);return a!==void 0?typeof c=="string"?h.fill(a,c):h.fill(a):h.fill(0),h},p.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i(u)},p.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(u)}},function(r,o,l){(function(s){var i=Object.getOwnPropertyDescriptors||function(D){for(var z=Object.keys(D),j={},V=0;V<z.length;V++)j[z[V]]=Object.getOwnPropertyDescriptor(D,z[V]);return j},d=/%[sdj%]/g;o.format=function(D){if(!S(D)){for(var z=[],j=0;j<arguments.length;j++)z.push(a(arguments[j]));return z.join(" ")}j=1;for(var V=arguments,C=V.length,I=String(D).replace(d,function(J){if(J==="%%")return"%";if(j>=C)return J;switch(J){case"%s":return String(V[j++]);case"%d":return Number(V[j++]);case"%j":try{return JSON.stringify(V[j++])}catch{return"[Circular]"}default:return J}}),U=V[j];j<C;U=V[++j])k(U)||!L(U)?I+=" "+U:I+=" "+a(U);return I},o.deprecate=function(D,z){if(s!==void 0&&s.noDeprecation===!0)return D;if(s===void 0)return function(){return o.deprecate(D,z).apply(this,arguments)};var j=!1;return function(){if(!j){if(s.throwDeprecation)throw new Error(z);s.traceDeprecation?console.trace(z):console.error(z),j=!0}return D.apply(this,arguments)}};var p,u={};function a(D,z){var j={seen:[],stylize:h};return arguments.length>=3&&(j.depth=arguments[2]),arguments.length>=4&&(j.colors=arguments[3]),E(z)?j.showHidden=z:z&&o._extend(j,z),w(j.showHidden)&&(j.showHidden=!1),w(j.depth)&&(j.depth=2),w(j.colors)&&(j.colors=!1),w(j.customInspect)&&(j.customInspect=!0),j.colors&&(j.stylize=c),b(j,D,j.depth)}function c(D,z){var j=a.styles[z];return j?"\x1B["+a.colors[j][0]+"m"+D+"\x1B["+a.colors[j][1]+"m":D}function h(D,z){return D}function b(D,z,j){if(D.customInspect&&z&&P(z.inspect)&&z.inspect!==o.inspect&&(!z.constructor||z.constructor.prototype!==z)){var V=z.inspect(j,D);return S(V)||(V=b(D,V,j)),V}var C=function(ie,g){if(w(g))return ie.stylize("undefined","undefined");if(S(g)){var $="'"+JSON.stringify(g).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ie.stylize($,"string")}if(x(g))return ie.stylize(""+g,"number");if(E(g))return ie.stylize(""+g,"boolean");if(k(g))return ie.stylize("null","null")}(D,z);if(C)return C;var I=Object.keys(z),U=function(ie){var g={};return ie.forEach(function($,A){g[$]=!0}),g}(I);if(D.showHidden&&(I=Object.getOwnPropertyNames(z)),Q(z)&&(I.indexOf("message")>=0||I.indexOf("description")>=0))return y(z);if(I.length===0){if(P(z)){var J=z.name?": "+z.name:"";return D.stylize("[Function"+J+"]","special")}if(_(z))return D.stylize(RegExp.prototype.toString.call(z),"regexp");if(O(z))return D.stylize(Date.prototype.toString.call(z),"date");if(Q(z))return y(z)}var oe,ue="",de=!1,ye=["{","}"];return m(z)&&(de=!0,ye=["[","]"]),P(z)&&(ue=" [Function"+(z.name?": "+z.name:"")+"]"),_(z)&&(ue=" "+RegExp.prototype.toString.call(z)),O(z)&&(ue=" "+Date.prototype.toUTCString.call(z)),Q(z)&&(ue=" "+y(z)),I.length!==0||de&&z.length!=0?j<0?_(z)?D.stylize(RegExp.prototype.toString.call(z),"regexp"):D.stylize("[Object]","special"):(D.seen.push(z),oe=de?function(ie,g,$,A,H){for(var q=[],G=0,le=g.length;G<le;++G)X(g,String(G))?q.push(f(ie,g,$,A,String(G),!0)):q.push("");return H.forEach(function(ve){ve.match(/^\d+$/)||q.push(f(ie,g,$,A,ve,!0))}),q}(D,z,j,U,I):I.map(function(ie){return f(D,z,j,U,ie,de)}),D.seen.pop(),function(ie,g,$){var A=ie.reduce(function(H,q){return q.indexOf(`
`)>=0,H+q.replace(/\u001b\[\d\d?m/g,"").length+1},0);return A>60?$[0]+(g===""?"":g+`
 `)+" "+ie.join(`,
  `)+" "+$[1]:$[0]+g+" "+ie.join(", ")+" "+$[1]}(oe,ue,ye)):ye[0]+ue+ye[1]}function y(D){return"["+Error.prototype.toString.call(D)+"]"}function f(D,z,j,V,C,I){var U,J,oe;if((oe=Object.getOwnPropertyDescriptor(z,C)||{value:z[C]}).get?J=oe.set?D.stylize("[Getter/Setter]","special"):D.stylize("[Getter]","special"):oe.set&&(J=D.stylize("[Setter]","special")),X(V,C)||(U="["+C+"]"),J||(D.seen.indexOf(oe.value)<0?(J=k(j)?b(D,oe.value,null):b(D,oe.value,j-1)).indexOf(`
`)>-1&&(J=I?J.split(`
`).map(function(ue){return"  "+ue}).join(`
`).substr(2):`
`+J.split(`
`).map(function(ue){return"   "+ue}).join(`
`)):J=D.stylize("[Circular]","special")),w(U)){if(I&&C.match(/^\d+$/))return J;(U=JSON.stringify(""+C)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.substr(1,U.length-2),U=D.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=D.stylize(U,"string"))}return U+": "+J}function m(D){return Array.isArray(D)}function E(D){return typeof D=="boolean"}function k(D){return D===null}function x(D){return typeof D=="number"}function S(D){return typeof D=="string"}function w(D){return D===void 0}function _(D){return L(D)&&T(D)==="[object RegExp]"}function L(D){return typeof D=="object"&&D!==null}function O(D){return L(D)&&T(D)==="[object Date]"}function Q(D){return L(D)&&(T(D)==="[object Error]"||D instanceof Error)}function P(D){return typeof D=="function"}function T(D){return Object.prototype.toString.call(D)}function B(D){return D<10?"0"+D.toString(10):D.toString(10)}o.debuglog=function(D){if(w(p)&&(p=s.env.NODE_DEBUG||""),D=D.toUpperCase(),!u[D])if(new RegExp("\\b"+D+"\\b","i").test(p)){var z=s.pid;u[D]=function(){var j=o.format.apply(o,arguments);console.error("%s %d: %s",D,z,j)}}else u[D]=function(){};return u[D]},o.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=m,o.isBoolean=E,o.isNull=k,o.isNullOrUndefined=function(D){return D==null},o.isNumber=x,o.isString=S,o.isSymbol=function(D){return typeof D=="symbol"},o.isUndefined=w,o.isRegExp=_,o.isObject=L,o.isDate=O,o.isError=Q,o.isFunction=P,o.isPrimitive=function(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||D===void 0},o.isBuffer=l(33);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function X(D,z){return Object.prototype.hasOwnProperty.call(D,z)}o.log=function(){var D,z;console.log("%s - %s",(D=new Date,z=[B(D.getHours()),B(D.getMinutes()),B(D.getSeconds())].join(":"),[D.getDate(),N[D.getMonth()],z].join(" ")),o.format.apply(o,arguments))},o.inherits=l(34),o._extend=function(D,z){if(!z||!L(z))return D;for(var j=Object.keys(z),V=j.length;V--;)D[j[V]]=z[j[V]];return D};var W=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;function ne(D,z){if(!D){var j=new Error("Promise was rejected with a falsy value");j.reason=D,D=j}return z(D)}o.promisify=function(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');if(W&&D[W]){var z;if(typeof(z=D[W])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(z,W,{value:z,enumerable:!1,writable:!1,configurable:!0}),z}function z(){for(var j,V,C=new Promise(function(J,oe){j=J,V=oe}),I=[],U=0;U<arguments.length;U++)I.push(arguments[U]);I.push(function(J,oe){J?V(J):j(oe)});try{D.apply(this,I)}catch(J){V(J)}return C}return Object.setPrototypeOf(z,Object.getPrototypeOf(D)),W&&Object.defineProperty(z,W,{value:z,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(z,i(D))},o.promisify.custom=W,o.callbackify=function(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');function z(){for(var j=[],V=0;V<arguments.length;V++)j.push(arguments[V]);var C=j.pop();if(typeof C!="function")throw new TypeError("The last argument must be of type Function");var I=this,U=function(){return C.apply(I,arguments)};D.apply(this,j).then(function(J){s.nextTick(U,null,J)},function(J){s.nextTick(ne,J,U)})}return Object.setPrototypeOf(z,Object.getPrototypeOf(D)),Object.defineProperties(z,i(D)),z}}).call(this,l(6))},function(r,o,l){var s=l(3),i=s.Buffer;function d(u,a){for(var c in u)a[c]=u[c]}function p(u,a,c){return i(u,a,c)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=s:(d(s,o),o.Buffer=p),d(i,p),p.from=function(u,a,c){if(typeof u=="number")throw new TypeError("Argument must not be a number");return i(u,a,c)},p.alloc=function(u,a,c){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=i(u);return a!==void 0?typeof c=="string"?h.fill(a,c):h.fill(a):h.fill(0),h},p.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i(u)},p.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(u)}},function(r,o){var l={}.toString;r.exports=Array.isArray||function(s){return l.call(s)=="[object Array]"}},function(r,o,l){(o=r.exports=l(15)).Stream=o,o.Readable=o,o.Writable=l(19),o.Duplex=l(5),o.Transform=l(22),o.PassThrough=l(41)},function(r,o,l){(function(s){var i=l(9);r.exports=w;var d,p=l(13);w.ReadableState=S,l(16).EventEmitter;var u=function(C,I){return C.listeners(I).length},a=l(17),c=l(12).Buffer,h=window.Uint8Array||function(){},b=Object.create(l(7));b.inherits=l(4);var y=l(35),f=void 0;f=y&&y.debuglog?y.debuglog("stream"):function(){};var m,E=l(36),k=l(18);b.inherits(w,a);var x=["error","close","destroy","pause","resume"];function S(C,I){C=C||{};var U=I instanceof(d=d||l(5));this.objectMode=!!C.objectMode,U&&(this.objectMode=this.objectMode||!!C.readableObjectMode);var J=C.highWaterMark,oe=C.readableHighWaterMark,ue=this.objectMode?16:16384;this.highWaterMark=J||J===0?J:U&&(oe||oe===0)?oe:ue,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(m||(m=l(21).StringDecoder),this.decoder=new m(C.encoding),this.encoding=C.encoding)}function w(C){if(d=d||l(5),!(this instanceof w))return new w(C);this._readableState=new S(C,this),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),a.call(this)}function _(C,I,U,J,oe){var ue,de=C._readableState;return I===null?(de.reading=!1,function(ye,ie){if(!ie.ended){if(ie.decoder){var g=ie.decoder.end();g&&g.length&&(ie.buffer.push(g),ie.length+=ie.objectMode?1:g.length)}ie.ended=!0,P(ye)}}(C,de)):(oe||(ue=function(ye,ie){var g;$=ie,c.isBuffer($)||$ instanceof h||typeof ie=="string"||ie===void 0||ye.objectMode||(g=new TypeError("Invalid non-string/buffer chunk"));var $;return g}(de,I)),ue?C.emit("error",ue):de.objectMode||I&&I.length>0?(typeof I=="string"||de.objectMode||Object.getPrototypeOf(I)===c.prototype||(I=function(ye){return c.from(ye)}(I)),J?de.endEmitted?C.emit("error",new Error("stream.unshift() after end event")):L(C,de,I,!0):de.ended?C.emit("error",new Error("stream.push() after EOF")):(de.reading=!1,de.decoder&&!U?(I=de.decoder.write(I),de.objectMode||I.length!==0?L(C,de,I,!1):B(C,de)):L(C,de,I,!1))):J||(de.reading=!1)),function(ye){return!ye.ended&&(ye.needReadable||ye.length<ye.highWaterMark||ye.length===0)}(de)}function L(C,I,U,J){I.flowing&&I.length===0&&!I.sync?(C.emit("data",U),C.read(0)):(I.length+=I.objectMode?1:U.length,J?I.buffer.unshift(U):I.buffer.push(U),I.needReadable&&P(C)),B(C,I)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),w.prototype.destroy=k.destroy,w.prototype._undestroy=k.undestroy,w.prototype._destroy=function(C,I){this.push(null),I(C)},w.prototype.push=function(C,I){var U,J=this._readableState;return J.objectMode?U=!0:typeof C=="string"&&((I=I||J.defaultEncoding)!==J.encoding&&(C=c.from(C,I),I=""),U=!0),_(this,C,I,!1,U)},w.prototype.unshift=function(C){return _(this,C,null,!0,!1)},w.prototype.isPaused=function(){return this._readableState.flowing===!1},w.prototype.setEncoding=function(C){return m||(m=l(21).StringDecoder),this._readableState.decoder=new m(C),this._readableState.encoding=C,this};var O=8388608;function Q(C,I){return C<=0||I.length===0&&I.ended?0:I.objectMode?1:C!=C?I.flowing&&I.length?I.buffer.head.data.length:I.length:(C>I.highWaterMark&&(I.highWaterMark=function(U){return U>=O?U=O:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}(C)),C<=I.length?C:I.ended?I.length:(I.needReadable=!0,0))}function P(C){var I=C._readableState;I.needReadable=!1,I.emittedReadable||(f("emitReadable",I.flowing),I.emittedReadable=!0,I.sync?i.nextTick(T,C):T(C))}function T(C){f("emit readable"),C.emit("readable"),ne(C)}function B(C,I){I.readingMore||(I.readingMore=!0,i.nextTick(N,C,I))}function N(C,I){for(var U=I.length;!I.reading&&!I.flowing&&!I.ended&&I.length<I.highWaterMark&&(f("maybeReadMore read 0"),C.read(0),U!==I.length);)U=I.length;I.readingMore=!1}function X(C){f("readable nexttick read 0"),C.read(0)}function W(C,I){I.reading||(f("resume read 0"),C.read(0)),I.resumeScheduled=!1,I.awaitDrain=0,C.emit("resume"),ne(C),I.flowing&&!I.reading&&C.read(0)}function ne(C){var I=C._readableState;for(f("flow",I.flowing);I.flowing&&C.read()!==null;);}function D(C,I){return I.length===0?null:(I.objectMode?U=I.buffer.shift():!C||C>=I.length?(U=I.decoder?I.buffer.join(""):I.buffer.length===1?I.buffer.head.data:I.buffer.concat(I.length),I.buffer.clear()):U=function(J,oe,ue){var de;return J<oe.head.data.length?(de=oe.head.data.slice(0,J),oe.head.data=oe.head.data.slice(J)):de=J===oe.head.data.length?oe.shift():ue?function(ye,ie){var g=ie.head,$=1,A=g.data;for(ye-=A.length;g=g.next;){var H=g.data,q=ye>H.length?H.length:ye;if(q===H.length?A+=H:A+=H.slice(0,ye),(ye-=q)===0){q===H.length?(++$,g.next?ie.head=g.next:ie.head=ie.tail=null):(ie.head=g,g.data=H.slice(q));break}++$}return ie.length-=$,A}(J,oe):function(ye,ie){var g=c.allocUnsafe(ye),$=ie.head,A=1;for($.data.copy(g),ye-=$.data.length;$=$.next;){var H=$.data,q=ye>H.length?H.length:ye;if(H.copy(g,g.length-ye,0,q),(ye-=q)===0){q===H.length?(++A,$.next?ie.head=$.next:ie.head=ie.tail=null):(ie.head=$,$.data=H.slice(q));break}++A}return ie.length-=A,g}(J,oe),de}(C,I.buffer,I.decoder),U);var U}function z(C){var I=C._readableState;if(I.length>0)throw new Error('"endReadable()" called on non-empty stream');I.endEmitted||(I.ended=!0,i.nextTick(j,I,C))}function j(C,I){C.endEmitted||C.length!==0||(C.endEmitted=!0,I.readable=!1,I.emit("end"))}function V(C,I){for(var U=0,J=C.length;U<J;U++)if(C[U]===I)return U;return-1}w.prototype.read=function(C){f("read",C),C=parseInt(C,10);var I=this._readableState,U=C;if(C!==0&&(I.emittedReadable=!1),C===0&&I.needReadable&&(I.length>=I.highWaterMark||I.ended))return f("read: emitReadable",I.length,I.ended),I.length===0&&I.ended?z(this):P(this),null;if((C=Q(C,I))===0&&I.ended)return I.length===0&&z(this),null;var J,oe=I.needReadable;return f("need readable",oe),(I.length===0||I.length-C<I.highWaterMark)&&f("length less than watermark",oe=!0),I.ended||I.reading?f("reading or ended",oe=!1):oe&&(f("do read"),I.reading=!0,I.sync=!0,I.length===0&&(I.needReadable=!0),this._read(I.highWaterMark),I.sync=!1,I.reading||(C=Q(U,I))),(J=C>0?D(C,I):null)===null?(I.needReadable=!0,C=0):I.length-=C,I.length===0&&(I.ended||(I.needReadable=!0),U!==C&&I.ended&&z(this)),J!==null&&this.emit("data",J),J},w.prototype._read=function(C){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(C,I){var U=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=C;break;case 1:J.pipes=[J.pipes,C];break;default:J.pipes.push(C)}J.pipesCount+=1,f("pipe count=%d opts=%j",J.pipesCount,I);var oe=(!I||I.end!==!1)&&C!==s.stdout&&C!==s.stderr?de:G;function ue(le,ve){f("onunpipe"),le===U&&ve&&ve.hasUnpiped===!1&&(ve.hasUnpiped=!0,f("cleanup"),C.removeListener("close",H),C.removeListener("finish",q),C.removeListener("drain",ye),C.removeListener("error",A),C.removeListener("unpipe",ue),U.removeListener("end",de),U.removeListener("end",G),U.removeListener("data",$),ie=!0,!J.awaitDrain||C._writableState&&!C._writableState.needDrain||ye())}function de(){f("onend"),C.end()}J.endEmitted?i.nextTick(oe):U.once("end",oe),C.on("unpipe",ue);var ye=function(le){return function(){var ve=le._readableState;f("pipeOnDrain",ve.awaitDrain),ve.awaitDrain&&ve.awaitDrain--,ve.awaitDrain===0&&u(le,"data")&&(ve.flowing=!0,ne(le))}}(U);C.on("drain",ye);var ie=!1,g=!1;function $(le){f("ondata"),g=!1,C.write(le)!==!1||g||((J.pipesCount===1&&J.pipes===C||J.pipesCount>1&&V(J.pipes,C)!==-1)&&!ie&&(f("false write response, pause",U._readableState.awaitDrain),U._readableState.awaitDrain++,g=!0),U.pause())}function A(le){f("onerror",le),G(),C.removeListener("error",A),u(C,"error")===0&&C.emit("error",le)}function H(){C.removeListener("finish",q),G()}function q(){f("onfinish"),C.removeListener("close",H),G()}function G(){f("unpipe"),U.unpipe(C)}return U.on("data",$),function(le,ve,Ee){if(typeof le.prependListener=="function")return le.prependListener(ve,Ee);le._events&&le._events[ve]?p(le._events[ve])?le._events[ve].unshift(Ee):le._events[ve]=[Ee,le._events[ve]]:le.on(ve,Ee)}(C,"error",A),C.once("close",H),C.once("finish",q),C.emit("pipe",U),J.flowing||(f("pipe resume"),U.resume()),C},w.prototype.unpipe=function(C){var I=this._readableState,U={hasUnpiped:!1};if(I.pipesCount===0)return this;if(I.pipesCount===1)return C&&C!==I.pipes||(C||(C=I.pipes),I.pipes=null,I.pipesCount=0,I.flowing=!1,C&&C.emit("unpipe",this,U)),this;if(!C){var J=I.pipes,oe=I.pipesCount;I.pipes=null,I.pipesCount=0,I.flowing=!1;for(var ue=0;ue<oe;ue++)J[ue].emit("unpipe",this,U);return this}var de=V(I.pipes,C);return de===-1||(I.pipes.splice(de,1),I.pipesCount-=1,I.pipesCount===1&&(I.pipes=I.pipes[0]),C.emit("unpipe",this,U)),this},w.prototype.on=function(C,I){var U=a.prototype.on.call(this,C,I);if(C==="data")this._readableState.flowing!==!1&&this.resume();else if(C==="readable"){var J=this._readableState;J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.emittedReadable=!1,J.reading?J.length&&P(this):i.nextTick(X,this))}return U},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var C=this._readableState;return C.flowing||(f("resume"),C.flowing=!0,function(I,U){U.resumeScheduled||(U.resumeScheduled=!0,i.nextTick(W,I,U))}(this,C)),this},w.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(C){var I=this,U=this._readableState,J=!1;for(var oe in C.on("end",function(){if(f("wrapped end"),U.decoder&&!U.ended){var de=U.decoder.end();de&&de.length&&I.push(de)}I.push(null)}),C.on("data",function(de){f("wrapped data"),U.decoder&&(de=U.decoder.write(de)),U.objectMode&&de==null||(U.objectMode||de&&de.length)&&(I.push(de)||(J=!0,C.pause()))}),C)this[oe]===void 0&&typeof C[oe]=="function"&&(this[oe]=function(de){return function(){return C[de].apply(C,arguments)}}(oe));for(var ue=0;ue<x.length;ue++)C.on(x[ue],this.emit.bind(this,x[ue]));return this._read=function(de){f("wrapped _read",de),J&&(J=!1,C.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=D}).call(this,l(6))},function(r,o,l){var s,i=typeof Reflect=="object"?Reflect:null,d=i&&typeof i.apply=="function"?i.apply:function(S,w,_){return Function.prototype.apply.call(S,w,_)};s=i&&typeof i.ownKeys=="function"?i.ownKeys:Object.getOwnPropertySymbols?function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:function(S){return Object.getOwnPropertyNames(S)};var p=Number.isNaN||function(S){return S!=S};function u(){u.init.call(this)}r.exports=u,r.exports.once=function(S,w){return new Promise(function(_,L){function O(P){S.removeListener(w,Q),L(P)}function Q(){typeof S.removeListener=="function"&&S.removeListener("error",O),_([].slice.call(arguments))}x(S,w,Q,{once:!0}),w!=="error"&&function(P,T,B){typeof P.on=="function"&&x(P,"error",T,B)}(S,O,{once:!0})})},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var a=10;function c(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}function h(S){return S._maxListeners===void 0?u.defaultMaxListeners:S._maxListeners}function b(S,w,_,L){var O,Q,P,T;if(c(_),(Q=S._events)===void 0?(Q=S._events=Object.create(null),S._eventsCount=0):(Q.newListener!==void 0&&(S.emit("newListener",w,_.listener?_.listener:_),Q=S._events),P=Q[w]),P===void 0)P=Q[w]=_,++S._eventsCount;else if(typeof P=="function"?P=Q[w]=L?[_,P]:[P,_]:L?P.unshift(_):P.push(_),(O=h(S))>0&&P.length>O&&!P.warned){P.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning",B.emitter=S,B.type=w,B.count=P.length,T=B,console&&console.warn&&console.warn(T)}return S}function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(S,w,_){var L={fired:!1,wrapFn:void 0,target:S,type:w,listener:_},O=y.bind(L);return O.listener=_,L.wrapFn=O,O}function m(S,w,_){var L=S._events;if(L===void 0)return[];var O=L[w];return O===void 0?[]:typeof O=="function"?_?[O.listener||O]:[O]:_?function(Q){for(var P=new Array(Q.length),T=0;T<P.length;++T)P[T]=Q[T].listener||Q[T];return P}(O):k(O,O.length)}function E(S){var w=this._events;if(w!==void 0){var _=w[S];if(typeof _=="function")return 1;if(_!==void 0)return _.length}return 0}function k(S,w){for(var _=new Array(w),L=0;L<w;++L)_[L]=S[L];return _}function x(S,w,_,L){if(typeof S.on=="function")L.once?S.once(w,_):S.on(w,_);else{if(typeof S.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S);S.addEventListener(w,function O(Q){L.once&&S.removeEventListener(w,O),_(Q)})}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(S){if(typeof S!="number"||S<0||p(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");a=S}}),u.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||p(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},u.prototype.getMaxListeners=function(){return h(this)},u.prototype.emit=function(S){for(var w=[],_=1;_<arguments.length;_++)w.push(arguments[_]);var L=S==="error",O=this._events;if(O!==void 0)L=L&&O.error===void 0;else if(!L)return!1;if(L){var Q;if(w.length>0&&(Q=w[0]),Q instanceof Error)throw Q;var P=new Error("Unhandled error."+(Q?" ("+Q.message+")":""));throw P.context=Q,P}var T=O[S];if(T===void 0)return!1;if(typeof T=="function")d(T,this,w);else{var B=T.length,N=k(T,B);for(_=0;_<B;++_)d(N[_],this,w)}return!0},u.prototype.addListener=function(S,w){return b(this,S,w,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(S,w){return b(this,S,w,!0)},u.prototype.once=function(S,w){return c(w),this.on(S,f(this,S,w)),this},u.prototype.prependOnceListener=function(S,w){return c(w),this.prependListener(S,f(this,S,w)),this},u.prototype.removeListener=function(S,w){var _,L,O,Q,P;if(c(w),(L=this._events)===void 0)return this;if((_=L[S])===void 0)return this;if(_===w||_.listener===w)--this._eventsCount==0?this._events=Object.create(null):(delete L[S],L.removeListener&&this.emit("removeListener",S,_.listener||w));else if(typeof _!="function"){for(O=-1,Q=_.length-1;Q>=0;Q--)if(_[Q]===w||_[Q].listener===w){P=_[Q].listener,O=Q;break}if(O<0)return this;O===0?_.shift():function(T,B){for(;B+1<T.length;B++)T[B]=T[B+1];T.pop()}(_,O),_.length===1&&(L[S]=_[0]),L.removeListener!==void 0&&this.emit("removeListener",S,P||w)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(S){var w,_,L;if((_=this._events)===void 0)return this;if(_.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):_[S]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete _[S]),this;if(arguments.length===0){var O,Q=Object.keys(_);for(L=0;L<Q.length;++L)(O=Q[L])!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(w=_[S])=="function")this.removeListener(S,w);else if(w!==void 0)for(L=w.length-1;L>=0;L--)this.removeListener(S,w[L]);return this},u.prototype.listeners=function(S){return m(this,S,!0)},u.prototype.rawListeners=function(S){return m(this,S,!1)},u.listenerCount=function(S,w){return typeof S.listenerCount=="function"?S.listenerCount(w):E.call(S,w)},u.prototype.listenerCount=E,u.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},function(r,o,l){r.exports=l(16).EventEmitter},function(r,o,l){var s=l(9);function i(d,p){d.emit("error",p)}r.exports={destroy:function(d,p){var u=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(p?p(d):!d||this._writableState&&this._writableState.errorEmitted||s.nextTick(i,this,d),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(h){!p&&h?(s.nextTick(i,u,h),u._writableState&&(u._writableState.errorEmitted=!0)):p&&p(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(r,o,l){(function(s,i){var d=l(9);function p(T){var B=this;this.next=null,this.entry=null,this.finish=function(){(function(N,X,W){var ne=N.entry;for(N.entry=null;ne;){var D=ne.callback;X.pendingcb--,D(W),ne=ne.next}X.corkedRequestsFree?X.corkedRequestsFree.next=N:X.corkedRequestsFree=N})(B,T)}}r.exports=S;var u,a=!s.browser&&["v0.10","v0.9."].indexOf(s.version.slice(0,5))>-1?i:d.nextTick;S.WritableState=x;var c=Object.create(l(7));c.inherits=l(4);var h={deprecate:l(39)},b=l(17),y=l(12).Buffer,f=window.Uint8Array||function(){},m,E=l(18);function k(){}function x(T,B){u=u||l(5),T=T||{};var N=B instanceof u;this.objectMode=!!T.objectMode,N&&(this.objectMode=this.objectMode||!!T.writableObjectMode);var X=T.highWaterMark,W=T.writableHighWaterMark,ne=this.objectMode?16:16384;this.highWaterMark=X||X===0?X:N&&(W||W===0)?W:ne,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=T.decodeStrings===!1;this.decodeStrings=!D,this.defaultEncoding=T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(z){(function(j,V){var C=j._writableState,I=C.sync,U=C.writecb;if(function(oe){oe.writing=!1,oe.writecb=null,oe.length-=oe.writelen,oe.writelen=0}(C),V)(function(oe,ue,de,ye,ie){--ue.pendingcb,de?(d.nextTick(ie,ye),d.nextTick(P,oe,ue),oe._writableState.errorEmitted=!0,oe.emit("error",ye)):(ie(ye),oe._writableState.errorEmitted=!0,oe.emit("error",ye),P(oe,ue))})(j,C,I,V,U);else{var J=O(C);J||C.corked||C.bufferProcessing||!C.bufferedRequest||L(j,C),I?a(_,j,C,J,U):_(j,C,J,U)}})(B,z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}function S(T){if(u=u||l(5),!(m.call(S,this)||this instanceof u))return new S(T);this._writableState=new x(T,this),this.writable=!0,T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final)),b.call(this)}function w(T,B,N,X,W,ne,D){B.writelen=X,B.writecb=D,B.writing=!0,B.sync=!0,N?T._writev(W,B.onwrite):T._write(W,ne,B.onwrite),B.sync=!1}function _(T,B,N,X){N||function(W,ne){ne.length===0&&ne.needDrain&&(ne.needDrain=!1,W.emit("drain"))}(T,B),B.pendingcb--,X(),P(T,B)}function L(T,B){B.bufferProcessing=!0;var N=B.bufferedRequest;if(T._writev&&N&&N.next){var X=B.bufferedRequestCount,W=new Array(X),ne=B.corkedRequestsFree;ne.entry=N;for(var D=0,z=!0;N;)W[D]=N,N.isBuf||(z=!1),N=N.next,D+=1;W.allBuffers=z,w(T,B,!0,B.length,W,"",ne.finish),B.pendingcb++,B.lastBufferedRequest=null,ne.next?(B.corkedRequestsFree=ne.next,ne.next=null):B.corkedRequestsFree=new p(B),B.bufferedRequestCount=0}else{for(;N;){var j=N.chunk,V=N.encoding,C=N.callback;if(w(T,B,!1,B.objectMode?1:j.length,j,V,C),N=N.next,B.bufferedRequestCount--,B.writing)break}N===null&&(B.lastBufferedRequest=null)}B.bufferedRequest=N,B.bufferProcessing=!1}function O(T){return T.ending&&T.length===0&&T.bufferedRequest===null&&!T.finished&&!T.writing}function Q(T,B){T._final(function(N){B.pendingcb--,N&&T.emit("error",N),B.prefinished=!0,T.emit("prefinish"),P(T,B)})}function P(T,B){var N=O(B);return N&&(function(X,W){W.prefinished||W.finalCalled||(typeof X._final=="function"?(W.pendingcb++,W.finalCalled=!0,d.nextTick(Q,X,W)):(W.prefinished=!0,X.emit("prefinish")))}(T,B),B.pendingcb===0&&(B.finished=!0,T.emit("finish"))),N}c.inherits(S,b),x.prototype.getBuffer=function(){for(var T=this.bufferedRequest,B=[];T;)B.push(T),T=T.next;return B},function(){try{Object.defineProperty(x.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(T){return!!m.call(this,T)||this===S&&T&&T._writableState instanceof x}})):m=function(T){return T instanceof this},S.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},S.prototype.write=function(T,B,N){var X,W=this._writableState,ne=!1,D=!W.objectMode&&(X=T,y.isBuffer(X)||X instanceof f);return D&&!y.isBuffer(T)&&(T=function(z){return y.from(z)}(T)),typeof B=="function"&&(N=B,B=null),D?B="buffer":B||(B=W.defaultEncoding),typeof N!="function"&&(N=k),W.ended?function(z,j){var V=new Error("write after end");z.emit("error",V),d.nextTick(j,V)}(this,N):(D||function(z,j,V,C){var I=!0,U=!1;return V===null?U=new TypeError("May not write null values to stream"):typeof V=="string"||V===void 0||j.objectMode||(U=new TypeError("Invalid non-string/buffer chunk")),U&&(z.emit("error",U),d.nextTick(C,U),I=!1),I}(this,W,T,N))&&(W.pendingcb++,ne=function(z,j,V,C,I,U){if(!V){var J=function(ye,ie,g){return ye.objectMode||ye.decodeStrings===!1||typeof ie!="string"||(ie=y.from(ie,g)),ie}(j,C,I);C!==J&&(V=!0,I="buffer",C=J)}var oe=j.objectMode?1:C.length;j.length+=oe;var ue=j.length<j.highWaterMark;if(ue||(j.needDrain=!0),j.writing||j.corked){var de=j.lastBufferedRequest;j.lastBufferedRequest={chunk:C,encoding:I,isBuf:V,callback:U,next:null},de?de.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else w(z,j,!1,oe,C,I,U);return ue}(this,W,D,T,B,N)),ne},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var T=this._writableState;T.corked&&(T.corked--,T.writing||T.corked||T.finished||T.bufferProcessing||!T.bufferedRequest||L(this,T))},S.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=T.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((T+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+T);return this._writableState.defaultEncoding=T,this},Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(T,B,N){N(new Error("_write() is not implemented"))},S.prototype._writev=null,S.prototype.end=function(T,B,N){var X=this._writableState;typeof T=="function"?(N=T,T=null,B=null):typeof B=="function"&&(N=B,B=null),T!=null&&this.write(T,B),X.corked&&(X.corked=1,this.uncork()),X.ending||X.finished||function(W,ne,D){ne.ending=!0,P(W,ne),D&&(ne.finished?d.nextTick(D):W.once("finish",D)),ne.ended=!0,W.writable=!1}(this,X,N)},Object.defineProperty(S.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(T){this._writableState&&(this._writableState.destroyed=T)}}),S.prototype.destroy=E.destroy,S.prototype._undestroy=E.undestroy,S.prototype._destroy=function(T,B){this.end(),B(T)}}).call(this,l(6),l(20).setImmediate)},function(r,o,l){var s=typeof window!="undefined"&&window||typeof self!="undefined"&&self||window,i=Function.prototype.apply;function d(p,u){this._id=p,this._clearFn=u}o.setTimeout=function(){return new d(i.call(setTimeout,s,arguments),clearTimeout)},o.setInterval=function(){return new d(i.call(setInterval,s,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(p){p&&p.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(s,this._id)},o.enroll=function(p,u){clearTimeout(p._idleTimeoutId),p._idleTimeout=u},o.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},o._unrefActive=o.active=function(p){clearTimeout(p._idleTimeoutId);var u=p._idleTimeout;u>=0&&(p._idleTimeoutId=setTimeout(function(){p._onTimeout&&p._onTimeout()},u))},l(38),o.setImmediate=typeof self!="undefined"&&self.setImmediate||typeof window!="undefined"&&window.setImmediate||this&&this.setImmediate,o.clearImmediate=typeof self!="undefined"&&self.clearImmediate||typeof window!="undefined"&&window.clearImmediate||this&&this.clearImmediate},function(r,o,l){var s=l(40).Buffer,i=s.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(m){var E;switch(this.encoding=function(k){var x=function(S){if(!S)return"utf8";for(var w;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(w)return;S=(""+S).toLowerCase(),w=!0}}(k);if(typeof x!="string"&&(s.isEncoding===i||!i(k)))throw new Error("Unknown encoding: "+k);return x||k}(m),this.encoding){case"utf16le":this.text=a,this.end=c,E=4;break;case"utf8":this.fillLast=u,E=4;break;case"base64":this.text=h,this.end=b,E=3;break;default:return this.write=y,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(E)}function p(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function u(m){var E=this.lastTotal-this.lastNeed,k=function(x,S,w){if((192&S[0])!=128)return x.lastNeed=0,"\uFFFD";if(x.lastNeed>1&&S.length>1){if((192&S[1])!=128)return x.lastNeed=1,"\uFFFD";if(x.lastNeed>2&&S.length>2&&(192&S[2])!=128)return x.lastNeed=2,"\uFFFD"}}(this,m);return k!==void 0?k:this.lastNeed<=m.length?(m.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,E,0,m.length),void(this.lastNeed-=m.length))}function a(m,E){if((m.length-E)%2==0){var k=m.toString("utf16le",E);if(k){var x=k.charCodeAt(k.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",E,m.length-1)}function c(m){var E=m&&m.length?this.write(m):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,k)}return E}function h(m,E){var k=(m.length-E)%3;return k===0?m.toString("base64",E):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",E,m.length-k))}function b(m){var E=m&&m.length?this.write(m):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function y(m){return m.toString(this.encoding)}function f(m){return m&&m.length?this.write(m):""}o.StringDecoder=d,d.prototype.write=function(m){if(m.length===0)return"";var E,k;if(this.lastNeed){if((E=this.fillLast(m))===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<m.length?E?E+this.text(m,k):this.text(m,k):E||""},d.prototype.end=function(m){var E=m&&m.length?this.write(m):"";return this.lastNeed?E+"\uFFFD":E},d.prototype.text=function(m,E){var k=function(S,w,_){var L=w.length-1;if(L<_)return 0;var O=p(w[L]);return O>=0?(O>0&&(S.lastNeed=O-1),O):--L<_||O===-2?0:(O=p(w[L]),O>=0?(O>0&&(S.lastNeed=O-2),O):--L<_||O===-2?0:(O=p(w[L]),O>=0?(O>0&&(O===2?O=0:S.lastNeed=O-3),O):0))}(this,m,E);if(!this.lastNeed)return m.toString("utf8",E);this.lastTotal=k;var x=m.length-(k-this.lastNeed);return m.copy(this.lastChar,0,x),m.toString("utf8",E,x)},d.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},function(r,o,l){r.exports=p;var s=l(5),i=Object.create(l(7));function d(c,h){var b=this._transformState;b.transforming=!1;var y=b.writecb;if(!y)return this.emit("error",new Error("write callback called multiple times"));b.writechunk=null,b.writecb=null,h!=null&&this.push(h),y(c);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function p(c){if(!(this instanceof p))return new p(c);s.call(this,c),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",u)}function u(){var c=this;typeof this._flush=="function"?this._flush(function(h,b){a(c,h,b)}):a(this,null,null)}function a(c,h,b){if(h)return c.emit("error",h);if(b!=null&&c.push(b),c._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(c._transformState.transforming)throw new Error("Calling transform done when still transforming");return c.push(null)}i.inherits=l(4),i.inherits(p,s),p.prototype.push=function(c,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,c,h)},p.prototype._transform=function(c,h,b){throw new Error("_transform() is not implemented")},p.prototype._write=function(c,h,b){var y=this._transformState;if(y.writecb=b,y.writechunk=c,y.writeencoding=h,!y.transforming){var f=this._readableState;(y.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},p.prototype._read=function(c){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},p.prototype._destroy=function(c,h){var b=this;s.prototype._destroy.call(this,c,function(y){h(y),b.emit("close")})}},function(r,o,l){(function(s){var i,d,p=l(1),u=l.n(p),a=l(0),c=l.n(a),h=l(2);o.a={pack:!0,encode:!0,compress:(d=u()(c.a.mark(function b(y){var f;return c.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,h.a.lzma();case 2:return f=m.sent,m.abrupt("return",new Promise(function(E,k){return f.compress(y,9,function(x,S){return S?k(S):E(s.from(x))})}));case 4:case"end":return m.stop()}},b)})),function(b){return d.apply(this,arguments)}),decompress:(i=u()(c.a.mark(function b(y){var f;return c.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,h.a.lzma();case 2:return f=m.sent,m.abrupt("return",new Promise(function(E,k){return f.decompress(y,function(x,S){return S?k(S):E(s.from(x))})}));case 4:case"end":return m.stop()}},b)})),function(b){return i.apply(this,arguments)})}}).call(this,l(3).Buffer)},function(r,o,l){(function(s){var i,d,p=l(1),u=l.n(p),a=l(0),c=l.n(a),h=l(2);o.a={pack:!1,encode:!0,compress:(d=u()(c.a.mark(function b(y){return c.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=s,f.next=3,h.a.lzstring();case 3:return f.t1=f.sent.compressToUint8Array(y),f.abrupt("return",f.t0.from.call(f.t0,f.t1));case 5:case"end":return f.stop()}},b)})),function(b){return d.apply(this,arguments)}),decompress:(i=u()(c.a.mark(function b(y){return c.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,h.a.lzstring();case 2:return f.abrupt("return",f.sent.decompressFromUint8Array(y));case 3:case"end":return f.stop()}},b)})),function(b){return i.apply(this,arguments)})}}).call(this,l(3).Buffer)},function(r,o,l){(function(s){var i,d,p=l(1),u=l.n(p),a=l(0),c=l.n(a),h=l(2);o.a={pack:!0,encode:!0,compress:(d=u()(c.a.mark(function b(y){return c.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=s,f.next=3,h.a.lzw();case 3:return f.t1=f.sent.encode(y.toString("binary")),f.abrupt("return",f.t0.from.call(f.t0,f.t1));case 5:case"end":return f.stop()}},b)})),function(b){return d.apply(this,arguments)}),decompress:(i=u()(c.a.mark(function b(y){return c.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.t0=s,f.next=3,h.a.lzw();case 3:return f.t1=f.sent.decode(y),f.abrupt("return",f.t0.from.call(f.t0,f.t1,"binary"));case 5:case"end":return f.stop()}},b)})),function(b){return i.apply(this,arguments)})}}).call(this,l(3).Buffer)},function(r,o,l){var s=l(27).default;function i(){r.exports=i=function(){return d},r.exports.__esModule=!0,r.exports.default=r.exports;var d={},p=Object.prototype,u=p.hasOwnProperty,a=Object.defineProperty||function(j,V,C){j[V]=C.value},c=typeof Symbol=="function"?Symbol:{},h=c.iterator||"@@iterator",b=c.asyncIterator||"@@asyncIterator",y=c.toStringTag||"@@toStringTag";function f(j,V,C){return Object.defineProperty(j,V,{value:C,enumerable:!0,configurable:!0,writable:!0}),j[V]}try{f({},"")}catch{f=function(V,C,I){return V[C]=I}}function m(j,V,C,I){var U=V&&V.prototype instanceof x?V:x,J=Object.create(U.prototype),oe=new ne(I||[]);return a(J,"_invoke",{value:B(j,C,oe)}),J}function E(j,V,C){try{return{type:"normal",arg:j.call(V,C)}}catch(I){return{type:"throw",arg:I}}}d.wrap=m;var k={};function x(){}function S(){}function w(){}var _={};f(_,h,function(){return this});var L=Object.getPrototypeOf,O=L&&L(L(D([])));O&&O!==p&&u.call(O,h)&&(_=O);var Q=w.prototype=x.prototype=Object.create(_);function P(j){["next","throw","return"].forEach(function(V){f(j,V,function(C){return this._invoke(V,C)})})}function T(j,V){function C(U,J,oe,ue){var de=E(j[U],j,J);if(de.type!=="throw"){var ye=de.arg,ie=ye.value;return ie&&s(ie)=="object"&&u.call(ie,"__await")?V.resolve(ie.__await).then(function(g){C("next",g,oe,ue)},function(g){C("throw",g,oe,ue)}):V.resolve(ie).then(function(g){ye.value=g,oe(ye)},function(g){return C("throw",g,oe,ue)})}ue(de.arg)}var I;a(this,"_invoke",{value:function(U,J){function oe(){return new V(function(ue,de){C(U,J,ue,de)})}return I=I?I.then(oe,oe):oe()}})}function B(j,V,C){var I="suspendedStart";return function(U,J){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(U==="throw")throw J;return z()}for(C.method=U,C.arg=J;;){var oe=C.delegate;if(oe){var ue=N(oe,C);if(ue){if(ue===k)continue;return ue}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(I==="suspendedStart")throw I="completed",C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);I="executing";var de=E(j,V,C);if(de.type==="normal"){if(I=C.done?"completed":"suspendedYield",de.arg===k)continue;return{value:de.arg,done:C.done}}de.type==="throw"&&(I="completed",C.method="throw",C.arg=de.arg)}}}function N(j,V){var C=V.method,I=j.iterator[C];if(I===void 0)return V.delegate=null,C==="throw"&&j.iterator.return&&(V.method="return",V.arg=void 0,N(j,V),V.method==="throw")||C!=="return"&&(V.method="throw",V.arg=new TypeError("The iterator does not provide a '"+C+"' method")),k;var U=E(I,j.iterator,V.arg);if(U.type==="throw")return V.method="throw",V.arg=U.arg,V.delegate=null,k;var J=U.arg;return J?J.done?(V[j.resultName]=J.value,V.next=j.nextLoc,V.method!=="return"&&(V.method="next",V.arg=void 0),V.delegate=null,k):J:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,k)}function X(j){var V={tryLoc:j[0]};1 in j&&(V.catchLoc=j[1]),2 in j&&(V.finallyLoc=j[2],V.afterLoc=j[3]),this.tryEntries.push(V)}function W(j){var V=j.completion||{};V.type="normal",delete V.arg,j.completion=V}function ne(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(X,this),this.reset(!0)}function D(j){if(j){var V=j[h];if(V)return V.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var C=-1,I=function U(){for(;++C<j.length;)if(u.call(j,C))return U.value=j[C],U.done=!1,U;return U.value=void 0,U.done=!0,U};return I.next=I}}return{next:z}}function z(){return{value:void 0,done:!0}}return S.prototype=w,a(Q,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:S,configurable:!0}),S.displayName=f(w,y,"GeneratorFunction"),d.isGeneratorFunction=function(j){var V=typeof j=="function"&&j.constructor;return!!V&&(V===S||(V.displayName||V.name)==="GeneratorFunction")},d.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,w):(j.__proto__=w,f(j,y,"GeneratorFunction")),j.prototype=Object.create(Q),j},d.awrap=function(j){return{__await:j}},P(T.prototype),f(T.prototype,b,function(){return this}),d.AsyncIterator=T,d.async=function(j,V,C,I,U){U===void 0&&(U=Promise);var J=new T(m(j,V,C,I),U);return d.isGeneratorFunction(V)?J:J.next().then(function(oe){return oe.done?oe.value:J.next()})},P(Q),f(Q,y,"Generator"),f(Q,h,function(){return this}),f(Q,"toString",function(){return"[object Generator]"}),d.keys=function(j){var V=Object(j),C=[];for(var I in V)C.push(I);return C.reverse(),function U(){for(;C.length;){var J=C.pop();if(J in V)return U.value=J,U.done=!1,U}return U.done=!0,U}},d.values=D,ne.prototype={constructor:ne,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(W),!j)for(var V in this)V.charAt(0)==="t"&&u.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=void 0)},stop:function(){this.done=!0;var j=this.tryEntries[0].completion;if(j.type==="throw")throw j.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var V=this;function C(de,ye){return J.type="throw",J.arg=j,V.next=de,ye&&(V.method="next",V.arg=void 0),!!ye}for(var I=this.tryEntries.length-1;I>=0;--I){var U=this.tryEntries[I],J=U.completion;if(U.tryLoc==="root")return C("end");if(U.tryLoc<=this.prev){var oe=u.call(U,"catchLoc"),ue=u.call(U,"finallyLoc");if(oe&&ue){if(this.prev<U.catchLoc)return C(U.catchLoc,!0);if(this.prev<U.finallyLoc)return C(U.finallyLoc)}else if(oe){if(this.prev<U.catchLoc)return C(U.catchLoc,!0)}else{if(!ue)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return C(U.finallyLoc)}}}},abrupt:function(j,V){for(var C=this.tryEntries.length-1;C>=0;--C){var I=this.tryEntries[C];if(I.tryLoc<=this.prev&&u.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var U=I;break}}U&&(j==="break"||j==="continue")&&U.tryLoc<=V&&V<=U.finallyLoc&&(U=null);var J=U?U.completion:{};return J.type=j,J.arg=V,U?(this.method="next",this.next=U.finallyLoc,k):this.complete(J)},complete:function(j,V){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&V&&(this.next=V),k},finish:function(j){for(var V=this.tryEntries.length-1;V>=0;--V){var C=this.tryEntries[V];if(C.finallyLoc===j)return this.complete(C.completion,C.afterLoc),W(C),k}},catch:function(j){for(var V=this.tryEntries.length-1;V>=0;--V){var C=this.tryEntries[V];if(C.tryLoc===j){var I=C.completion;if(I.type==="throw"){var U=I.arg;W(C)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(j,V,C){return this.delegate={iterator:D(j),resultName:V,nextLoc:C},this.method==="next"&&(this.arg=void 0),k}},d}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports},function(r,o){function l(s){return r.exports=l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},r.exports.__esModule=!0,r.exports.default=r.exports,l(s)}r.exports=l,r.exports.__esModule=!0,r.exports.default=r.exports},function(r,o,l){o.byteLength=function(h){var b=a(h),y=b[0],f=b[1];return 3*(y+f)/4-f},o.toByteArray=function(h){var b,y,f=a(h),m=f[0],E=f[1],k=new d(function(w,_,L){return 3*(_+L)/4-L}(0,m,E)),x=0,S=E>0?m-4:m;for(y=0;y<S;y+=4)b=i[h.charCodeAt(y)]<<18|i[h.charCodeAt(y+1)]<<12|i[h.charCodeAt(y+2)]<<6|i[h.charCodeAt(y+3)],k[x++]=b>>16&255,k[x++]=b>>8&255,k[x++]=255&b;return E===2&&(b=i[h.charCodeAt(y)]<<2|i[h.charCodeAt(y+1)]>>4,k[x++]=255&b),E===1&&(b=i[h.charCodeAt(y)]<<10|i[h.charCodeAt(y+1)]<<4|i[h.charCodeAt(y+2)]>>2,k[x++]=b>>8&255,k[x++]=255&b),k},o.fromByteArray=function(h){for(var b,y=h.length,f=y%3,m=[],E=16383,k=0,x=y-f;k<x;k+=E)m.push(c(h,k,k+E>x?x:k+E));return f===1?(b=h[y-1],m.push(s[b>>2]+s[b<<4&63]+"==")):f===2&&(b=(h[y-2]<<8)+h[y-1],m.push(s[b>>10]+s[b>>4&63]+s[b<<2&63]+"=")),m.join("")};for(var s=[],i=[],d=typeof Uint8Array!="undefined"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0;u<64;++u)s[u]=p[u],i[p.charCodeAt(u)]=u;function a(h){var b=h.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=h.indexOf("=");return y===-1&&(y=b),[y,y===b?0:4-y%4]}function c(h,b,y){for(var f,m,E=[],k=b;k<y;k+=3)f=(h[k]<<16&16711680)+(h[k+1]<<8&65280)+(255&h[k+2]),E.push(s[(m=f)>>18&63]+s[m>>12&63]+s[m>>6&63]+s[63&m]);return E.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(r,o){o.read=function(l,s,i,d,p){var u,a,c=8*p-d-1,h=(1<<c)-1,b=h>>1,y=-7,f=i?p-1:0,m=i?-1:1,E=l[s+f];for(f+=m,u=E&(1<<-y)-1,E>>=-y,y+=c;y>0;u=256*u+l[s+f],f+=m,y-=8);for(a=u&(1<<-y)-1,u>>=-y,y+=d;y>0;a=256*a+l[s+f],f+=m,y-=8);if(u===0)u=1-b;else{if(u===h)return a?NaN:1/0*(E?-1:1);a+=Math.pow(2,d),u-=b}return(E?-1:1)*a*Math.pow(2,u-d)},o.write=function(l,s,i,d,p,u){var a,c,h,b=8*u-p-1,y=(1<<b)-1,f=y>>1,m=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=d?0:u-1,k=d?1:-1,x=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(c=isNaN(s)?1:0,a=y):(a=Math.floor(Math.log(s)/Math.LN2),s*(h=Math.pow(2,-a))<1&&(a--,h*=2),(s+=a+f>=1?m/h:m*Math.pow(2,1-f))*h>=2&&(a++,h/=2),a+f>=y?(c=0,a=y):a+f>=1?(c=(s*h-1)*Math.pow(2,p),a+=f):(c=s*Math.pow(2,f-1)*Math.pow(2,p),a=0));p>=8;l[i+E]=255&c,E+=k,c/=256,p-=8);for(a=a<<p|c,b+=p;b>0;l[i+E]=255&a,E+=k,a/=256,b-=8);l[i+E-k]|=128*x}},function(r,o,l){var s=l(10).Buffer,i=l(31),d=l(8),p=l(42),u=l(43),a=l(44);r.exports=function(c){var h=[],b=[];return{encode:a(h,(c=c||{forceFloat64:!1,compatibilityMode:!1,disableTimestampEncoding:!1,protoAction:"error"}).forceFloat64,c.compatibilityMode,c.disableTimestampEncoding),decode:u(b,c),register:function(y,f,m,E){return i(f,"must have a constructor"),i(m,"must have an encode function"),i(y>=0,"must have a non-negative type"),i(E,"must have a decode function"),this.registerEncoder(function(k){return k instanceof f},function(k){var x=d(),S=s.allocUnsafe(1);return S.writeInt8(y,0),x.append(S),x.append(m(k)),x}),this.registerDecoder(y,E),this},registerEncoder:function(y,f){return i(y,"must have an encode function"),i(f,"must have an encode function"),h.push({check:y,encode:f}),this},registerDecoder:function(y,f){return i(y>=0,"must have a non-negative type"),i(f,"must have a decode function"),b.push({type:y,decode:f}),this},encoder:p.encoder,decoder:p.decoder,buffer:!0,type:"msgpack5",IncompleteBufferError:u.IncompleteBufferError}}},function(r,o,l){var s=l(32);function i(P,T){if(P===T)return 0;for(var B=P.length,N=T.length,X=0,W=Math.min(B,N);X<W;++X)if(P[X]!==T[X]){B=P[X],N=T[X];break}return B<N?-1:N<B?1:0}function d(P){return window.Buffer&&typeof window.Buffer.isBuffer=="function"?window.Buffer.isBuffer(P):!(P==null||!P._isBuffer)}var p=l(11),u=Object.prototype.hasOwnProperty,a=Array.prototype.slice,c=function(){}.name==="foo";function h(P){return Object.prototype.toString.call(P)}function b(P){return!d(P)&&typeof window.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(P):!!P&&(P instanceof DataView||!!(P.buffer&&P.buffer instanceof ArrayBuffer)))}var y=r.exports=S,f=/\s*function\s+([^\(\s]*)\s*/;function m(P){if(p.isFunction(P)){if(c)return P.name;var T=P.toString().match(f);return T&&T[1]}}function E(P,T){return typeof P=="string"?P.length<T?P:P.slice(0,T):P}function k(P){if(c||!p.isFunction(P))return p.inspect(P);var T=m(P);return"[Function"+(T?": "+T:"")+"]"}function x(P,T,B,N,X){throw new y.AssertionError({message:B,actual:P,expected:T,operator:N,stackStartFunction:X})}function S(P,T){P||x(P,!0,T,"==",y.ok)}function w(P,T,B,N){if(P===T)return!0;if(d(P)&&d(T))return i(P,T)===0;if(p.isDate(P)&&p.isDate(T))return P.getTime()===T.getTime();if(p.isRegExp(P)&&p.isRegExp(T))return P.source===T.source&&P.global===T.global&&P.multiline===T.multiline&&P.lastIndex===T.lastIndex&&P.ignoreCase===T.ignoreCase;if(P!==null&&typeof P=="object"||T!==null&&typeof T=="object"){if(b(P)&&b(T)&&h(P)===h(T)&&!(P instanceof Float32Array||P instanceof Float64Array))return i(new Uint8Array(P.buffer),new Uint8Array(T.buffer))===0;if(d(P)!==d(T))return!1;var X=(N=N||{actual:[],expected:[]}).actual.indexOf(P);return X!==-1&&X===N.expected.indexOf(T)||(N.actual.push(P),N.expected.push(T),function(W,ne,D,z){if(W==null||ne==null)return!1;if(p.isPrimitive(W)||p.isPrimitive(ne))return W===ne;if(D&&Object.getPrototypeOf(W)!==Object.getPrototypeOf(ne))return!1;var j=_(W),V=_(ne);if(j&&!V||!j&&V)return!1;if(j)return w(W=a.call(W),ne=a.call(ne),D);var C,I,U=Q(W),J=Q(ne);if(U.length!==J.length)return!1;for(U.sort(),J.sort(),I=U.length-1;I>=0;I--)if(U[I]!==J[I])return!1;for(I=U.length-1;I>=0;I--)if(!w(W[C=U[I]],ne[C],D,z))return!1;return!0}(P,T,B,N))}return B?P===T:P==T}function _(P){return Object.prototype.toString.call(P)=="[object Arguments]"}function L(P,T){if(!P||!T)return!1;if(Object.prototype.toString.call(T)=="[object RegExp]")return T.test(P);try{if(P instanceof T)return!0}catch{}return!Error.isPrototypeOf(T)&&T.call({},P)===!0}function O(P,T,B,N){var X;if(typeof T!="function")throw new TypeError('"block" argument must be a function');typeof B=="string"&&(N=B,B=null),X=function(D){var z;try{D()}catch(j){z=j}return z}(T),N=(B&&B.name?" ("+B.name+").":".")+(N?" "+N:"."),P&&!X&&x(X,B,"Missing expected exception"+N);var W=typeof N=="string",ne=!P&&X&&!B;if((!P&&p.isError(X)&&W&&L(X,B)||ne)&&x(X,B,"Got unwanted exception"+N),P&&X&&B&&!L(X,B)||!P&&X)throw X}y.AssertionError=function(P){this.name="AssertionError",this.actual=P.actual,this.expected=P.expected,this.operator=P.operator,P.message?(this.message=P.message,this.generatedMessage=!1):(this.message=function(D){return E(k(D.actual),128)+" "+D.operator+" "+E(k(D.expected),128)}(this),this.generatedMessage=!0);var T=P.stackStartFunction||x;if(Error.captureStackTrace)Error.captureStackTrace(this,T);else{var B=new Error;if(B.stack){var N=B.stack,X=m(T),W=N.indexOf(`
`+X);if(W>=0){var ne=N.indexOf(`
`,W+1);N=N.substring(ne+1)}this.stack=N}}},p.inherits(y.AssertionError,Error),y.fail=x,y.ok=S,y.equal=function(P,T,B){P!=T&&x(P,T,B,"==",y.equal)},y.notEqual=function(P,T,B){P==T&&x(P,T,B,"!=",y.notEqual)},y.deepEqual=function(P,T,B){w(P,T,!1)||x(P,T,B,"deepEqual",y.deepEqual)},y.deepStrictEqual=function(P,T,B){w(P,T,!0)||x(P,T,B,"deepStrictEqual",y.deepStrictEqual)},y.notDeepEqual=function(P,T,B){w(P,T,!1)&&x(P,T,B,"notDeepEqual",y.notDeepEqual)},y.notDeepStrictEqual=function P(T,B,N){w(T,B,!0)&&x(T,B,N,"notDeepStrictEqual",P)},y.strictEqual=function(P,T,B){P!==T&&x(P,T,B,"===",y.strictEqual)},y.notStrictEqual=function(P,T,B){P===T&&x(P,T,B,"!==",y.notStrictEqual)},y.throws=function(P,T,B){O(!0,P,T,B)},y.doesNotThrow=function(P,T,B){O(!1,P,T,B)},y.ifError=function(P){if(P)throw P},y.strict=s(function P(T,B){T||x(T,!0,B,"==",P)},y,{equal:y.strictEqual,deepEqual:y.deepStrictEqual,notEqual:y.notStrictEqual,notDeepEqual:y.notDeepStrictEqual}),y.strict.strict=y.strict;var Q=Object.keys||function(P){var T=[];for(var B in P)u.call(P,B)&&T.push(B);return T}},function(r,o,l){var s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;r.exports=function(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de",Object.getOwnPropertyNames(p)[0]==="5")return!1;for(var u={},a=0;a<10;a++)u["_"+String.fromCharCode(a)]=a;if(Object.getOwnPropertyNames(u).map(function(h){return u[h]}).join("")!=="0123456789")return!1;var c={};return"abcdefghijklmnopqrst".split("").forEach(function(h){c[h]=h}),Object.keys(Object.assign({},c)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(p,u){for(var a,c,h=function(m){if(m==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(m)}(p),b=1;b<arguments.length;b++){for(var y in a=Object(arguments[b]))i.call(a,y)&&(h[y]=a[y]);if(s){c=s(a);for(var f=0;f<c.length;f++)d.call(a,c[f])&&(h[c[f]]=a[c[f]])}}return h}},function(r,o){r.exports=function(l){return l&&typeof l=="object"&&typeof l.copy=="function"&&typeof l.fill=="function"&&typeof l.readUInt8=="function"}},function(r,o){typeof Object.create=="function"?r.exports=function(l,s){l.super_=s,l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}})}:r.exports=function(l,s){l.super_=s;var i=function(){};i.prototype=s.prototype,l.prototype=new i,l.prototype.constructor=l}},function(r,o){},function(r,o,l){var s=l(12).Buffer,i=l(37);r.exports=function(){function d(){(function(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}return d.prototype.push=function(p){var u={data:p,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},d.prototype.unshift=function(p){var u={data:p,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},d.prototype.shift=function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(p){if(this.length===0)return"";for(var u=this.head,a=""+u.data;u=u.next;)a+=p+u.data;return a},d.prototype.concat=function(p){if(this.length===0)return s.alloc(0);if(this.length===1)return this.head.data;for(var u,a,c,h=s.allocUnsafe(p>>>0),b=this.head,y=0;b;)u=b.data,a=h,c=y,u.copy(a,c),y+=b.data.length,b=b.next;return h},d}(),i&&i.inspect&&i.inspect.custom&&(r.exports.prototype[i.inspect.custom]=function(){var d=i.inspect({length:this.length});return this.constructor.name+" "+d})},function(r,o){},function(r,o,l){(function(s){(function(i,d){if(!i.setImmediate){var p,u,a,c,h,b=1,y={},f=!1,m=i.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(i);E=E&&E.setTimeout?E:i,{}.toString.call(i.process)==="[object process]"?p=function(S){s.nextTick(function(){x(S)})}:function(){if(i.postMessage&&!i.importScripts){var S=!0,w=i.onmessage;return i.onmessage=function(){S=!1},i.postMessage("","*"),i.onmessage=w,S}}()?(c="setImmediate$"+Math.random()+"$",h=function(S){S.source===i&&typeof S.data=="string"&&S.data.indexOf(c)===0&&x(+S.data.slice(c.length))},i.addEventListener?i.addEventListener("message",h,!1):i.attachEvent("onmessage",h),p=function(S){i.postMessage(c+S,"*")}):i.MessageChannel?((a=new MessageChannel).port1.onmessage=function(S){x(S.data)},p=function(S){a.port2.postMessage(S)}):m&&"onreadystatechange"in m.createElement("script")?(u=m.documentElement,p=function(S){var w=m.createElement("script");w.onreadystatechange=function(){x(S),w.onreadystatechange=null,u.removeChild(w),w=null},u.appendChild(w)}):p=function(S){setTimeout(x,0,S)},E.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var w=new Array(arguments.length-1),_=0;_<w.length;_++)w[_]=arguments[_+1];var L={callback:S,args:w};return y[b]=L,p(b),b++},E.clearImmediate=k}function k(S){delete y[S]}function x(S){if(f)setTimeout(x,0,S);else{var w=y[S];if(w){f=!0;try{(function(_){var L=_.callback,O=_.args;switch(O.length){case 0:L();break;case 1:L(O[0]);break;case 2:L(O[0],O[1]);break;case 3:L(O[0],O[1],O[2]);break;default:L.apply(d,O)}})(w)}finally{k(S),f=!1}}}}})(typeof self=="undefined"?typeof window=="undefined"?this:window:self)}).call(this,l(6))},function(r,o){function l(s){try{if(!window.localStorage)return!1}catch{return!1}var i=window.localStorage[s];return i!=null&&String(i).toLowerCase()==="true"}r.exports=function(s,i){if(l("noDeprecation"))return s;var d=!1;return function(){if(!d){if(l("throwDeprecation"))throw new Error(i);l("traceDeprecation")?console.trace(i):console.warn(i),d=!0}return s.apply(this,arguments)}}},function(r,o,l){var s=l(3),i=s.Buffer;function d(u,a){for(var c in u)a[c]=u[c]}function p(u,a,c){return i(u,a,c)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=s:(d(s,o),o.Buffer=p),d(i,p),p.from=function(u,a,c){if(typeof u=="number")throw new TypeError("Argument must not be a number");return i(u,a,c)},p.alloc=function(u,a,c){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=i(u);return a!==void 0?typeof c=="string"?h.fill(a,c):h.fill(a):h.fill(0),h},p.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i(u)},p.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(u)}},function(r,o,l){r.exports=d;var s=l(22),i=Object.create(l(7));function d(p){if(!(this instanceof d))return new d(p);s.call(this,p)}i.inherits=l(4),i.inherits(d,s),d.prototype._transform=function(p,u,a){a(null,p)}},function(r,o,l){var s=l(14).Transform,i=l(4),d=l(8);function p(c){(c=c||{}).objectMode=!0,c.highWaterMark=16,s.call(this,c),this._msgpack=c.msgpack}function u(c){if(!(this instanceof u))return(c=c||{}).msgpack=this,new u(c);p.call(this,c),this._wrap="wrap"in c&&c.wrap}function a(c){if(!(this instanceof a))return(c=c||{}).msgpack=this,new a(c);p.call(this,c),this._chunks=d(),this._wrap="wrap"in c&&c.wrap}i(p,s),i(u,p),u.prototype._transform=function(c,h,b){var y=null;try{y=this._msgpack.encode(this._wrap?c.value:c).slice(0)}catch(f){return this.emit("error",f),b()}this.push(y),b()},i(a,p),a.prototype._transform=function(c,h,b){c&&this._chunks.append(c);try{var y=this._msgpack.decode(this._chunks);this._wrap&&(y={value:y}),this.push(y)}catch(f){return void(f instanceof this._msgpack.IncompleteBufferError?b():this.emit("error",f))}this._chunks.length>0?this._transform(null,h,b):b()},r.exports.decoder=a,r.exports.encoder=u},function(r,o,l){var s=l(8);function i(d){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=d||"unable to decode"}l(11).inherits(i,Error),r.exports=function(d,p){return function(m){m instanceof s||(m=s().append(m));var E=c(m);if(E)return m.consume(E.bytesConsumed),E.value;throw new i};function u(m,E,k){return E>=k+m}function a(m,E){return{value:m,bytesConsumed:E}}function c(m,E){E=E===void 0?0:E;var k=m.length-E;if(k<=0)return null;var x,S,w,_=m.readUInt8(E),L=0;if(!function(O,Q){var P=function(T){switch(T){case 196:case 204:case 208:case 217:return 2;case 197:case 199:case 205:case 209:case 212:case 218:case 222:return 3;case 198:case 202:case 206:case 210:case 219:return 5;case 200:case 213:return 4;case 201:case 214:return 6;case 203:case 207:case 211:return 9;case 215:return 10;case 216:return 18;default:return-1}}(O);return!(P!==-1&&Q<P)}(_,k))return null;switch(_){case 192:return a(null,1);case 194:return a(!1,1);case 195:return a(!0,1);case 204:return a(L=m.readUInt8(E+1),2);case 205:return a(L=m.readUInt16BE(E+1),3);case 206:return a(L=m.readUInt32BE(E+1),5);case 207:for(w=7;w>=0;w--)L+=m.readUInt8(E+w+1)*Math.pow(2,8*(7-w));return a(L,9);case 208:return a(L=m.readInt8(E+1),2);case 209:return a(L=m.readInt16BE(E+1),3);case 210:return a(L=m.readInt32BE(E+1),5);case 211:return L=function(O,Q){var P=(128&O[Q])==128;if(P)for(var T=1,B=Q+7;B>=Q;B--){var N=(255^O[B])+T;O[B]=255&N,T=N>>8}var X=O.readUInt32BE(Q+0),W=O.readUInt32BE(Q+4);return(4294967296*X+W)*(P?-1:1)}(m.slice(E+1,E+9),0),a(L,9);case 202:return a(L=m.readFloatBE(E+1),5);case 203:return a(L=m.readDoubleBE(E+1),9);case 217:return u(x=m.readUInt8(E+1),k,2)?a(L=m.toString("utf8",E+2,E+2+x),2+x):null;case 218:return u(x=m.readUInt16BE(E+1),k,3)?a(L=m.toString("utf8",E+3,E+3+x),3+x):null;case 219:return u(x=m.readUInt32BE(E+1),k,5)?a(L=m.toString("utf8",E+5,E+5+x),5+x):null;case 196:return u(x=m.readUInt8(E+1),k,2)?a(L=m.slice(E+2,E+2+x),2+x):null;case 197:return u(x=m.readUInt16BE(E+1),k,3)?a(L=m.slice(E+3,E+3+x),3+x):null;case 198:return u(x=m.readUInt32BE(E+1),k,5)?a(L=m.slice(E+5,E+5+x),5+x):null;case 220:return k<3?null:(x=m.readUInt16BE(E+1),h(m,E,x,3));case 221:return k<5?null:(x=m.readUInt32BE(E+1),h(m,E,x,5));case 222:return x=m.readUInt16BE(E+1),b(m,E,x,3);case 223:return x=m.readUInt32BE(E+1),b(m,E,x,5);case 212:return y(m,E,1);case 213:return y(m,E,2);case 214:return y(m,E,4);case 215:return y(m,E,8);case 216:return y(m,E,16);case 199:return x=m.readUInt8(E+1),S=m.readUInt8(E+2),u(x,k,3)?f(m,E,S,x,3):null;case 200:return x=m.readUInt16BE(E+1),S=m.readUInt8(E+3),u(x,k,4)?f(m,E,S,x,4):null;case 201:return x=m.readUInt32BE(E+1),S=m.readUInt8(E+5),u(x,k,6)?f(m,E,S,x,6):null}if((240&_)==144)return h(m,E,x=15&_,1);if((240&_)==128)return b(m,E,x=15&_,1);if((224&_)==160)return u(x=31&_,k,1)?a(L=m.toString("utf8",E+1,E+x+1),x+1):null;if(_>=224)return a(L=_-256,1);if(_<128)return a(_,1);throw new Error("not implemented yet")}function h(m,E,k,x){var S,w=[],_=0;for(E+=x,S=0;S<k;S++){var L=c(m,E);if(!L)return null;w.push(L.value),E+=L.bytesConsumed,_+=L.bytesConsumed}return a(w,x+_)}function b(m,E,k,x){var S,w,_={},L=0;for(E+=x,w=0;w<k;w++){var O=c(m,E);if(!O)return null;var Q=c(m,E+=O.bytesConsumed);if(!Q)return null;if((S=O.value)==="__proto__"){if(p.protoAction==="error")throw new SyntaxError("Object contains forbidden prototype property");if(p.protoAction==="remove")continue}_[S]=Q.value,E+=Q.bytesConsumed,L+=O.bytesConsumed+Q.bytesConsumed}return a(_,x+L)}function y(m,E,k){var x=m.readInt8(E+1);return f(m,E,x,k,2)}function f(m,E,k,x,S){var w,_;if(E+=S,k<0&&k===-1)return function(L,O,Q){var P,T=0;switch(O){case 4:P=L.readUInt32BE(0);break;case 8:var B=L.readUInt32BE(0),N=L.readUInt32BE(4);T=B/4,P=(3&B)*Math.pow(2,32)+N;break;case 12:throw new Error("timestamp 96 is not yet implemented")}var X=1e3*P+Math.round(T/1e6);return a(new Date(X),O+Q)}(_=m.slice(E,E+x),x,S);for(w=0;w<d.length;w++)if(k===d[w].type)return _=m.slice(E,E+x),a(d[w].decode(_),S+x);throw new Error("unable to find ext type "+k)}},r.exports.IncompleteBufferError=i},function(r,o,l){var s=l(10).Buffer,i=l(8);function d(p,u){var a,c=!0;return Math.fround&&(c=Math.fround(p)!==p),u&&(c=!0),c?((a=s.allocUnsafe(9))[0]=203,a.writeDoubleBE(p,1)):((a=s.allocUnsafe(5))[0]=202,a.writeFloatBE(p,1)),a}r.exports=function(p,u,a,c){function h(b,y){var f,m,E;if(b===void 0)throw new Error("undefined is not encodable in msgpack!");if((E=b)!=E&&typeof E=="number")throw new Error("NaN is not encodable in msgpack!");if(b===null)(f=s.allocUnsafe(1))[0]=192;else if(b===!0)(f=s.allocUnsafe(1))[0]=195;else if(b===!1)(f=s.allocUnsafe(1))[0]=194;else if(typeof b=="string")(m=s.byteLength(b))<32?((f=s.allocUnsafe(1+m))[0]=160|m,m>0&&f.write(b,1)):m<=255&&!a?((f=s.allocUnsafe(2+m))[0]=217,f[1]=m,f.write(b,2)):m<=65535?((f=s.allocUnsafe(3+m))[0]=218,f.writeUInt16BE(m,1),f.write(b,3)):((f=s.allocUnsafe(5+m))[0]=219,f.writeUInt32BE(m,1),f.write(b,5));else if(b&&(b.readUInt32LE||b instanceof Uint8Array))b instanceof Uint8Array&&(b=s.from(b)),b.length<=255?((f=s.allocUnsafe(2))[0]=196,f[1]=b.length):b.length<=65535?((f=s.allocUnsafe(3))[0]=197,f.writeUInt16BE(b.length,1)):((f=s.allocUnsafe(5))[0]=198,f.writeUInt32BE(b.length,1)),f=i([f,b]);else if(Array.isArray(b))b.length<16?(f=s.allocUnsafe(1))[0]=144|b.length:b.length<65536?((f=s.allocUnsafe(3))[0]=220,f.writeUInt16BE(b.length,1)):((f=s.allocUnsafe(5))[0]=221,f.writeUInt32BE(b.length,1)),f=b.reduce(function(k,x){return k.append(h(x,!0)),k},i().append(f));else{if(!c&&typeof b.getDate=="function")return function(k){var x,S=1*k,w=Math.floor(S/1e3),_=1e6*(S-1e3*w);if(_||w>4294967295){(x=s.allocUnsafe(10))[0]=215,x[1]=-1;var L=4*_+w/Math.pow(2,32)&4294967295,O=4294967295&w;x.writeInt32BE(L,2),x.writeInt32BE(O,6)}else(x=s.allocUnsafe(6))[0]=214,x[1]=-1,x.writeUInt32BE(Math.floor(S/1e3),2);return i().append(x)}(b);if(typeof b=="object")f=function(k){var x,S,w=-1,_=[];for(x=0;x<p.length;x++)if(p[x].check(k)){S=p[x].encode(k);break}return S?((w=S.length-1)===1?_.push(212):w===2?_.push(213):w===4?_.push(214):w===8?_.push(215):w===16?_.push(216):w<256?(_.push(199),_.push(w)):w<65536?(_.push(200),_.push(w>>8),_.push(255&w)):(_.push(201),_.push(w>>24),_.push(w>>16&255),_.push(w>>8&255),_.push(255&w)),i().append(s.from(_)).append(S)):null}(b)||function(k){var x,S,w=[],_=0;for(x in k)k.hasOwnProperty(x)&&k[x]!==void 0&&typeof k[x]!="function"&&(++_,w.push(h(x,!0)),w.push(h(k[x],!0)));_<16?(S=s.allocUnsafe(1))[0]=128|_:_<65535?((S=s.allocUnsafe(3))[0]=222,S.writeUInt16BE(_,1)):((S=s.allocUnsafe(5))[0]=223,S.writeUInt32BE(_,1)),w.unshift(S);var L=w.reduce(function(O,Q){return O.append(Q)},i());return L}(b);else if(typeof b=="number"){if(function(k){return k%1!=0}(b))return d(b,u);if(b>=0)if(b<128)(f=s.allocUnsafe(1))[0]=b;else if(b<256)(f=s.allocUnsafe(2))[0]=204,f[1]=b;else if(b<65536)(f=s.allocUnsafe(3))[0]=205,f.writeUInt16BE(b,1);else if(b<=4294967295)(f=s.allocUnsafe(5))[0]=206,f.writeUInt32BE(b,1);else{if(!(b<=9007199254740991))return d(b,!0);(f=s.allocUnsafe(9))[0]=207,function(k,x){for(var S=7;S>=0;S--)k[S+1]=255&x,x/=256}(f,b)}else if(b>=-32)(f=s.allocUnsafe(1))[0]=256+b;else if(b>=-128)(f=s.allocUnsafe(2))[0]=208,f.writeInt8(b,1);else if(b>=-32768)(f=s.allocUnsafe(3))[0]=209,f.writeInt16BE(b,1);else if(b>-214748365)(f=s.allocUnsafe(5))[0]=210,f.writeInt32BE(b,1);else{if(!(b>=-9007199254740991))return d(b,!0);(f=s.allocUnsafe(9))[0]=211,function(k,x,S){var w=S<0;w&&(S=Math.abs(S));var _=S%4294967296,L=S/4294967296;if(k.writeUInt32BE(Math.floor(L),x+0),k.writeUInt32BE(_,x+4),w)for(var O=1,Q=x+7;Q>=x;Q--){var P=(255^k[Q])+O;k[Q]=255&P,O=P>>8}}(f,1,b)}}}if(!f)throw new Error("not implemented yet");return y?f:f.slice()}return h}},function(r,o,l){r.exports=l(46)},function(r,o,l){(function(s){o.version="1.0.0",o.encode=function(i){return i.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},o.decode=function(i){return i=(i+=Array(5-i.length%4).join("=")).replace(/\-/g,"+").replace(/\_/g,"/"),new s(i,"base64")},o.validate=function(i){return/^[A-Za-z0-9\-_]+$/.test(i)}}).call(this,l(3).Buffer)},function(r,o,l){(function(s){var i=function(){function d(n,M){postMessage({action:Zo,cbn:M,result:n})}function p(n){var M=[];return M[n-1]=void 0,M}function u(n,M){return h(n[0]+M[0],n[1]+M[1])}function a(n,M){return function(v,R){var Y,F;return Y=v*ot,F=R,0>R&&(F+=ot),[F,Y]}(~~Math.max(Math.min(n[1]/ot,2147483647),-2147483648)&~~Math.max(Math.min(M[1]/ot,2147483647),-2147483648),f(n)&f(M))}function c(n,M){var v,R;return n[0]==M[0]&&n[1]==M[1]?0:(v=0>n[1],R=0>M[1],v&&!R?-1:!v&&R?1:x(n,M)[1]<0?-1:1)}function h(n,M){var v,R;for(n%=18446744073709552e3,M=(M%=18446744073709552e3)-(v=M%ot)+(R=Math.floor(n/ot)*ot),n=n-R+v;0>n;)n+=ot,M-=ot;for(;n>4294967295;)n-=ot,M+=ot;for(M%=18446744073709552e3;M>9223372032559809e3;)M-=18446744073709552e3;for(;-9223372036854776e3>M;)M+=18446744073709552e3;return[n,M]}function b(n,M){return n[0]==M[0]&&n[1]==M[1]}function y(n){return n>=0?[n,0]:[n+ot,-ot]}function f(n){return n[0]>=2147483648?~~Math.max(Math.min(n[0]-ot,2147483647),-2147483648):~~Math.max(Math.min(n[0],2147483647),-2147483648)}function m(n){return 30>=n?1<<n:m(30)*m(n-30)}function E(n,M){var v,R,Y,F;if(M&=63,b(n,ea))return M?gt:n;if(0>n[1])throw Error("Neg");return F=m(M),R=n[1]*F%18446744073709552e3,(R+=v=(Y=n[0]*F)-Y%ot)>=9223372036854776e3&&(R-=18446744073709552e3),[Y-=v,R]}function k(n,M){var v;return v=m(M&=63),h(Math.floor(n[0]/v),n[1]/v)}function x(n,M){return h(n[0]-M[0],n[1]-M[1])}function S(n,M){return n.Mc=M,n.Lc=0,n.Yb=M.length,n}function w(n){return n.Lc>=n.Yb?-1:255&n.Mc[n.Lc++]}function _(n,M,v,R){return n.Lc>=n.Yb?-1:(R=Math.min(R,n.Yb-n.Lc),T(n.Mc,n.Lc,M,v,R),n.Lc+=R,R)}function L(n){return n.Mc=p(32),n.Yb=0,n}function O(n){var M=n.Mc;return M.length=n.Yb,M}function Q(n,M){n.Mc[n.Yb++]=M<<24>>24}function P(n,M,v,R){T(M,v,n.Mc,n.Yb,R),n.Yb+=R}function T(n,M,v,R,Y){for(var F=0;Y>F;++F)v[R+F]=n[M+F]}function B(n,M,v,R,Y){var F,te;if(c(R,Dn)<0)throw Error("invalid length "+R);for(n.Tb=R,function(Z,se){(function(re,ae){re.ab=ae;for(var ge=0;ae>1<<ge;++ge);re.$b=2*ge})(se,1<<Z.s),se.n=Z.f,function(re,ae){var ge=re.X;re.X=ae,re.b&&ge!=re.X&&(re.wb=-1,re.b=null)}(se,Z.m),se.eb=0,se.fb=3,se.Y=2,se.y=3}(Y,F=He({})),F.Gc=i.disableEndMark===void 0,function(Z,se){Z.fc[0]=9*(5*Z.Y+Z.eb)+Z.fb<<24>>24;for(var re=0;4>re;++re)Z.fc[1+re]=Z.ab>>8*re<<24>>24;P(se,Z.fc,0,5)}(F,v),te=0;64>te;te+=8)Q(v,255&f(k(R,te)));n.yb=(F.W=0,F.oc=M,F.pc=0,function(Z){var se,re;Z.b||(se={},re=4,Z.X||(re=2),function(ae,ge){ae.qb=ge>2,ae.qb?(ae.w=0,ae.xb=4,ae.R=66560):(ae.w=2,ae.xb=3,ae.R=0)}(se,re),Z.b=se),Vo(Z.A,Z.eb,Z.fb),(Z.ab!=Z.wb||Z.Hb!=Z.n)&&(C(Z.b,Z.ab,4096,Z.n,274),Z.wb=Z.ab,Z.Hb=Z.n)}(F),F.d.Ab=v,function(Z){(function(re){re.l=0,re.J=0;for(var ae=0;4>ae;++ae)re.v[ae]=0})(Z),function(re){re.mc=gt,re.xc=gt,re.E=-1,re.Jb=1,re.Oc=0}(Z.d),ze(Z.C),ze(Z._),ze(Z.bb),ze(Z.hb),ze(Z.Ub),ze(Z.vc),ze(Z.Sb),function(re){var ae,ge=1<<re.u+re.I;for(ae=0;ge>ae;++ae)ze(re.V[ae].tb)}(Z.A);for(var se=0;4>se;++se)ze(Z.K[se].G);lt(Z.$,1<<Z.Y),lt(Z.i,1<<Z.Y),ze(Z.S.G),Z.N=0,Z.jb=0,Z.q=0,Z.s=0}(F),tt(F),ke(F),F.$.rb=F.n+1-2,mt(F.$,1<<F.Y),F.i.rb=F.n+1-2,mt(F.i,1<<F.Y),F.g=gt,function(Z,se){return Z.cb=se,Z.Z=null,Z.zc=1,Z}({},F))}function N(n,M,v){return n.Nb=L({}),B(n,S({},M),n.Nb,y(M.length),v),n}function X(n,M,v){var R,Y,F,te,Z="",se=[];for(Y=0;5>Y;++Y){if((F=w(M))==-1)throw Error("truncated input");se[Y]=F<<24>>24}if(!function(re,ae){var ge,he,be,Se,ce,Ie,Be;if(5>ae.length)return 0;for(Be=255&ae[0],be=Be%9,Se=(Ie=~~(Be/9))%5,ce=~~(Ie/5),ge=0,he=0;4>he;++he)ge+=(255&ae[1+he])<<8*he;return ge>99999999||!function(Le,Fe,Oe,Ke){if(Fe>8||Oe>4||Ke>4)return 0;le(Le.gb,Oe,Fe);var Qe=1<<Ke;return A(Le.Rb,Qe),A(Le.sb,Qe),Le.Dc=Qe-1,1}(re,be,Se,ce)?0:function(Le,Fe){return 0>Fe?0:(Le.Ob!=Fe&&(Le.Ob=Fe,Le.nb=Math.max(Le.Ob,1),J(Le.B,Math.max(Le.nb,4096))),1)}(re,ge)}(R=$({}),se))throw Error("corrupted input");for(Y=0;64>Y;Y+=8){if((F=w(M))==-1)throw Error("truncated input");(F=F.toString(16)).length==1&&(F="0"+F),Z=F+""+Z}/^0+$|^f+$/i.test(Z)?n.Tb=Dn:(te=parseInt(Z,16),n.Tb=te>4294967295?Dn:y(te)),n.yb=function(re,ae,ge,he){return re.e.Ab=ae,de(re.B),re.B.cc=ge,function(be){be.B.h=0,be.B.o=0,ze(be.Gb),ze(be.pb),ze(be.Zb),ze(be.Cb),ze(be.Db),ze(be.Eb),ze(be.kc),function(ce){var Ie,Be;for(Be=1<<ce.u+ce.I,Ie=0;Be>Ie;++Ie)ze(ce.V[Ie].Ib)}(be.gb);for(var Se=0;4>Se;++Se)ze(be.kb[Se].G);G(be.Rb),G(be.sb),ze(be.Fb.G),function(ce){ce.Bb=0,ce.E=-1;for(var Ie=0;5>Ie;++Ie)ce.Bb=ce.Bb<<8|w(ce.Ab)}(be.e)}(re),re.U=0,re.ib=0,re.Jc=0,re.Ic=0,re.Qc=0,re.Nc=he,re.g=gt,re.jc=0,function(be,Se){return be.Z=Se,be.cb=null,be.zc=1,be}({},re)}(R,M,v,n.Tb)}function W(n,M){return n.Nb=L({}),X(n,S({},M),n.Nb),n}function ne(n,M){return n.c[n.f+n.o+M]}function D(n,M,v,R){var Y,F;for(n.T&&n.o+M+R>n.h&&(R=n.h-(n.o+M)),++v,F=n.f+n.o+M,Y=0;R>Y&&n.c[F+Y]==n.c[F+Y-v];++Y);return Y}function z(n){return n.h-n.o}function j(n){var M,v;if(!n.T)for(;;){if(!(v=-n.f+n.Kb-n.h))return;if((M=_(n.cc,n.c,n.f+n.h,v))==-1)return n.zb=n.h,n.f+n.zb>n.H&&(n.zb=n.H-n.f),void(n.T=1);n.h+=M,n.h>=n.o+n._b&&(n.zb=n.h-n._b)}}function V(n,M){n.f+=M,n.zb-=M,n.o-=M,n.h-=M}function C(n,M,v,R,Y){var F,te;1073741567>M&&(n.Fc=16+(R>>1),function(Z,se,re,ae){var ge;Z.Bc=se,Z._b=re,ge=se+re+ae,(Z.c==null||Z.Kb!=ge)&&(Z.c=null,Z.Kb=ge,Z.c=p(Z.Kb)),Z.H=Z.Kb-re}(n,M+v,R+Y,256+~~((M+v+R+Y)/2)),n.ob=R,F=M+1,n.p!=F&&(n.L=p(2*(n.p=F))),te=65536,n.qb&&(te=M-1,te|=te>>1,te|=te>>2,te|=te>>4,te|=te>>8,te>>=1,(te|=65535)>16777216&&(te>>=1),n.Ec=te,++te,te+=n.R),te!=n.rc&&(n.ub=p(n.rc=te)))}function I(n){var M;++n.k>=n.p&&(n.k=0),function(v){++v.o,v.o>v.zb&&(v.f+v.o>v.H&&function(R){var Y,F,te;for((te=R.f+R.o-R.Bc)>0&&--te,F=R.f+R.h-te,Y=0;F>Y;++Y)R.c[Y]=R.c[te+Y];R.f-=te}(v),j(v))}(n),n.o==1073741823&&(M=n.o-n.p,U(n.L,2*n.p,M),U(n.ub,n.rc,M),V(n,M))}function U(n,M,v){var R,Y;for(R=0;M>R;++R)v>=(Y=n[R]||0)?Y=0:Y-=v,n[R]=Y}function J(n,M){(n.Lb==null||n.M!=M)&&(n.Lb=p(M)),n.M=M,n.o=0,n.h=0}function oe(n){var M=n.o-n.h;M&&(P(n.cc,n.Lb,n.h,M),n.o>=n.M&&(n.o=0),n.h=n.o)}function ue(n,M){var v=n.o-M-1;return 0>v&&(v+=n.M),n.Lb[v]}function de(n){oe(n),n.cc=null}function ye(n){return 4>(n-=2)?n:3}function ie(n){return 4>n?0:10>n?n-3:n-6}function g(n){if(!n.zc)throw Error("bad state");return n.cb?function(M){(function(v,R,Y,F){var te,Z,se,re,ae,ge,he,be,Se,ce,Ie,Be,Le,Fe,Oe;if(R[0]=gt,Y[0]=gt,F[0]=1,v.oc&&(v.b.cc=v.oc,function(Ke){Ke.f=0,Ke.o=0,Ke.h=0,Ke.T=0,j(Ke),Ke.k=0,V(Ke,-1)}(v.b),v.W=1,v.oc=null),!v.pc){if(v.pc=1,Fe=v.g,b(v.g,gt)){if(!z(v.b))return void fe(v,f(v.g));Ce(v),Le=f(v.g)&v.y,Je(v.d,v.C,(v.l<<4)+Le,0),v.l=ie(v.l),se=ne(v.b,-v.s),kr(Qt(v.A,f(v.g),v.J),v.d,se),v.J=se,--v.s,v.g=u(v.g,Pr)}if(!z(v.b))return void fe(v,f(v.g));for(;;){if(he=we(v,f(v.g)),ce=v.mb,Le=f(v.g)&v.y,Z=(v.l<<4)+Le,he==1&&ce==-1)Je(v.d,v.C,Z,0),se=ne(v.b,-v.s),Oe=Qt(v.A,f(v.g),v.J),7>v.l?kr(Oe,v.d,se):(Se=ne(v.b,-v.v[0]-1-v.s),Yo(Oe,v.d,Se,se)),v.J=se,v.l=ie(v.l);else{if(Je(v.d,v.C,Z,1),4>ce){if(Je(v.d,v.bb,v.l,1),ce?(Je(v.d,v.hb,v.l,1),ce==1?Je(v.d,v.Ub,v.l,0):(Je(v.d,v.Ub,v.l,1),Je(v.d,v.vc,v.l,ce-2))):(Je(v.d,v.hb,v.l,0),Je(v.d,v._,Z,he==1?0:1)),he==1?v.l=7>v.l?9:11:(wt(v.i,v.d,he-2,Le),v.l=7>v.l?8:11),re=v.v[ce],ce!=0){for(ge=ce;ge>=1;--ge)v.v[ge]=v.v[ge-1];v.v[0]=re}}else{for(Je(v.d,v.bb,v.l,0),v.l=7>v.l?7:10,wt(v.$,v.d,he-2,Le),Be=Ve(ce-=4),be=ye(he),fn(v.K[be],v.d,Be),Be>=4&&(Ie=ce-(te=(2|1&Be)<<(ae=(Be>>1)-1)),14>Be?Go(v.Sb,te-Be-1,v.d,ae,Ie):(Ar(v.d,Ie>>4,ae-4),Cr(v.S,v.d,15&Ie),++v.Qb)),re=ce,ge=3;ge>=1;--ge)v.v[ge]=v.v[ge-1];v.v[0]=re,++v.Mb}v.J=ne(v.b,he-1-v.s)}if(v.s-=he,v.g=u(v.g,y(he)),!v.s){if(v.Mb>=128&&tt(v),v.Qb>=16&&ke(v),R[0]=v.g,Y[0]=Ko(v.d),!z(v.b))return void fe(v,f(v.g));if(c(x(v.g,Fe),[4096,0])>=0)return v.pc=0,void(F[0]=0)}}}})(M.cb,M.cb.Xb,M.cb.uc,M.cb.Kc),M.Pb=M.cb.Xb[0],M.cb.Kc[0]&&(function(v){Te(v),v.d.Ab=null}(M.cb),M.zc=0)}(n):function(M){var v=function(R){var Y,F,te,Z,se,re;if(re=f(R.g)&R.Dc,ut(R.e,R.Gb,(R.U<<4)+re)){if(ut(R.e,R.Zb,R.U))te=0,ut(R.e,R.Cb,R.U)?(ut(R.e,R.Db,R.U)?(ut(R.e,R.Eb,R.U)?(F=R.Qc,R.Qc=R.Ic):F=R.Ic,R.Ic=R.Jc):F=R.Jc,R.Jc=R.ib,R.ib=F):ut(R.e,R.pb,(R.U<<4)+re)||(R.U=7>R.U?9:11,te=1),te||(te=H(R.sb,R.e,re)+2,R.U=7>R.U?8:11);else if(R.Qc=R.Ic,R.Ic=R.Jc,R.Jc=R.ib,te=2+H(R.Rb,R.e,re),R.U=7>R.U?7:10,(se=Pn(R.kb[ye(te)],R.e))>=4){if(Z=(se>>1)-1,R.ib=(2|1&se)<<Z,14>se)R.ib+=function(ae,ge,he,be){var Se,ce,Ie=1,Be=0;for(ce=0;be>ce;++ce)Se=ut(he,ae,ge+Ie),Ie<<=1,Ie+=Se,Be|=Se<<ce;return Be}(R.kc,R.ib-se-1,R.e,Z);else if(R.ib+=function(ae,ge){var he,be,Se=0;for(he=ge;he!=0;--he)ae.E>>>=1,be=ae.Bb-ae.E>>>31,ae.Bb-=ae.E&be-1,Se=Se<<1|1-be,-16777216&ae.E||(ae.Bb=ae.Bb<<8|w(ae.Ab),ae.E<<=8);return Se}(R.e,Z-4)<<4,R.ib+=function(ae,ge){var he,be,Se=1,ce=0;for(be=0;ae.F>be;++be)he=ut(ge,ae.G,Se),Se<<=1,Se+=he,ce|=he<<be;return ce}(R.Fb,R.e),0>R.ib)return R.ib==-1?1:-1}else R.ib=se;if(c(y(R.ib),R.g)>=0||R.ib>=R.nb)return-1;(function(ae,ge,he){var be=ae.o-ge-1;for(0>be&&(be+=ae.M);he!=0;--he)be>=ae.M&&(be=0),ae.Lb[ae.o++]=ae.Lb[be++],ae.o>=ae.M&&oe(ae)})(R.B,R.ib,te),R.g=u(R.g,y(te)),R.jc=ue(R.B,0)}else Y=function(ae,ge,he){return ae.V[((ge&ae.qc)<<ae.u)+((255&he)>>>8-ae.u)]}(R.gb,f(R.g),R.jc),R.jc=7>R.U?function(ae,ge){var he=1;do he=he<<1|ut(ge,ae.Ib,he);while(256>he);return he<<24>>24}(Y,R.e):function(ae,ge,he){var be,Se,ce=1;do if(Se=he>>7&1,he<<=1,be=ut(ge,ae.Ib,(1+Se<<8)+ce),ce=ce<<1|be,Se!=be){for(;256>ce;)ce=ce<<1|ut(ge,ae.Ib,ce);break}while(256>ce);return ce<<24>>24}(Y,R.e,ue(R.B,R.ib)),function(ae,ge){ae.Lb[ae.o++]=ge,ae.o>=ae.M&&oe(ae)}(R.B,R.jc),R.U=ie(R.U),R.g=u(R.g,Pr);return 0}(M.Z);if(v==-1)throw Error("corrupted input");M.Pb=Dn,M.Pc=M.Z.g,(v||c(M.Z.Nc,gt)>=0&&c(M.Z.g,M.Z.Nc)>=0)&&(oe(M.Z.B),de(M.Z.B),M.Z.e.Ab=null,M.zc=0)}(n),n.zc}function $(n){n.B={},n.e={},n.Gb=p(192),n.Zb=p(12),n.Cb=p(12),n.Db=p(12),n.Eb=p(12),n.pb=p(192),n.kb=p(4),n.kc=p(114),n.Fb=un({},4),n.Rb=q({}),n.sb=q({}),n.gb={};for(var M=0;4>M;++M)n.kb[M]=un({},6);return n}function A(n,M){for(;M>n.O;++n.O)n.ec[n.O]=un({},3),n.hc[n.O]=un({},3)}function H(n,M,v){return ut(M,n.wc,0)?8+(ut(M,n.wc,1)?8+Pn(n.tc,M):Pn(n.hc[v],M)):Pn(n.ec[v],M)}function q(n){return n.wc=p(2),n.ec=p(16),n.hc=p(16),n.tc=un({},8),n.O=0,n}function G(n){ze(n.wc);for(var M=0;n.O>M;++M)ze(n.ec[M].G),ze(n.hc[M].G);ze(n.tc.G)}function le(n,M,v){var R,Y;if(n.V==null||n.u!=v||n.I!=M)for(n.I=M,n.qc=(1<<M)-1,n.u=v,Y=1<<n.u+n.I,n.V=p(Y),R=0;Y>R;++R)n.V[R]=ve({})}function ve(n){return n.Ib=p(768),n}function Ee(n,M){var v,R,Y,F;n.jb=M,Y=n.a[M].r,R=n.a[M].j;do n.a[M].t&&(Er(n.a[Y]),n.a[Y].r=Y-1,n.a[M].Ac&&(n.a[Y-1].t=0,n.a[Y-1].r=n.a[M].r2,n.a[Y-1].j=n.a[M].j2)),F=Y,v=R,R=n.a[F].j,Y=n.a[F].r,n.a[F].j=v,n.a[F].r=M,M=F;while(M>0);return n.mb=n.a[0].j,n.q=n.a[0].r}function He(n){var M;for(n.v=p(4),n.a=[],n.d={},n.C=p(192),n.bb=p(12),n.hb=p(12),n.Ub=p(12),n.vc=p(12),n._=p(192),n.K=[],n.Sb=p(114),n.S=cn({},4),n.$=Ln({}),n.i=Ln({}),n.A={},n.m=[],n.P=[],n.lb=[],n.nc=p(16),n.x=p(4),n.Q=p(4),n.Xb=[gt],n.uc=[gt],n.Kc=[0],n.fc=p(5),n.yc=p(128),n.vb=0,n.X=1,n.D=0,n.Hb=-1,n.mb=0,M=0;4096>M;++M)n.a[M]={};for(M=0;4>M;++M)n.K[M]=cn({},6);return n}function ke(n){for(var M=0;16>M;++M)n.nc[M]=Jo(n.S,M);n.Qb=0}function tt(n){var M,v,R,Y,F,te,Z,se;for(Y=4;128>Y;++Y)M=(2|1&(te=Ve(Y)))<<(R=(te>>1)-1),n.yc[Y]=Xo(n.Sb,M-te-1,R,Y-M);for(F=0;4>F;++F){for(v=n.K[F],Z=F<<6,te=0;n.$b>te;++te)n.P[Z+te]=Rn(v,te);for(te=14;n.$b>te;++te)n.P[Z+te]+=(te>>1)-1-4<<6;for(se=128*F,Y=0;4>Y;++Y)n.lb[se+Y]=n.P[Z+Y];for(;128>Y;++Y)n.lb[se+Y]=n.P[Z+Ve(Y)]+n.yc[Y]}n.Mb=0}function fe(n,M){Te(n),function(R,Y){if(R.Gc){Je(R.d,R.C,(R.l<<4)+Y,1),Je(R.d,R.bb,R.l,0),R.l=7>R.l?7:10,wt(R.$,R.d,0,Y);var F=ye(2);fn(R.K[F],R.d,63),Ar(R.d,67108863,26),Cr(R.S,R.d,15)}}(n,M&n.y);for(var v=0;5>v;++v)Kn(n.d)}function we(n,M){var v,R,Y,F,te,Z,se,re,ae,ge,he,be,Se,ce,Ie,Be,Le,Fe,Oe,Ke,Qe,ct,Rt,At,Ot,St,ft,Mt,Ze,Ae,qt,Wt,at,it,Or,yt,Nn,zt,Tt,Xt,pn,qe,nt,Kt;if(n.jb!=n.q)return Se=n.a[n.q].r-n.q,n.mb=n.a[n.q].j,n.q=n.a[n.q].r,Se;if(n.q=n.jb=0,n.N?(be=n.vb,n.N=0):be=Ce(n),St=n.D,2>(At=z(n.b)+1))return n.mb=-1,1;for(At>273&&(At=273),Tt=0,ae=0;4>ae;++ae)n.x[ae]=n.v[ae],n.Q[ae]=D(n.b,-1,n.x[ae],273),n.Q[ae]>n.Q[Tt]&&(Tt=ae);if(n.Q[Tt]>=n.n)return n.mb=Tt,Pe(n,(Se=n.Q[Tt])-1),Se;if(be>=n.n)return n.mb=n.m[St-1]+4,Pe(n,be-1),be;if(se=ne(n.b,-1),Le=ne(n.b,-n.v[0]-1-1),2>be&&se!=Le&&2>n.Q[Tt])return n.mb=-1,1;if(n.a[0].Hc=n.l,at=M&n.y,n.a[1].z=Ne[n.C[(n.l<<4)+at]>>>2]+In(Qt(n.A,M,n.J),n.l>=7,Le,se),Er(n.a[1]),zt=(Fe=Ne[2048-n.C[(n.l<<4)+at]>>>2])+Ne[2048-n.bb[n.l]>>>2],Le==se&&(Xt=zt+function(hn,Dr,ta){return Ne[hn.hb[Dr]>>>2]+Ne[hn._[(Dr<<4)+ta]>>>2]}(n,n.l,at),n.a[1].z>Xt&&(n.a[1].z=Xt,function(hn){hn.j=0,hn.t=0}(n.a[1]))),2>(he=be>=n.Q[Tt]?be:n.Q[Tt]))return n.mb=n.a[1].j,1;n.a[1].r=0,n.a[0].bc=n.x[0],n.a[0].ac=n.x[1],n.a[0].dc=n.x[2],n.a[0].lc=n.x[3],ge=he;do n.a[ge--].z=268435455;while(ge>=2);for(ae=0;4>ae;++ae)if(!(2>(Nn=n.Q[ae]))){Or=zt+Re(n,ae,n.l,at);do F=Or+ht(n.i,Nn-2,at),(Ae=n.a[Nn]).z>F&&(Ae.z=F,Ae.r=0,Ae.j=ae,Ae.t=0);while(--Nn>=2)}if(Rt=Fe+Ne[n.bb[n.l]>>>2],be>=(ge=n.Q[0]>=2?n.Q[0]+1:2)){for(ft=0;ge>n.m[ft];)ft+=2;for(;F=Rt+$e(n,re=n.m[ft+1],ge,at),(Ae=n.a[ge]).z>F&&(Ae.z=F,Ae.r=0,Ae.j=re+4,Ae.t=0),ge!=n.m[ft]||(ft+=2)!=St;++ge);}for(v=0;;){if(++v==he)return Ee(n,v);if(Oe=Ce(n),St=n.D,Oe>=n.n)return n.vb=Oe,n.N=1,Ee(n,v);if(++M,Wt=n.a[v].r,n.a[v].t?(--Wt,n.a[v].Ac?(qe=n.a[n.a[v].r2].Hc,qe=4>n.a[v].j2?7>qe?8:11:7>qe?7:10):qe=n.a[Wt].Hc,qe=ie(qe)):qe=n.a[Wt].Hc,Wt==v-1?qe=n.a[v].j?ie(qe):7>qe?9:11:(n.a[v].t&&n.a[v].Ac?(Wt=n.a[v].r2,qt=n.a[v].j2,qe=7>qe?8:11):qe=4>(qt=n.a[v].j)?7>qe?8:11:7>qe?7:10,Ze=n.a[Wt],4>qt?qt?qt==1?(n.x[0]=Ze.ac,n.x[1]=Ze.bc,n.x[2]=Ze.dc,n.x[3]=Ze.lc):qt==2?(n.x[0]=Ze.dc,n.x[1]=Ze.bc,n.x[2]=Ze.ac,n.x[3]=Ze.lc):(n.x[0]=Ze.lc,n.x[1]=Ze.bc,n.x[2]=Ze.ac,n.x[3]=Ze.dc):(n.x[0]=Ze.bc,n.x[1]=Ze.ac,n.x[2]=Ze.dc,n.x[3]=Ze.lc):(n.x[0]=qt-4,n.x[1]=Ze.bc,n.x[2]=Ze.ac,n.x[3]=Ze.dc)),n.a[v].Hc=qe,n.a[v].bc=n.x[0],n.a[v].ac=n.x[1],n.a[v].dc=n.x[2],n.a[v].lc=n.x[3],Z=n.a[v].z,se=ne(n.b,-1),Le=ne(n.b,-n.x[0]-1-1),at=M&n.y,R=Z+Ne[n.C[(qe<<4)+at]>>>2]+In(Qt(n.A,M,ne(n.b,-2)),qe>=7,Le,se),Ke=0,(Qe=n.a[v+1]).z>R&&(Qe.z=R,Qe.r=v,Qe.j=-1,Qe.t=0,Ke=1),zt=(Fe=Z+Ne[2048-n.C[(qe<<4)+at]>>>2])+Ne[2048-n.bb[qe]>>>2],Le!=se||v>Qe.r&&!Qe.j||(Xt=zt+(Ne[n.hb[qe]>>>2]+Ne[n._[(qe<<4)+at]>>>2]),Qe.z>=Xt&&(Qe.z=Xt,Qe.r=v,Qe.j=0,Qe.t=0,Ke=1)),!(2>(At=Ot=(Ot=z(n.b)+1)>4095-v?4095-v:Ot))){if(At>n.n&&(At=n.n),!Ke&&Le!=se&&(Kt=Math.min(Ot-1,n.n),(Ie=D(n.b,0,n.x[0],Kt))>=2)){for(nt=ie(qe),it=M+1&n.y,ct=R+Ne[2048-n.C[(nt<<4)+it]>>>2]+Ne[2048-n.bb[nt]>>>2],Mt=v+1+Ie;Mt>he;)n.a[++he].z=268435455;F=ct+(ht(n.i,Ie-2,it)+Re(n,0,nt,it)),(Ae=n.a[Mt]).z>F&&(Ae.z=F,Ae.r=v+1,Ae.j=0,Ae.t=1,Ae.Ac=0)}for(pn=2,yt=0;4>yt;++yt)if(!(2>(ce=D(n.b,-1,n.x[yt],At)))){Be=ce;do{for(;v+ce>he;)n.a[++he].z=268435455;F=zt+(ht(n.i,ce-2,at)+Re(n,yt,qe,at)),(Ae=n.a[v+ce]).z>F&&(Ae.z=F,Ae.r=v,Ae.j=yt,Ae.t=0)}while(--ce>=2);if(ce=Be,yt||(pn=ce+1),Ot>ce&&(Kt=Math.min(Ot-1-ce,n.n),(Ie=D(n.b,ce,n.x[yt],Kt))>=2)){for(nt=7>qe?8:11,it=M+ce&n.y,Y=zt+(ht(n.i,ce-2,at)+Re(n,yt,qe,at))+Ne[n.C[(nt<<4)+it]>>>2]+In(Qt(n.A,M+ce,ne(n.b,ce-1-1)),1,ne(n.b,ce-1-(n.x[yt]+1)),ne(n.b,ce-1)),nt=ie(nt),it=M+ce+1&n.y,ct=Y+Ne[2048-n.C[(nt<<4)+it]>>>2]+Ne[2048-n.bb[nt]>>>2],Mt=ce+1+Ie;v+Mt>he;)n.a[++he].z=268435455;F=ct+(ht(n.i,Ie-2,it)+Re(n,0,nt,it)),(Ae=n.a[v+Mt]).z>F&&(Ae.z=F,Ae.r=v+ce+1,Ae.j=0,Ae.t=1,Ae.Ac=1,Ae.r2=v,Ae.j2=yt)}}if(Oe>At){for(Oe=At,St=0;Oe>n.m[St];St+=2);n.m[St]=Oe,St+=2}if(Oe>=pn){for(Rt=Fe+Ne[n.bb[qe]>>>2];v+Oe>he;)n.a[++he].z=268435455;for(ft=0;pn>n.m[ft];)ft+=2;for(ce=pn;;++ce)if(F=Rt+$e(n,te=n.m[ft+1],ce,at),(Ae=n.a[v+ce]).z>F&&(Ae.z=F,Ae.r=v,Ae.j=te+4,Ae.t=0),ce==n.m[ft]){if(Ot>ce&&(Kt=Math.min(Ot-1-ce,n.n),(Ie=D(n.b,ce,te,Kt))>=2)){for(nt=7>qe?7:10,it=M+ce&n.y,Y=F+Ne[n.C[(nt<<4)+it]>>>2]+In(Qt(n.A,M+ce,ne(n.b,ce-1-1)),1,ne(n.b,ce-(te+1)-1),ne(n.b,ce-1)),nt=ie(nt),it=M+ce+1&n.y,ct=Y+Ne[2048-n.C[(nt<<4)+it]>>>2]+Ne[2048-n.bb[nt]>>>2],Mt=ce+1+Ie;v+Mt>he;)n.a[++he].z=268435455;F=ct+(ht(n.i,Ie-2,it)+Re(n,0,nt,it)),(Ae=n.a[v+Mt]).z>F&&(Ae.z=F,Ae.r=v+ce+1,Ae.j=0,Ae.t=1,Ae.Ac=1,Ae.r2=v,Ae.j2=te+4)}if((ft+=2)==St)break}}}}}function $e(n,M,v,R){var Y=ye(v);return(128>M?n.lb[128*Y+M]:n.P[(Y<<6)+function(F){return 131072>F?Gt[F>>6]+12:134217728>F?Gt[F>>16]+32:Gt[F>>26]+52}(M)]+n.nc[15&M])+ht(n.$,v-2,R)}function Re(n,M,v,R){var Y;return M?(Y=Ne[2048-n.hb[v]>>>2],M==1?Y+=Ne[n.Ub[v]>>>2]:(Y+=Ne[2048-n.Ub[v]>>>2],Y+=dn(n.vc[v],M-2))):(Y=Ne[n.hb[v]>>>2],Y+=Ne[2048-n._[(v<<4)+R]>>>2]),Y}function Pe(n,M){M>0&&(function(v,R){var Y,F,te,Z,se,re,ae,ge,he,be,Se,ce,Ie,Be,Le,Fe,Oe;do{if(v.h>=v.o+v.ob)ce=v.ob;else if(ce=v.h-v.o,v.xb>ce){I(v);continue}for(Ie=v.o>v.p?v.o-v.p:0,F=v.f+v.o,v.qb?(re=1023&(Oe=jn[255&v.c[F]]^255&v.c[F+1]),v.ub[re]=v.o,ae=65535&(Oe^=(255&v.c[F+2])<<8),v.ub[1024+ae]=v.o,ge=(Oe^jn[255&v.c[F+3]]<<5)&v.Ec):ge=255&v.c[F]^(255&v.c[F+1])<<8,te=v.ub[v.R+ge],v.ub[v.R+ge]=v.o,Le=1+(v.k<<1),Fe=v.k<<1,be=Se=v.w,Y=v.Fc;;){if(Ie>=te||Y--==0){v.L[Le]=v.L[Fe]=0;break}if(se=v.o-te,Z=(v.k>=se?v.k-se:v.k-se+v.p)<<1,Be=v.f+te,he=Se>be?be:Se,v.c[Be+he]==v.c[F+he]){for(;++he!=ce&&v.c[Be+he]==v.c[F+he];);if(he==ce){v.L[Fe]=v.L[Z],v.L[Le]=v.L[Z+1];break}}(255&v.c[F+he])>(255&v.c[Be+he])?(v.L[Fe]=te,Fe=Z+1,te=v.L[Fe],Se=he):(v.L[Le]=te,Le=Z,te=v.L[Le],be=he)}I(v)}while(--R!=0)}(n.b,M),n.s+=M)}function Ce(n){var M=0;return n.D=function(v,R){var Y,F,te,Z,se,re,ae,ge,he,be,Se,ce,Ie,Be,Le,Fe,Oe,Ke,Qe,ct,Rt;if(v.h>=v.o+v.ob)Be=v.ob;else if(Be=v.h-v.o,v.xb>Be)return I(v),0;for(Oe=0,Le=v.o>v.p?v.o-v.p:0,F=v.f+v.o,Fe=1,ge=0,he=0,v.qb?(ge=1023&(Rt=jn[255&v.c[F]]^255&v.c[F+1]),he=65535&(Rt^=(255&v.c[F+2])<<8),be=(Rt^jn[255&v.c[F+3]]<<5)&v.Ec):be=255&v.c[F]^(255&v.c[F+1])<<8,te=v.ub[v.R+be]||0,v.qb&&(Z=v.ub[ge]||0,se=v.ub[1024+he]||0,v.ub[ge]=v.o,v.ub[1024+he]=v.o,Z>Le&&v.c[v.f+Z]==v.c[F]&&(R[Oe++]=Fe=2,R[Oe++]=v.o-Z-1),se>Le&&v.c[v.f+se]==v.c[F]&&(se==Z&&(Oe-=2),R[Oe++]=Fe=3,R[Oe++]=v.o-se-1,Z=se),Oe!=0&&Z==te&&(Oe-=2,Fe=1)),v.ub[v.R+be]=v.o,Qe=1+(v.k<<1),ct=v.k<<1,ce=Ie=v.w,v.w!=0&&te>Le&&v.c[v.f+te+v.w]!=v.c[F+v.w]&&(R[Oe++]=Fe=v.w,R[Oe++]=v.o-te-1),Y=v.Fc;;){if(Le>=te||Y--==0){v.L[Qe]=v.L[ct]=0;break}if(ae=v.o-te,re=(v.k>=ae?v.k-ae:v.k-ae+v.p)<<1,Ke=v.f+te,Se=Ie>ce?ce:Ie,v.c[Ke+Se]==v.c[F+Se]){for(;++Se!=Be&&v.c[Ke+Se]==v.c[F+Se];);if(Se>Fe&&(R[Oe++]=Fe=Se,R[Oe++]=ae-1,Se==Be)){v.L[ct]=v.L[re],v.L[Qe]=v.L[re+1];break}}(255&v.c[F+Se])>(255&v.c[Ke+Se])?(v.L[ct]=te,ct=re+1,te=v.L[ct],Ie=Se):(v.L[Qe]=te,Qe=re,te=v.L[Qe],ce=Se)}return I(v),Oe}(n.b,n.m),n.D>0&&(M=n.m[n.D-2])==n.n&&(M+=D(n.b,M-1,n.m[n.D-1],273-M)),++n.s,M}function Te(n){n.b&&n.W&&(n.b.cc=null,n.W=0)}function Ve(n){return 2048>n?Gt[n]:2097152>n?Gt[n>>10]+20:Gt[n>>20]+40}function lt(n,M){ze(n.db);for(var v=0;M>v;++v)ze(n.Vb[v].G),ze(n.Wb[v].G);ze(n.ic.G)}function Pt(n,M,v,R,Y){var F,te,Z,se,re;for(F=Ne[n.db[0]>>>2],Z=(te=Ne[2048-n.db[0]>>>2])+Ne[n.db[1]>>>2],se=te+Ne[2048-n.db[1]>>>2],re=0,re=0;8>re;++re){if(re>=v)return;R[Y+re]=F+Rn(n.Vb[M],re)}for(;16>re;++re){if(re>=v)return;R[Y+re]=Z+Rn(n.Wb[M],re-8)}for(;v>re;++re)R[Y+re]=se+Rn(n.ic,re-8-8)}function wt(n,M,v,R){(function(Y,F,te,Z){8>te?(Je(F,Y.db,0,0),fn(Y.Vb[Z],F,te)):(te-=8,Je(F,Y.db,0,1),8>te?(Je(F,Y.db,1,0),fn(Y.Wb[Z],F,te)):(Je(F,Y.db,1,1),fn(Y.ic,F,te-8)))})(n,M,v,R),--n.sc[R]==0&&(Pt(n,R,n.rb,n.Cc,272*R),n.sc[R]=n.rb)}function Ln(n){return function(M){M.db=p(2),M.Vb=p(16),M.Wb=p(16),M.ic=cn({},8);for(var v=0;16>v;++v)M.Vb[v]=cn({},3),M.Wb[v]=cn({},3)}(n),n.Cc=[],n.sc=[],n}function ht(n,M,v){return n.Cc[272*v+M]}function mt(n,M){for(var v=0;M>v;++v)Pt(n,v,n.rb,n.Cc,272*v),n.sc[v]=n.rb}function Vo(n,M,v){var R,Y;if(n.V==null||n.u!=v||n.I!=M)for(n.I=M,n.qc=(1<<M)-1,n.u=v,Y=1<<n.u+n.I,n.V=p(Y),R=0;Y>R;++R)n.V[R]=Qo({})}function Qt(n,M,v){return n.V[((M&n.qc)<<n.u)+((255&v)>>>8-n.u)]}function kr(n,M,v){var R,Y,F=1;for(Y=7;Y>=0;--Y)R=v>>Y&1,Je(M,n.tb,F,R),F=F<<1|R}function Yo(n,M,v,R){var Y,F,te,Z,se=1,re=1;for(F=7;F>=0;--F)Y=R>>F&1,Z=re,se&&(Z+=1+(te=v>>F&1)<<8,se=te==Y),Je(M,n.tb,Z,Y),re=re<<1|Y}function Qo(n){return n.tb=p(768),n}function In(n,M,v,R){var Y,F,te=1,Z=7,se=0;if(M){for(;Z>=0;--Z)if(F=v>>Z&1,Y=R>>Z&1,se+=dn(n.tb[(1+F<<8)+te],Y),te=te<<1|Y,F!=Y){--Z;break}}for(;Z>=0;--Z)Y=R>>Z&1,se+=dn(n.tb[te],Y),te=te<<1|Y;return se}function Er(n){n.j=-1,n.t=0}function un(n,M){return n.F=M,n.G=p(1<<M),n}function Pn(n,M){var v,R=1;for(v=n.F;v!=0;--v)R=(R<<1)+ut(M,n.G,R);return R-(1<<n.F)}function cn(n,M){return n.F=M,n.G=p(1<<M),n}function fn(n,M,v){var R,Y,F=1;for(Y=n.F;Y!=0;)R=v>>>--Y&1,Je(M,n.G,F,R),F=F<<1|R}function Rn(n,M){var v,R,Y=1,F=0;for(R=n.F;R!=0;)v=M>>>--R&1,F+=dn(n.G[Y],v),Y=(Y<<1)+v;return F}function Cr(n,M,v){var R,Y,F=1;for(Y=0;n.F>Y;++Y)R=1&v,Je(M,n.G,F,R),F=F<<1|R,v>>=1}function Jo(n,M){var v,R,Y=1,F=0;for(R=n.F;R!=0;--R)v=1&M,M>>>=1,F+=dn(n.G[Y],v),Y=Y<<1|v;return F}function Go(n,M,v,R,Y){var F,te,Z=1;for(te=0;R>te;++te)Je(v,n,M+Z,F=1&Y),Z=Z<<1|F,Y>>=1}function Xo(n,M,v,R){var Y,F,te=1,Z=0;for(F=v;F!=0;--F)Y=1&R,R>>>=1,Z+=Ne[(2047&(n[M+te]-Y^-Y))>>>2],te=te<<1|Y;return Z}function ut(n,M,v){var R,Y=M[v];return(-2147483648^(R=(n.E>>>11)*Y))>(-2147483648^n.Bb)?(n.E=R,M[v]=Y+(2048-Y>>>5)<<16>>16,-16777216&n.E||(n.Bb=n.Bb<<8|w(n.Ab),n.E<<=8),0):(n.E-=R,n.Bb-=R,M[v]=Y-(Y>>>5)<<16>>16,-16777216&n.E||(n.Bb=n.Bb<<8|w(n.Ab),n.E<<=8),1)}function ze(n){for(var M=n.length-1;M>=0;--M)n[M]=1024}function Je(n,M,v,R){var Y,F=M[v];Y=(n.E>>>11)*F,R?(n.xc=u(n.xc,a(y(Y),[4294967295,0])),n.E-=Y,M[v]=F-(F>>>5)<<16>>16):(n.E=Y,M[v]=F+(2048-F>>>5)<<16>>16),-16777216&n.E||(n.E<<=8,Kn(n))}function Ar(n,M,v){for(var R=v-1;R>=0;--R)n.E>>>=1,(M>>>R&1)==1&&(n.xc=u(n.xc,y(n.E))),-16777216&n.E||(n.E<<=8,Kn(n))}function Ko(n){return u(u(y(n.Jb),n.mc),[4,0])}function Kn(n){var M,v=f(function(R,Y){var F;return F=k(R,Y&=63),0>R[1]&&(F=u(F,E([2,0],63-Y))),F}(n.xc,32));if(v!=0||c(n.xc,[4278190080,0])<0){n.mc=u(n.mc,y(n.Jb)),M=n.Oc;do Q(n.Ab,M+v),M=255;while(--n.Jb!=0);n.Oc=f(n.xc)>>>24}++n.Jb,n.xc=E(a(n.xc,[16777215,0]),8)}function dn(n,M){return Ne[(2047&(n-M^-M))>>>2]}function Mr(n){for(var M,v,R,Y=0,F=0,te=n.length,Z=[],se=[];te>Y;++Y,++F){if(128&(M=255&n[Y]))if((224&M)==192){if(Y+1>=te||(192&(v=255&n[++Y]))!=128)return n;se[F]=(31&M)<<6|63&v}else{if((240&M)!=224||Y+2>=te||(192&(v=255&n[++Y]))!=128||(192&(R=255&n[++Y]))!=128)return n;se[F]=(15&M)<<12|(63&v)<<6|63&R}else{if(!M)return n;se[F]=M}F==16383&&(Z.push(String.fromCharCode.apply(String,se)),F=-1)}return F>0&&(se.length=F,Z.push(String.fromCharCode.apply(String,se))),Z.join("")}function Tr(n){var M,v,R,Y=[],F=0,te=n.length;if(typeof n=="object")return n;for(function(Z,se,re,ae,ge){var he;for(he=se;re>he;++he)ae[ge++]=Z.charCodeAt(he)}(n,0,te,Y,0),R=0;te>R;++R)(M=Y[R])>=1&&127>=M?++F:F+=!M||M>=128&&2047>=M?2:3;for(v=[],F=0,R=0;te>R;++R)(M=Y[R])>=1&&127>=M?v[F++]=M<<24>>24:!M||M>=128&&2047>=M?(v[F++]=(192|M>>6&31)<<24>>24,v[F++]=(128|63&M)<<24>>24):(v[F++]=(224|M>>12&15)<<24>>24,v[F++]=(128|M>>6&63)<<24>>24,v[F++]=(128|63&M)<<24>>24);return v}function On(n){return n[1]+n[0]}var Lr=1,Ir=2,Zo=3,Jt=typeof s=="function"?s:setTimeout,ot=4294967296,Dn=[4294967295,-ot],ea=[0,-9223372036854776e3],gt=[0,0],Pr=[1,0],jn=function(){var n,M,v,R=[];for(n=0;256>n;++n){for(v=n,M=0;8>M;++M)(1&v)!=0?v=v>>>1^-306674912:v>>>=1;R[n]=v}return R}(),Gt=function(){var n,M,v,R=2,Y=[0,1];for(v=2;22>v;++v)for(M=1<<(v>>1)-1,n=0;M>n;++n,++R)Y[R]=v<<24>>24;return Y}(),Ne=function(){var n,M,v,R=[];for(M=8;M>=0;--M)for(n=1<<9-M,v=1<<9-M-1;n>v;++v)R[v]=(M<<6)+(n-v<<6>>>9-M-1);return R}(),Rr=function(){var n=[{s:16,f:64,m:0},{s:20,f:64,m:0},{s:19,f:64,m:1},{s:20,f:64,m:1},{s:21,f:128,m:1},{s:22,f:128,m:1},{s:23,f:128,m:1},{s:24,f:255,m:1},{s:25,f:255,m:1}];return function(M){return n[M-1]||n[6]}}();return typeof onmessage=="undefined"||typeof window!="undefined"&&window.document!==void 0||(onmessage=function(n){n&&n.gc&&(n.gc.action==Ir?i.decompress(n.gc.gc,n.gc.cbn):n.gc.action==Lr&&i.compress(n.gc.gc,n.gc.Rc,n.gc.cbn))}),{compress:function(n,M,v,R){var Y,F,te={},Z=v===void 0&&R===void 0;if(typeof v!="function"&&(F=v,v=R=0),R=R||function(se){return F!==void 0?d(se,F):void 0},v=v||function(se,re){return F!==void 0?postMessage({action:Lr,cbn:F,result:se,error:re}):void 0},Z){for(te.c=N({},Tr(n),Rr(M));g(te.c.yb););return O(te.c.Nb)}try{te.c=N({},Tr(n),Rr(M)),R(0)}catch(se){return v(null,se)}Jt(function se(){try{for(var re,ae=new Date().getTime();g(te.c.yb);)if(Y=On(te.c.yb.Pb)/On(te.c.Tb),new Date().getTime()-ae>200)return R(Y),Jt(se,0),0;R(1),re=O(te.c.Nb),Jt(v.bind(null,re),0)}catch(ge){v(null,ge)}},0)},decompress:function(n,M,v){var R,Y,F,te,Z={},se=M===void 0&&v===void 0;if(typeof M!="function"&&(Y=M,M=v=0),v=v||function(re){return Y!==void 0?d(F?re:-1,Y):void 0},M=M||function(re,ae){return Y!==void 0?postMessage({action:Ir,cbn:Y,result:re,error:ae}):void 0},se){for(Z.d=W({},n);g(Z.d.yb););return Mr(O(Z.d.Nb))}try{Z.d=W({},n),te=On(Z.d.Tb),F=te>-1,v(0)}catch(re){return M(null,re)}Jt(function re(){try{for(var ae,ge=0,he=new Date().getTime();g(Z.d.yb);)if(++ge%1e3==0&&new Date().getTime()-he>200)return F&&(R=On(Z.d.yb.Z.g)/te,v(R)),Jt(re,0),0;v(1),ae=Mr(O(Z.d.Nb)),Jt(M.bind(null,ae),0)}catch(be){M(null,be)}},0)}}}();this.LZMA=this.LZMA_WORKER=i}).call(this,l(20).setImmediate)},function(r,o,l){var s,i=function(){var d=String.fromCharCode,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function c(b,y){if(!a[b]){a[b]={};for(var f=0;f<b.length;f++)a[b][b.charAt(f)]=f}return a[b][y]}var h={compressToBase64:function(b){if(b==null)return"";var y=h._compress(b,6,function(f){return p.charAt(f)});switch(y.length%4){default:case 0:return y;case 1:return y+"===";case 2:return y+"==";case 3:return y+"="}},decompressFromBase64:function(b){return b==null?"":b==""?null:h._decompress(b.length,32,function(y){return c(p,b.charAt(y))})},compressToUTF16:function(b){return b==null?"":h._compress(b,15,function(y){return d(y+32)})+" "},decompressFromUTF16:function(b){return b==null?"":b==""?null:h._decompress(b.length,16384,function(y){return b.charCodeAt(y)-32})},compressToUint8Array:function(b){for(var y=h.compress(b),f=new Uint8Array(2*y.length),m=0,E=y.length;m<E;m++){var k=y.charCodeAt(m);f[2*m]=k>>>8,f[2*m+1]=k%256}return f},decompressFromUint8Array:function(b){if(b==null)return h.decompress(b);for(var y=new Array(b.length/2),f=0,m=y.length;f<m;f++)y[f]=256*b[2*f]+b[2*f+1];var E=[];return y.forEach(function(k){E.push(d(k))}),h.decompress(E.join(""))},compressToEncodedURIComponent:function(b){return b==null?"":h._compress(b,6,function(y){return u.charAt(y)})},decompressFromEncodedURIComponent:function(b){return b==null?"":b==""?null:(b=b.replace(/ /g,"+"),h._decompress(b.length,32,function(y){return c(u,b.charAt(y))}))},compress:function(b){return h._compress(b,16,function(y){return d(y)})},_compress:function(b,y,f){if(b==null)return"";var m,E,k,x={},S={},w="",_="",L="",O=2,Q=3,P=2,T=[],B=0,N=0;for(k=0;k<b.length;k+=1)if(w=b.charAt(k),Object.prototype.hasOwnProperty.call(x,w)||(x[w]=Q++,S[w]=!0),_=L+w,Object.prototype.hasOwnProperty.call(x,_))L=_;else{if(Object.prototype.hasOwnProperty.call(S,L)){if(L.charCodeAt(0)<256){for(m=0;m<P;m++)B<<=1,N==y-1?(N=0,T.push(f(B)),B=0):N++;for(E=L.charCodeAt(0),m=0;m<8;m++)B=B<<1|1&E,N==y-1?(N=0,T.push(f(B)),B=0):N++,E>>=1}else{for(E=1,m=0;m<P;m++)B=B<<1|E,N==y-1?(N=0,T.push(f(B)),B=0):N++,E=0;for(E=L.charCodeAt(0),m=0;m<16;m++)B=B<<1|1&E,N==y-1?(N=0,T.push(f(B)),B=0):N++,E>>=1}--O==0&&(O=Math.pow(2,P),P++),delete S[L]}else for(E=x[L],m=0;m<P;m++)B=B<<1|1&E,N==y-1?(N=0,T.push(f(B)),B=0):N++,E>>=1;--O==0&&(O=Math.pow(2,P),P++),x[_]=Q++,L=String(w)}if(L!==""){if(Object.prototype.hasOwnProperty.call(S,L)){if(L.charCodeAt(0)<256){for(m=0;m<P;m++)B<<=1,N==y-1?(N=0,T.push(f(B)),B=0):N++;for(E=L.charCodeAt(0),m=0;m<8;m++)B=B<<1|1&E,N==y-1?(N=0,T.push(f(B)),B=0):N++,E>>=1}else{for(E=1,m=0;m<P;m++)B=B<<1|E,N==y-1?(N=0,T.push(f(B)),B=0):N++,E=0;for(E=L.charCodeAt(0),m=0;m<16;m++)B=B<<1|1&E,N==y-1?(N=0,T.push(f(B)),B=0):N++,E>>=1}--O==0&&(O=Math.pow(2,P),P++),delete S[L]}else for(E=x[L],m=0;m<P;m++)B=B<<1|1&E,N==y-1?(N=0,T.push(f(B)),B=0):N++,E>>=1;--O==0&&(O=Math.pow(2,P),P++)}for(E=2,m=0;m<P;m++)B=B<<1|1&E,N==y-1?(N=0,T.push(f(B)),B=0):N++,E>>=1;for(;;){if(B<<=1,N==y-1){T.push(f(B));break}N++}return T.join("")},decompress:function(b){return b==null?"":b==""?null:h._decompress(b.length,32768,function(y){return b.charCodeAt(y)})},_decompress:function(b,y,f){var m,E,k,x,S,w,_,L=[],O=4,Q=4,P=3,T="",B=[],N={val:f(0),position:y,index:1};for(m=0;m<3;m+=1)L[m]=m;for(k=0,S=Math.pow(2,2),w=1;w!=S;)x=N.val&N.position,N.position>>=1,N.position==0&&(N.position=y,N.val=f(N.index++)),k|=(x>0?1:0)*w,w<<=1;switch(k){case 0:for(k=0,S=Math.pow(2,8),w=1;w!=S;)x=N.val&N.position,N.position>>=1,N.position==0&&(N.position=y,N.val=f(N.index++)),k|=(x>0?1:0)*w,w<<=1;_=d(k);break;case 1:for(k=0,S=Math.pow(2,16),w=1;w!=S;)x=N.val&N.position,N.position>>=1,N.position==0&&(N.position=y,N.val=f(N.index++)),k|=(x>0?1:0)*w,w<<=1;_=d(k);break;case 2:return""}for(L[3]=_,E=_,B.push(_);;){if(N.index>b)return"";for(k=0,S=Math.pow(2,P),w=1;w!=S;)x=N.val&N.position,N.position>>=1,N.position==0&&(N.position=y,N.val=f(N.index++)),k|=(x>0?1:0)*w,w<<=1;switch(_=k){case 0:for(k=0,S=Math.pow(2,8),w=1;w!=S;)x=N.val&N.position,N.position>>=1,N.position==0&&(N.position=y,N.val=f(N.index++)),k|=(x>0?1:0)*w,w<<=1;L[Q++]=d(k),_=Q-1,O--;break;case 1:for(k=0,S=Math.pow(2,16),w=1;w!=S;)x=N.val&N.position,N.position>>=1,N.position==0&&(N.position=y,N.val=f(N.index++)),k|=(x>0?1:0)*w,w<<=1;L[Q++]=d(k),_=Q-1,O--;break;case 2:return B.join("")}if(O==0&&(O=Math.pow(2,P),P++),L[_])T=L[_];else{if(_!==Q)return null;T=E+E.charAt(0)}B.push(T),L[Q++]=E+T.charAt(0),E=T,--O==0&&(O=Math.pow(2,P),P++)}}};return h}();(s=function(){return i}.call(o,l,o,r))===void 0||(r.exports=s)},function(r,o,l){var s=function(){};s.prototype.encode=function(i){for(var d,p={},u=(i+"").split(""),a=[],c=u[0],h=256,b=1;b<u.length;b++)p[c+(d=u[b])]!=null?c+=d:(a.push(c.length>1?p[c]:c.charCodeAt(0)),p[c+d]=h,h++,c=d);for(a.push(c.length>1?p[c]:c.charCodeAt(0)),b=0;b<a.length;b++)a[b]=String.fromCharCode(a[b]);return a.join("")},s.prototype.decode=function(i){for(var d,p={},u=(i+"").split(""),a=u[0],c=a,h=[a],b=256,y=1;y<u.length;y++){var f=u[y].charCodeAt(0);d=f<256?u[y]:p[f]?p[f]:c+a,h.push(d),a=d.charAt(0),p[b]=c+a,b++,c=d}return h.join("")},r.exports=new s},function(r,o,l){l.r(o);var s,i,d,p=l(1),u=l.n(p),a=l(0),c=l.n(a),h=l(23),b=l(24),y=l(25),f={pack:!0,encode:!0,compress:(i=u()(c.a.mark(function k(x){return c.a.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",x);case 1:case"end":return S.stop()}},k)})),function(k){return i.apply(this,arguments)}),decompress:(s=u()(c.a.mark(function k(x){return c.a.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",x);case 1:case"end":return S.stop()}},k)})),function(k){return s.apply(this,arguments)})},m={lzma:h.a,lzstring:b.a,lzw:y.a,pack:f},E=l(2);l.p=(d=function(){if(document.currentScript)return document.currentScript.src;var k=document.getElementsByTagName("script");return k[k.length-1].src}()).substring(0,d.lastIndexOf("/"))+"/",o.default=function(k){if(!Object.prototype.hasOwnProperty.call(m,k))throw new Error("No such algorithm ".concat(k));var x=m[k],S=x.pack,w=x.encode;function _(P){return L.apply(this,arguments)}function L(){return(L=u()(c.a.mark(function P(T){var B,N,X;return c.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!S){W.next=6;break}return W.next=3,E.a.msgpack();case 3:W.t0=W.sent.encode(T),W.next=7;break;case 6:W.t0=JSON.stringify(T);case 7:return B=W.t0,W.next=10,m[k].compress(B);case 10:if(N=W.sent,!w){W.next=17;break}return W.next=14,E.a.safe64();case 14:W.t1=W.sent.encode(N),W.next=18;break;case 17:W.t1=N;case 18:return X=W.t1,W.abrupt("return",X);case 20:case"end":return W.stop()}},P)}))).apply(this,arguments)}function O(){return(O=u()(c.a.mark(function P(T){var B,N,X;return c.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!w){W.next=6;break}return W.next=3,E.a.safe64();case 3:W.t0=W.sent.decode(T),W.next=7;break;case 6:W.t0=T;case 7:return B=W.t0,W.next=10,m[k].decompress(B);case 10:if(N=W.sent,!S){W.next=17;break}return W.next=14,E.a.msgpack();case 14:W.t1=W.sent.decode(N),W.next=18;break;case 17:W.t1=JSON.parse(N);case 18:return X=W.t1,W.abrupt("return",X);case 20:case"end":return W.stop()}},P)}))).apply(this,arguments)}function Q(){return(Q=u()(c.a.mark(function P(T){var B,N,X;return c.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return B=JSON.stringify(T),N=encodeURIComponent(B),W.next=4,_(T);case 4:return X=W.sent,W.abrupt("return",{raw:B.length,rawencoded:N.length,compressedencoded:X.length,compression:(ne=N.length/X.length,Math.floor(1e4*ne)/1e4)});case 6:case"end":return W.stop()}var ne},P)}))).apply(this,arguments)}return{compress:_,decompress:function(P){return O.apply(this,arguments)},stats:function(P){return Q.apply(this,arguments)}}}}]).default})})(zo);var Ho=ka(zo.exports);const Iu=sn({name:"DownloadButton",setup(){const e=It(),t=ln(),{t:r}=Ct(),{renderMarkdown:o}=Zi(),{renderMarkdownV3:l}=es(),{renderLatex:s}=is(),{renderTarrasqueJson:i}=ls(),{renderImprovedInitJson:d}=fs(),p=Ho("lzma"),u=bo(),a=async S=>await(await fetch("https://tinyurl.com/api-create.php?url="+encodeURIComponent(S))).text();return{save5emm:()=>{try{Ka(e.$state,`${e.name}.5emm.json`)}catch(S){console.error(S),t.notify({message:r("io.error.json",[S]),type:"negative"})}},saveMd:()=>{try{Yt(o(u.statBlockColumns===2),`${e.name}.md`,"text/markdown")}catch(S){console.error(S),t.notify({message:r("io.error.md",[S]),type:"negative"})}},saveMd3:()=>{try{Yt(l(u.statBlockColumns===2),`${e.name}.md`,"text/markdown")}catch(S){console.error(S),t.notify({message:r("io.error.md",[S]),type:"negative"})}},copyMd:()=>{try{ar(l(u.statBlockColumns===2)),t.notify({message:r("io.copyMd"),type:"positive"})}catch(S){console.error(S),t.notify({message:r("io.error.md",[S]),type:"negative"})}},saveLatex:()=>{Yt(s(u.statBlockColumns===2),`${e.name}.tex`,"text/latex")},saveTio:()=>{Yt(i(),`${e.name}.tio.json`,"application/json")},savePng:()=>{const S=document.getElementById("renderer");S!=null&&(u.statBlockColumns>1&&window.navigator.userAgent.includes("Mozilla")&&t.notify({message:r("editor.ffMulticolPngWarning"),type:"warning"}),Ye.toBlob(S,{embedFonts:!0,scale:2,type:"png"}).then(w=>{const _=URL.createObjectURL(w),L=document.createElement("a");L.download=`${e.name}.png`,L.href=_,L.click()}))},saveImprovedInit:async()=>{Yt(await d(),`${e.name}.improved-initiative.json`,"application/json")},copyLink:async()=>{try{const S=await p.compress(JSON.stringify(e.$state)),w=`${window.location.origin}${window.location.pathname}#/?data=${S}`;try{const _=await a(w);ar(_),t.notify({message:"Copied Sharable Link to Clipboard",type:"positive"})}catch(_){t.notify({message:"Copied long link to Clipboard (unable to shorten)",type:"warning"}),console.log(_),ar(w)}}catch(S){t.notify({message:"Error encoding url. Check console for details.",type:"negative"}),console.log(S)}}}}});function Pu(e,t,r,o,l,s){return je(),Ge(vt,{round:"",flat:"",icon:"download"},{default:ee(()=>[K(Vt,null,{default:ee(()=>[K(tn,null,{default:ee(()=>[pt((je(),Ge(et,{clickable:"",onClick:t[0]||(t[0]=i=>e.save5emm())},{default:ee(()=>[K(Ue,null,{default:ee(()=>[_e(me(e.$t("io.export.default")),1)]),_:1})]),_:1})),[[bt]]),pt((je(),Ge(et,{clickable:"",onClick:t[1]||(t[1]=i=>e.saveMd3())},{default:ee(()=>[K(Ue,null,{default:ee(()=>[_e(me(e.$t("io.export.md3")),1)]),_:1})]),_:1})),[[bt]]),pt((je(),Ge(et,{clickable:"",onClick:t[2]||(t[2]=i=>e.saveImprovedInit())},{default:ee(()=>[K(Ue,null,{default:ee(()=>[_e(me(e.$t("io.export.improvedInit")),1)]),_:1})]),_:1})),[[bt]]),pt((je(),Ge(et,{clickable:"",onClick:t[3]||(t[3]=i=>e.saveLatex())},{default:ee(()=>[K(Ue,null,{default:ee(()=>[_e(me(e.$t("io.export.latex")),1)]),_:1})]),_:1})),[[bt]]),pt((je(),Ge(et,{clickable:"",onClick:t[4]||(t[4]=i=>e.saveTio())},{default:ee(()=>[K(Ue,null,{default:ee(()=>[_e(me(e.$t("io.export.tarrasque")),1)]),_:1})]),_:1})),[[bt]]),pt((je(),Ge(et,{clickable:"",onClick:t[5]||(t[5]=i=>e.saveMd())},{default:ee(()=>[K(Ue,null,{default:ee(()=>[_e(me(e.$t("io.export.md")),1)]),_:1})]),_:1})),[[bt]]),K(dt),pt((je(),Ge(et,{clickable:"",onClick:t[6]||(t[6]=i=>e.savePng())},{default:ee(()=>[K(Ue,null,{default:ee(()=>[_e(me(e.$t("io.export.png")),1)]),_:1})]),_:1})),[[bt]]),pt((je(),Ge(et,{clickable:"",onClick:t[7]||(t[7]=i=>e.copyMd())},{default:ee(()=>[K(Ue,null,{default:ee(()=>[_e(me(e.$t("io.export.mdClip")),1)]),_:1})]),_:1})),[[bt]]),pt((je(),Ge(et,{clickable:"",onClick:t[8]||(t[8]=i=>e.copyLink())},{default:ee(()=>[K(Ue,null,{default:ee(()=>[_e(me(e.$t("io.export.link")),1)]),_:1})]),_:1})),[[bt]])]),_:1})]),_:1})]),_:1})}var Ru=an(Iu,[["render",Pu]]),fo=An({name:"QBtnToggle",props:{...Ea,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:r}){const o=De(()=>e.options.find(h=>h.value===e.modelValue)!==void 0),l=De(()=>({type:"hidden",name:e.name,value:e.modelValue})),s=Aa(l),i=De(()=>Ca(e)),d=De(()=>({rounded:e.rounded,dense:e.dense,...i.value})),p=De(()=>e.options.map((h,b)=>{const{attrs:y,value:f,slot:m,...E}=h;return{slot:m,props:{key:b,"aria-pressed":f===e.modelValue?"true":"false",...y,...E,...d.value,disable:e.disable===!0||E.disable===!0,color:f===e.modelValue?a(E,"toggleColor"):a(E,"color"),textColor:f===e.modelValue?a(E,"toggleTextColor"):a(E,"textColor"),noCaps:a(E,"noCaps")===!0,noWrap:a(E,"noWrap")===!0,size:a(E,"size"),padding:a(E,"padding"),ripple:a(E,"ripple"),stack:a(E,"stack")===!0,stretch:a(E,"stretch")===!0,onClick(k){u(f,h,k)}}}}));function u(h,b,y){e.readonly!==!0&&(e.modelValue===h?e.clearable===!0&&(r("update:modelValue",null,null),r("clear")):r("update:modelValue",h,b),r("click",y))}function a(h,b){return h[b]===void 0?e[b]:h[b]}function c(){const h=p.value.map(b=>Xe(vt,b.props,b.slot!==void 0?t[b.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&o.value===!0&&s(h,"push"),go(t.default,h)}return()=>Xe(Za,{class:"q-btn-toggle",...i.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},c)}});const Ou=sn({name:"WebRendererSettingsButton",setup(){const e=It(),t=bo();return{monsterStore:e,editorStore:t}}}),Du={class:"row no-wrap q-pa-md"},ju={class:"row"},Nu={class:"text-h6 q-mb-md col-12"},Bu={class:"col-12 flex items-center justify-between"},Uu={class:"text-body1 q-mr-md"},Fu={class:"col-12 flex items-center justify-between q-my-sm"},qu={class:"text-body1 q-mr-md"};function Wu(e,t,r,o,l,s){return je(),Ge(vt,{round:"",flat:"",icon:"settings"},{default:ee(()=>[K(Vt,{style:{width:"300px"}},{default:ee(()=>[Me("div",Du,[Me("div",ju,[Me("div",Nu,me(e.$t("editor.renderSettings")),1),Me("div",Bu,[Me("div",Uu,me(e.$t("editor.columns")),1),K(fo,{modelValue:e.editorStore.statBlockColumns,"onUpdate:modelValue":t[0]||(t[0]=i=>e.editorStore.statBlockColumns=i),label:e.$t("editor.settings.cols"),options:[{label:e.$t("editor.settings.one"),value:1},{label:e.$t("editor.settings.two"),value:2}]},null,8,["modelValue","label","options"])]),Me("div",Fu,[Me("div",qu,me(e.$t("editor.settings.style")),1),K(fo,{modelValue:e.editorStore.style,"onUpdate:modelValue":t[1]||(t[1]=i=>e.editorStore.style=i),label:e.$t("editor.settings.style"),options:[{label:e.$t("editor.settings.2014"),value:"2014"},{label:e.$t("editor.settings.2024"),value:"2024"}]},null,8,["modelValue","label","options"])]),e.editorStore.style==="2014"?(je(),Ge(rr,{key:0,modelValue:e.editorStore.condenseImmunities,"onUpdate:modelValue":t[2]||(t[2]=i=>e.editorStore.condenseImmunities=i),class:"col-12",label:e.$t("editor.settings.condenseImmunities")},null,8,["modelValue","label"])):wr("",!0),K(rr,{modelValue:e.monsterStore.useArticleInToken,"onUpdate:modelValue":t[3]||(t[3]=i=>e.monsterStore.useArticleInToken=i),class:"col-12",label:e.$t("editor.settings.article")},null,8,["modelValue","label"]),K(rr,{modelValue:e.monsterStore.alphaTraits,"onUpdate:modelValue":t[4]||(t[4]=i=>e.monsterStore.alphaTraits=i),class:"col-12",label:e.$t("editor.settings.alphaTrait")},null,8,["modelValue","label"])])])]),_:1})]),_:1})}var zu=an(Ou,[["render",Wu]]);function Hu(){const{t:e}=Ct(),t=ln(),r=Sr();if(localStorage.getItem("app.customSpells")!=null&&t.notify({message:e("io.update.v1Spells"),multiLine:!0,group:!1,icon:"update",color:"dark",timeout:0,actions:[{label:e("io.update.v1SpellsDownload"),color:"white",noDismiss:!0,handler:()=>{Yt(localStorage.getItem("app.customSpells"),"v1-spells.5emms.json","application/json")}},{label:"Update",color:"green",handler:()=>{try{r.updateFromV1(),t.notify({message:e("io.update.v1SpellsOk"),type:"positive"})}catch(o){t.notify({message:e("io.update.v1SpellsError",[o]),type:"negative",timeout:0,multiLine:!0,actions:[{label:e("editor.ok"),color:"white"}]})}}}]}),localStorage.getItem("app.customTemplates")!=null){const o=ko();t.notify({message:e("io.update.v1Templates"),multiLine:!0,group:!1,icon:"update",color:"dark",timeout:0,actions:[{label:e("io.update.v1TemplatesDownload"),color:"white",noDismiss:!0,handler:()=>{Yt(localStorage.getItem("app.customTemplates"),"v1-templates.5emmt.json","application/json")}},{label:"Update",color:"green",handler:()=>{try{o.updateFromV1(),t.notify({message:e("io.update.v1TemplatesOk"),type:"positive"})}catch(l){t.notify({message:e("io.update.v1TemplatesError",[l]),type:"negative",timeout:0,multiLine:!0,actions:[{label:e("editor.ok"),color:"white"}]})}}}]})}}function Vu(){const e=It(),t=Sr(),{SrdClass:r}=Ma(),{rechargeTimeKeys:o}=ei(),{autoUpdateCr:l}=ti(),s=ln(),{t:i}=Ct(),d={STR:"strength",DEX:"dexterity",CON:"constitution",INT:"intelligence",WIS:"wisdom",CHA:"charisma"},p={strength:"STR",dexterity:"DEX",constitution:"CON",intelligence:"INT",wisdom:"WIS",charisma:"CHA"},u={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9},a=w=>{s.notify({message:w,type:"warning",timeout:0,multiLine:!0,actions:[{label:i("editor.ok"),color:"white"}]})},c=w=>{const _=RegExp(/\*\*([^\*]+)\*\*/gi);let L=w.replace(_,(O,Q)=>`<b>${Q}</b>`);return L=L.replaceAll(`
`,"<br>"),L},h=w=>{const _=RegExp(/\d+\s\((\d+)d(\d+)[ ]*([+-][ ]*\d+)?\)/gi),L=w.replace(_,(O,Q,P,T)=>`{${Q}d${P}${T||""}}`);return c(L)},b=(w,_=!1)=>{const L=Pa();L.name=w.name,L.description=w.desc;const Q=RegExp(/[\w\d\s]*\(recharge (\d-\d)\)/gi).exec(w.name);Q!=null&&(L.recharge=Q[1],L.name=w.name.substring(0,w.name.indexOf("(")-1));const T=RegExp(/\((\d+)\/(\w+)\)/gi).exec(w.name);return T!=null&&(L.limitedUse.count=parseInt(T[1]),L.limitedUse.rate=T[2].toUpperCase(),L.name=w.name.substring(0,w.name.indexOf("(")-1)),L.description=h(L.description),L.legendaryOnly=_,l(L.description,L.crAnnotation),L.description.match(/^as a bonus action/gi)!=null&&(L.bonusAction=!0),e.actions.push(L),L.id},y=w=>{const _=new RegExp(/is an? (\d+)(?:st|nd|th)-level/gi),L=new RegExp(/spellcasting ability is (\w+)/gi),O=new RegExp(/following (\w+) spells?/gi),Q=new RegExp(/spell save DC (\d+)/gi),P=new RegExp(/\+(\d+) to hit/gi),T=_.exec(w);T!=null?e.spellcasting.level=parseInt(T[1]):a(i("import.error.spellcasterLevel",[w]));const B=O.exec(w);B!=null&&(e.spellcasting.class=B[1].toUpperCase()in r?B[1].toUpperCase():B[1]);const N=L.exec(w);if(N!=null){const z=p[N[1].toLowerCase()];e.spellcasting.stat=z;const j=Q.exec(w),V=P.exec(w);if(j!=null){const C=parseInt(j[1]);e.spellSave!==C&&(e.spellcasting.save.override=!0,e.spellcasting.save.overrideValue=C)}if(V!=null){const C=parseInt(V[1]);e.spellAttackModifier!==C&&(e.spellcasting.attack.override=!0,e.spellcasting.attack.overrideValue=C)}}else a(i("import.error.spellcasterStat",[w]));const X=[...w.matchAll(/(cantrips?)(?= \(at will\): ([^\n$]+))|(\d+)(?:st|nd|th) level \((\d+) slots?\): ([^\n$]+)/gi)],W=[],ne=Object.keys(t.allSpells),D=[];X.forEach(z=>{if(console.log(`[Import] Processing spell list ${z[0]}`),z[1]!=null)z[2].split(",").map(V=>_n.trim(V).replaceAll("*","")).forEach(V=>{const C=ne.find(I=>I.toLowerCase()===V);C!=null?D.push(C):W.push(V)});else{const j=parseInt(z[3]),V=parseInt(z[4]),C=z[5].split(",").map(I=>_n.trim(I).replaceAll("*",""));e.spellcasting.slots[j-1]=V,C.forEach(I=>{const U=ne.find(J=>J.toLowerCase()===I);U!=null?D.push(U):W.push(I)})}}),e.spellcasting.standard=D,W.length>0&&a(i("import.error.spells",[W.join(", ")]))},f=w=>{const _=new RegExp(/spellcasting ability is (\w+)/gi),L=new RegExp(/spell save DC (\d+)/gi),O=new RegExp(/\+(\d+) to hit/gi),Q=_.exec(w);if(Q!=null){const N=p[Q[1].toLowerCase()];e.spellcasting.stat=N;const X=L.exec(w),W=O.exec(w);if(X!=null){const ne=parseInt(X[1]);e.spellSave!==ne&&(e.spellcasting.save.override=!0,e.spellcasting.save.overrideValue=ne)}if(W!=null){const ne=parseInt(W[1]);e.spellAttackModifier!==ne&&(e.spellcasting.attack.override=!0,e.spellcasting.attack.overrideValue=ne)}}else a(i("import.error.innateSpellcasting",[w]));const P=[...w.matchAll(/(?:(at will)|(\d+)\/([^:]+)): ([^\n]+)/gi)],T=[],B=Object.keys(t.allSpells);P.forEach(N=>{const X=[];console.log(`[Import] Processing spell list ${N[0]}`);const W={id:gn(),count:0,rate:"",spells:[]};if(N[1]!=null){W.rate=N[1];const D=W.rate.toUpperCase().replaceAll(" ","_");o.includes(D)?W.rate=D:a(i("import.error.innateRate",[N[0]]))}else if(N[2]!=null){W.rate=N[3];const D=W.rate.toUpperCase().replaceAll(" ","_");o.includes(D)?W.rate=D:a(i("import.error.innateRate",[N[0]])),W.count=parseInt(N[2])}else a(i("import.error.innateSpellList",[N[0]]));N[4].split(",").map(D=>_n.trim(D).replaceAll("*","")).forEach(D=>{const z=B.find(j=>j.toLowerCase()===D);z!=null?X.push(z):T.push(D)}),W.spells=X,e.spellcasting.atWill.push(W)}),T.length>0&&a(i("import.error.spells",[T.join(", ")]))},m=w=>{if(console.log(`[Import] Processing trait ${w.name}`),w.desc.match(/^as a bonus action/gi)!=null)b(w,!1);else if(w.name.toLowerCase()==="innate spellcasting")f(w.desc);else if(w.name.toLowerCase()==="spellcasting")y(w.desc);else{const L=Ra();L.name=w.name,L.description=w.desc;const Q=RegExp(/\((\d+)\/(\w+)\)/gi).exec(w.name);Q!=null&&(L.limitedUse.count=parseInt(Q[1]),L.limitedUse.rate=Q[2].toUpperCase(),L.name=w.name.substring(0,w.name.indexOf("(")-1)),L.description=h(L.description),l(L.description,L.crAnnotation),e.traits.push(L)}},E=(w,_)=>{const L=_==="WEAPON"?["STR","DEX","CON","CHA","WIS","INT"]:["CHA","WIS","INT","STR","DEX","CON"];for(const O of L)if(Hn(e.stats[O])+e.proficiency===w)return console.log(`[Import] guessing ${O} for modifier ${w}`),O},k=w=>{const _=Oa(),O=RegExp(/(Melee|Ranged|Melee or Ranged) (Weapon|Spell) Attack: ([+-]\d+) to hit, (?:reach|range) (\d+|\d+\/\d+) ft\.(?: or (?:reach|range) (\d+)\/(\d+) ft\.)?, (\w+) (?:targets?|creatures?)\./gi).exec(w.desc);if(O!=null){console.log(`[Import] Attack parsing stage 1, info string "${O[0]}"`);const Q=O[1].toUpperCase();_.distance=Q==="MELEE OR RANGED"?"BOTH":Q;const P=O[2].toUpperCase();_.kind=P;const T=E(parseInt(O[3]),_.kind);T!=null?(_.modifier.stat=T,_.modifier.proficient=!0):(_.modifier.stat=_.kind==="SPELL"?"WIS":"STR",_.modifier.override=!0,_.modifier.overrideValue=parseInt(O[3]));const B=O[4];if(B.includes("/")){const ne=B.split("/"),D=parseInt(ne[0]),z=parseInt(ne[1]);_.range.reach=D,_.range.standard=D,_.range.long=z}else _.range.standard=parseInt(B),_.range.reach=parseInt(B);O[5]!=null&&O[6]!=null&&(_.range.standard=parseInt(O[5]),_.range.long=parseInt(O[6]));const N=u[O[7]];N!=null?_.targets=N:a(i("import.error.targets",[w.name,O[7]]));const W=RegExp(/Hit: \d+ \((\d+)d(\d+)\s*([+-]\s*\d+)?\) (\w+) damage\.?(\s?,?\s?plus [^\.]+\.)?(?:,\s?(and [^\.]+\.?))?(.*)/gi).exec(w.desc);if(W!=null){if(console.log(`[Import] Attack parsing stage 2, damage string "${W[0]}"`),_.damage.count=parseInt(W[1]),_.damage.dice=parseInt(W[2]),W[3]!=null){_.damage.modifier.stat=_.modifier.stat;const ne=parseInt(W[3].replaceAll(" ",""));Hn(e.stats[_.damage.modifier.stat])!==ne&&(_.damage.modifier.override=!0,_.damage.modifier.overrideValue=ne)}else _.damage.modifier.override=!0,_.damage.modifier.overrideValue=0;_.damage.type=W[4],W[5]!=null&&(console.log(`[Import] parsing additional damage ${W[5]}`),[...W[5].matchAll(/\((\d+)d(\d+)\) (\w+) damage/gi)].forEach(D=>{_.additionalDamage.push({id:gn(),dice:parseInt(D[2]),count:parseInt(D[1]),type:D[3],note:""})})),W[6]!=null&&(_.description=_.description+`, ${W[6]}`),W[7]!=null&&(_.description+=_.description+" "+W[7])}else a(i("import.error.attackDamageFail",[w.name,w.desc]));_.name=w.name,_.description=h(_.description),e.attacks.push(_)}else{a(i("import.error.attackFail",[w.name,w.desc]));return}},x=(w,_)=>{const O=new RegExp(/can take (\d+) legendary actions?/gi).exec(w);e.legendaryActions.useCustomPreamble=!0,e.legendaryActions.customPreamble=w,O!=null?e.legendaryActions.count=parseInt(O[1]):(console.log(`Legendary action error. Unable to find action count. ${w}`),a(i("import.error.legendaryCount",[w]))),_.forEach(Q=>{const T=new RegExp(/\(costs (\d+) actions?\)/gi).exec(Q.name),B=T!=null?parseInt(T[1]):1,N=T!=null?Q.name.substring(0,Q.name.indexOf("(")-1):Q.name,X=e.attacks.find(W=>W.name.toLowerCase().indexOf(Q.name)!==-1);if(X!=null)e.addLegendaryAction(X.id,B);else{const W=b({name:N,desc:Q.desc},!0);e.addLegendaryAction(W)}})};return{importOpen5eMonster:w=>{var T,B;e.$reset(),e.name=w.name,e.size=w.size,e.type=`${w.type}${w.subtype===""?"":` ${w.subtype}`}`,e.alignment=w.alignment,e.AC=w.armor_class,e.ACType=(T=w.armor_desc)!=null?T:"",e.languages=w.languages;const _=(B=Ta(w.challenge_rating))!=null?B:En[0];e.CR=_.index,e.proficiency=_.proficiency,Object.entries(d).forEach(([N,X])=>{e.stats[N]=w[X]});const O=RegExp(/(\d+)d(\d+)[ ]*([+-][ ]*\d+)?/gi).exec(w.hit_dice);O?(e.HP.HD=parseInt(O[1]),e.HP.type=parseInt(O[2]),e.HP.modifier=O[3]==null?0:parseInt(O[3])):a(i("import.error.hp",[w.hit_dice])),e.speeds=[];for(const N of Object.entries(w.speed))e.speeds.push({id:gn(),type:N[0],speed:N[1],note:""});return Object.entries(d).forEach(([N,X])=>{const W=`${X}_save`,ne=w[W];if(ne!=null){e.saves[N].proficient=!0;const D=La(e,N);D!==ne&&(console.log(`[Import] Save different than proficiency expected, overriding. ${N} expected ${D} got ${ne}`),e.saves[N].override=!0,e.saves[N].overrideValue=ne)}}),e.computedPassivePerception!==w.perception&&(e.passivePerception.override=!0,e.passivePerception.overrideValue=w.perception),Object.entries(w.skills).forEach(([N,X])=>{const W=N.toUpperCase().replaceAll(" ","_"),ne=Ia[W];if(ne!=null){const D={key:W,skill:ne,proficient:!1,expertise:!1,override:!1,overrideValue:X},z=or(e,D);D.proficient=!0;const j=or(e,D);D.expertise=!0;const V=or(e,D);X===z?(D.proficient=!1,D.expertise=!1):X===j?(D.proficient=!0,D.expertise=!1):X===V?(D.expertise=!0,D.proficient=!1):(D.proficient=!1,D.expertise=!1,D.override=!0),e.skills.push(D)}else console.log(`[Import] Failed to resolve skill for key ${W}. Raw value: ${N}`),a(i("import.error.skill",[W,N]))}),w.senses.split(",").forEach(N=>{const X=N.split(" ").filter(ne=>ne!==""),W=X[0].toLowerCase();W in e.senses?e.senses[W]=parseInt(X[1]):W!=="passive"&&(console.log(`[Import] Unknown sense: ${W}`),a(i("import.error.sense",[W])))}),e.vulnerabilities=w.damage_vulnerabilities.split(", ").filter(N=>N!==""),e.resistances=w.damage_resistances.split(", ").filter(N=>N!==""),e.immunities=w.damage_immunities.split(", ").filter(N=>N!==""),e.conditions=w.condition_immunities.split(", ").filter(N=>N!==""),w.actions!==""&&w.actions.forEach(N=>{N.desc.startsWith("Melee")||N.desc.startsWith("Ranged")?(console.log(`[Import] Processing attack ${N.name}`),k(N)):(console.log(`[Import] Processing action ${N.name}`),N.name==="Multiattack"?(a(i("import.multiattack")),e.multiattacks.push({id:gn(),attacks:[],actions:[]}),e.multiattackOptions.useCustomRenderer=!0,e.multiattackOptions.customMultiattackRenderer=h(N.desc)):b(N))}),w.special_abilities!==""&&w.special_abilities.forEach(N=>{m(N)}),w.reactions!=null&&w.reactions!==""&&w.reactions.forEach(N=>{e.reactions.push({id:gn(),name:N.name,description:h(N.desc),limitedUse:{count:0,rate:"DAY"},trigger:""})}),w.legendary_desc!==""&&w.legendary_actions!=""&&x(w.legendary_desc,w.legendary_actions),e.$persist(),!0}}}const Yu={class:"text-h6"},Qu={class:"q-mb-md"},Ju={href:"https://open5e.com/",target:"_blank"},Gu={class:"q-pt-md text-caption"},Xu="https://api.open5e.com/monsters/",Ku=sn({__name:"ImportButton",setup(e){const{t}=Ct(),r=We([]),o=We(""),l=We(null),s=We(null),i=We(0),d=We(!1),p=We(!1),u=De(()=>r.value.map(k=>({value:k.name,label:k.name,source:k.document__title,cr:k.challenge_rating,description:`${k.size} ${k.type}${k.subtype===""?"":` ${k.subtype}`}, ${k.alignment}`}))),a=We(!1),c=De(()=>u.value.findIndex(k=>k.value===o.value)===-1),h=De(()=>r.value.length===0?t("import.results",0):t("import.description",[r.value.length,t("import.results",i.value)])),b=async(k,x,S)=>{d.value=!0;try{const w=`${Xu}?search=${k.toLowerCase()}`,L=await(await fetch(w)).json();l.value=L.next,s.value=L.previous,i.value=L.count,x(()=>{r.value=L.results})}catch(w){console.error(w),S(),x(()=>r.value=[])}d.value=!1},y=async({to:k,ref:x})=>{const S=r.value.length-1;if(d.value!==!0&&k===S&&l.value){d.value=!0;const w=l.value,L=await(await fetch(w)).json();l.value=L.next,s.value=L.previous,i.value=L.count,r.value.push(...L.results),ja(()=>{x.refresh(),d.value=!1})}},{importOpen5eMonster:f}=Vu(),m=ln(),E=async()=>{p.value=!0,setTimeout(()=>{const k=r.value.find(x=>x.name===o.value);k?f(k)&&(a.value=!1):m.notify({message:t("import.error.notFound"),type:"negative"}),p.value=!1},100)};return(k,x)=>{const S=_t("i18n-t");return je(),xt(jt,null,[K(vt,{round:"",flat:"",icon:"cloud_upload",onClick:x[0]||(x[0]=w=>a.value=!0)},{default:ee(()=>[K(_o,{class:"text-body2"},{default:ee(()=>[_e(me(k.$t("import.tooltip")),1)]),_:1})]),_:1}),K(vo,{modelValue:a.value,"onUpdate:modelValue":x[2]||(x[2]=w=>a.value=w)},{default:ee(()=>[K(Bt,{class:"q-dialog-plugin",style:{width:"50vw"}},{default:ee(()=>[K(kt,null,{default:ee(()=>[Me("div",Yu,me(k.$t("import.title")),1)]),_:1}),K(dt),K(kt,{class:"q-pt-md"},{default:ee(()=>[Me("div",Qu,[K(S,{keypath:"import.help"},{default:ee(()=>[Me("a",Ju,me(k.$t("import.open5eLink")),1)]),_:1})]),K(Da(xo),{modelValue:o.value,"onUpdate:modelValue":x[1]||(x[1]=w=>o.value=w),filled:"","use-input":"","hide-selected":"","fill-input":"","emit-value":"",hint:h.value,label:k.$t("import.label"),options:u.value,disable:p.value,style:{width:"100%"},onFilter:b,onVirtualScroll:y},{after:ee(()=>[K(vt,{color:"positive",disable:c.value||p.value,loading:p.value,onClick:E},{default:ee(()=>[_e(me(k.$t("import.import")),1)]),_:1},8,["disable","loading"])]),option:ee(w=>[K(et,wo(So(w.itemProps)),{default:ee(()=>[K(Ue,{avatar:""},{default:ee(()=>[K(Nt,{color:"primary"},{default:ee(()=>[_e(me(w.opt.cr),1)]),_:2},1024)]),_:2},1024),K(Ue,null,{default:ee(()=>[K(rt,null,{default:ee(()=>[_e(me(w.opt.label),1)]),_:2},1024),K(rt,{caption:""},{default:ee(()=>[_e(me(w.opt.description),1),x[3]||(x[3]=Me("br",null,null,-1)),_e(me(w.opt.source),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","hint","label","options","disable"]),Me("div",Gu,me(k.$t("import.additional")),1)]),_:1}),K($o,{align:"right"},{default:ee(()=>[pt(K(vt,{flat:"",label:k.$t("editor.cancel"),color:"primary"},null,8,["label"]),[[bt]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});const Zu=sn({name:"TemplateSearch",components:{ImportButton:Ku},setup(){const e=We(""),{t}=Ct(),r=ln(),o=We(),l=ko(),s=De(()=>l.allTemplateOptions),i=We(s.value),d=ni(s,i);return{search:e,templateStore:l,addTemplate:a=>{a!=null&&(l.applyTemplate(a)?r.notify({message:t("editor.template.applied",[_n.capitalize(a)]),type:"positive"}):r.notify({message:t("editor.template.failed",[_n.capitalize(a)]),type:"negative"}))},filteredTemplateOptions:i,templateFilter:d,templateRef:o,actionColor:Ja,checkPopupStatus:()=>{o.value&&o.value.showPopup()},defaultIcon:ri}}}),ec={style:{display:"flex"}},tc={class:"q-ml-sm"};function nc(e,t,r,o,l,s){const i=_t("import-button");return je(),xt("div",ec,[K(xo,{ref:"templateRef","model-value":e.search,options:e.filteredTemplateOptions,class:"template-search",dense:"",standout:"","option-value":"templateName","option-label":"templateName","emit-value":"",clearable:"","use-input":"","hide-selected":"","input-debounce":"0",behavior:"dialog",placeholder:"Search for Actions, Traits, and Attacks",onFilter:e.templateFilter,"onUpdate:modelValue":e.addTemplate,onInputValue:e.checkPopupStatus},{option:ee(d=>[K(et,wo(So(d.itemProps)),{default:ee(()=>[K(Ue,{avatar:""},{default:ee(()=>[K(kn,{name:d.opt.icon===""?e.defaultIcon[d.opt.type]:d.opt.icon},null,8,["name"])]),_:2},1024),K(Ue,null,{default:ee(()=>[K(rt,null,{default:ee(()=>[_e(me(d.opt.templateName),1)]),_:2},1024),K(rt,{lines:"1",caption:""},{default:ee(()=>[_e(me(e.templateStore.allTemplateSubtitles[d.opt.templateName]),1)]),_:2},1024)]),_:2},1024),K(Ue,{side:"",top:""},{default:ee(()=>[K(oi,{color:e.actionColor[d.opt.type]},{default:ee(()=>[_e(me(e.$t(`editor.template.type.${d.opt.type}`)),1)]),_:2},1032,["color"])]),_:2},1024)]),_:2},1040)]),_:1},8,["model-value","options","onFilter","onUpdate:modelValue","onInputValue"]),Me("div",tc,[K(i)])])}var rc=an(Zu,[["render",nc],["__scopeId","data-v-403d5648"]]);const oc=sn({name:"MainLayout",components:{AppDrawer:Ga,CrFooter:Xi,GenericFooter:Xa,DownloadButton:Ru,WebRendererSettingsButton:zu,TemplateSearch:rc},setup(){const e=We(!1),t=Na(),r=Ho("lzma"),o=ln(),{loadMonster:l}=Nr();Hu();const{loadFile:s}=Nr(),i=async()=>{const b=await Ki();b&&s(b)},d=t.query.data!=null,p=We(!1),u=We({});d&&(async()=>{try{const b=await r.decompress(t.query.data),y=JSON.parse(b);u.value=y,p.value=!0}catch{o.notify({message:"Invalid data parameter",type:"negative"}),t.query.data=""}})();const c=()=>{d&&l(u.value),p.value=!1},h=()=>{window.open("https://opendnd.games")};return ho(()=>{if(!d&&window.location.search.startsWith("?data")){const b=window.location.search;window.location.search="",window.location.href=`${window.location.origin}${window.location.pathname}#/${b}`}}),{toggleLeftDrawer(){e.value=!e.value},loadFileDialog:i,dataParamFound:d,showDataLoad:p,queryData:u,loadFromDataParam:c,leftDrawerOpen:e,openDnd:h}}}),ac={class:"q-ml-sm"},ic={class:"template-bar"},sc={class:"q-gutter-sm row items-center no-wrap"},lc={class:"text-h6"},uc={class:"q-my-sm"};function cc(e,t,r,o,l,s){const i=_t("template-search"),d=_t("web-renderer-settings-button"),p=_t("download-button"),u=_t("app-drawer"),a=_t("router-view"),c=_t("cr-footer"),h=_t("generic-footer");return je(),Ge(Ua,{view:"hHh lpR fFf"},{default:ee(()=>[K(Wa,{id:"main-nav",elevated:"","height-hint":"64"},{default:ee(()=>[K(Fa,null,{default:ee(()=>[K(vt,{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu",class:"q-mr-sm",onClick:e.toggleLeftDrawer},null,8,["onClick"]),e.$q.screen.gt.xs?(je(),Ge(qa,{key:0,shrink:"",class:"row items-center no-wrap"},{default:ee(()=>[Me("span",ac,me(e.$t("app.name")),1)]),_:1})):wr("",!0),K(Br),Me("div",ic,[K(i)]),K(Br),Me("div",sc,[K(d),K(vt,{round:"",flat:"",icon:"mdi-folder-open",onClick:t[0]||(t[0]=b=>e.loadFileDialog())}),K(p)])]),_:1})]),_:1}),K(u,{"left-drawer-open":e.leftDrawerOpen},null,8,["left-drawer-open"]),K(za,null,{default:ee(()=>[K(a)]),_:1}),K(Ha,{id:"footer",elevated:""},{default:ee(()=>[K(Bt,{class:"full-width"},{default:ee(()=>[K(kt,{class:"bg-blue-grey-7 no-padding"},{default:ee(()=>[K(c)]),_:1}),K(kt,{class:"bg-grey-10 no-padding"},{default:ee(()=>[K(h)]),_:1})]),_:1})]),_:1}),K(vo,{modelValue:e.showDataLoad,"onUpdate:modelValue":t[1]||(t[1]=b=>e.showDataLoad=b),persistent:""},{default:ee(()=>[K(Bt,null,{default:ee(()=>[K(kt,null,{default:ee(()=>[Me("div",lc,me(e.$t("io.dataUrl.title")),1),Me("div",uc,me(e.$t("io.dataUrl.loadText",[e.queryData.name])),1)]),_:1}),K($o,{align:"right"},{default:ee(()=>[K(vt,{flat:"",label:e.$t("editor.load"),color:"positive",onClick:e.loadFromDataParam},null,8,["label","onClick"]),pt(K(vt,{flat:"",label:e.$t("editor.cancel"),color:"negative"},null,8,["label"]),[[bt]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var fc=an(oc,[["render",cc]]),xc=Object.freeze(Object.defineProperty({__proto__:null,default:fc},Symbol.toStringTag,{value:"Module"}));export{xc as M,wn as l};
